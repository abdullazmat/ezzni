[{"filePath":"C:\\ezzni\\frontend\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\components\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\components\\TripDetailsModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[609,612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[609,612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArrowLeft, Star } from 'lucide-react';\r\n\r\n// Vehicle Icons\r\nimport bikeIcon from '../assets/icons/bike.png';\r\nimport carIcon from '../assets/icons/car.png';\r\nimport taxiIcon from '../assets/icons/taxi.png';\r\nimport mastercardIcon from '../assets/icons/mastercard.png';\r\nimport visaIcon from '../assets/icons/visa.png';\r\nimport cashIcon from '../assets/icons/cash.png';\r\nimport pickupIcon from '../assets/icons/pickup.png';\r\nimport destinationIcon from '../assets/icons/destination.png';\r\nimport locationSwapIcon from '../assets/icons/location icon.png';\r\n\r\ninterface TripDetailsModalProps {\r\n  trip: any;\r\n  onClose: () => void;\r\n}\r\n\r\nexport const TripDetailsModal = ({ trip, onClose }: TripDetailsModalProps) => {\r\n  return (\r\n    <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.6)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem', backdropFilter: 'blur(8px)' }}>\r\n      <style dangerouslySetInnerHTML={{ __html: `\r\n        .modal-card {\r\n            width: 100%;\r\n            max-width: 900px;\r\n            max-height: 95vh;\r\n            overflow-y: auto;\r\n            padding: 2.5rem;\r\n            background-color: #f8fafc;\r\n            border-radius: 2rem;\r\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);\r\n            position: relative;\r\n        }\r\n        .section-card {\r\n            background-color: white;\r\n            padding: 2rem;\r\n            border-radius: 1.5rem;\r\n            margin-bottom: 2rem;\r\n            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02), 0 2px 4px -1px rgba(0,0,0,0.01);\r\n            border: 1px solid #f1f5f9;\r\n        }\r\n        .section-title {\r\n            font-size: 1.25rem;\r\n            font-weight: 800;\r\n            margin-bottom: 1.5rem;\r\n            color: #111827;\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 0.5rem;\r\n        }\r\n        .info-layout {\r\n            display: flex;\r\n            gap: 2.5rem;\r\n            align-items: flex-start;\r\n        }\r\n        .info-fields-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n            gap: 2rem;\r\n            flex: 1;\r\n            width: 100%;\r\n        }\r\n        .info-item {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 0.4rem;\r\n        }\r\n        .info-label {\r\n            font-size: 0.8rem;\r\n            color: #64748b;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0.025em;\r\n        }\r\n        .info-value {\r\n            font-size: 1rem;\r\n            font-weight: 700;\r\n            color: #0f172a;\r\n            word-break: break-all;\r\n        }\r\n        .stats-bar {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            background-color: #ffffff;\r\n            padding: 1.5rem 2.5rem;\r\n            border-radius: 1.25rem;\r\n            margin-bottom: 2rem;\r\n            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.04);\r\n            border: 1px solid #f1f5f9;\r\n        }\r\n        @media (max-width: 1024px) {\r\n            .info-fields-grid {\r\n                grid-template-columns: repeat(2, 1fr);\r\n            }\r\n        }\r\n        @media (max-width: 768px) {\r\n            .modal-card {\r\n                padding: 1.5rem;\r\n                padding-top: 3.5rem;\r\n            }\r\n            .info-layout {\r\n                flex-direction: column;\r\n                align-items: center;\r\n                gap: 2rem;\r\n            }\r\n            .info-fields-grid {\r\n                grid-template-columns: repeat(2, 1fr);\r\n                gap: 1.5rem;\r\n                text-align: left;\r\n            }\r\n            .section-card {\r\n                padding: 1.5rem;\r\n            }\r\n            .stats-bar {\r\n                flex-wrap: wrap;\r\n                gap: 1.5rem;\r\n                padding: 1.5rem;\r\n            }\r\n            .stats-bar > div {\r\n                flex: 1;\r\n                min-width: calc(50% - 0.75rem);\r\n            }\r\n        }\r\n        @media (max-width: 480px) {\r\n            .info-fields-grid {\r\n                grid-template-columns: 1fr;\r\n                gap: 1.25rem;\r\n            }\r\n            .stats-bar > div {\r\n                min-width: 100%;\r\n                text-align: center;\r\n            }\r\n            .info-item {\r\n                align-items: center;\r\n                text-align: center;\r\n            }\r\n        }\r\n      `}} />\r\n      <div className=\"modal-card\">\r\n        \r\n        {/* Header */}\r\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '2rem' }}>\r\n          <button \r\n            onClick={onClose}\r\n            style={{ marginRight: '1rem', background: 'none', border: 'none', cursor: 'pointer', padding: '0.5rem', borderRadius: '50%', display: 'flex', alignItems: 'center' }}\r\n          >\r\n            <ArrowLeft size={24} color=\"#1f2937\" />\r\n          </button>\r\n          <div>\r\n            <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', margin: 0, color: '#111827' }}>Live Trip Details - {trip.id}</h2>\r\n            <p style={{ margin: '0.25rem 0 0 0', color: '#6b7280', fontSize: '0.9rem' }}>View information for archived live trip</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Bar */}\r\n        <div className=\"stats-bar\">\r\n           <div>\r\n               <div style={{ fontSize: '0.85rem', color: '#94a3b8', marginBottom: '0.25rem', fontWeight: '500' }}>Start Time</div>\r\n               <div style={{ fontSize: '1.1rem', fontWeight: '700', color: '#111827' }}>14:30</div>\r\n           </div>\r\n           <div>\r\n               <div style={{ fontSize: '0.85rem', color: '#94a3b8', marginBottom: '0.25rem', fontWeight: '500' }}>End Time</div>\r\n               <div style={{ fontSize: '1.1rem', fontWeight: '700', color: '#111827' }}>14:55</div>\r\n           </div>\r\n           <div>\r\n               <div style={{ fontSize: '0.85rem', color: '#94a3b8', marginBottom: '0.25rem', fontWeight: '500' }}>Distance</div>\r\n               <div style={{ fontSize: '1.1rem', fontWeight: '700', color: '#111827' }}>45km</div>\r\n           </div>\r\n           <div>\r\n               <span style={{ backgroundColor: '#eef7f0', color: '#38AC57', padding: '0.5rem 1.25rem', borderRadius: '0.75rem', fontSize: '0.85rem', fontWeight: '600' }}>Completed</span>\r\n           </div>\r\n        </div>\r\n\r\n        {/* Passenger Information */}\r\n        <div className=\"section-card\">\r\n            <h3 className=\"section-title\">Passenger Information</h3>\r\n            <div className=\"info-layout\">\r\n                <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                    <img src={trip.rider.img} alt={trip.rider.name} style={{ width: '100px', height: '100px', borderRadius: '50%', objectFit: 'cover', border: '4px solid #f1f5f9' }} />\r\n                    <div style={{ \r\n                        position: 'absolute', \r\n                        bottom: '-8px', \r\n                        left: '50%', \r\n                        transform: 'translateX(-50%)', \r\n                        backgroundColor: 'white', \r\n                        padding: '4px 12px', \r\n                        borderRadius: '2rem', \r\n                        fontSize: '0.85rem', \r\n                        fontWeight: '800',\r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        gap: '4px', \r\n                        boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\r\n                        whiteSpace: 'nowrap',\r\n                        border: '1px solid #f1f5f9',\r\n                        color: '#111827'\r\n                    }}>\r\n                        <Star size={14} fill=\"#fbbf24\" color=\"#fbbf24\" /> {trip.rider.rating}\r\n                    </div>\r\n                </div>\r\n                <div className=\"info-fields-grid\">\r\n                    <div className=\"info-item\">\r\n                        <span className=\"info-label\">Full Name</span>\r\n                        <span className=\"info-value\">{trip.rider.name}</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Customer ID</span>\r\n                        <span className=\"info-value\">{trip.rider.id}</span>\r\n                    </div>\r\n                     <div className=\"info-item\">\r\n                         <span className=\"info-label\">Category</span>\r\n                        <span className=\"info-value\">Taxi</span>\r\n                    </div>\r\n                     <div className=\"info-item\">\r\n                         <span className=\"info-label\">Gender</span>\r\n                        <div className=\"info-value\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                           <span style={{ fontSize: '1.1rem' }}>ΓÖé</span> Male\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                        <span className=\"info-label\">Email</span>\r\n                        <span className=\"info-value\">{trip.rider.name.toLowerCase().replace(' ', '')}@gmail.com</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Phone</span>\r\n                        <span className=\"info-value\">+212 6 12 34 56</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">City</span>\r\n                        <span className=\"info-value\">Casablanca</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Driver Information */}\r\n        <div className=\"section-card\">\r\n            <h3 className=\"section-title\">Driver Information</h3>\r\n             <div className=\"info-layout\">\r\n                <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                    <img src={trip.driver.img} alt={trip.driver.name} style={{ width: '100px', height: '100px', borderRadius: '50%', objectFit: 'cover', border: '4px solid #f1f5f9' }} />\r\n                     <div style={{ \r\n                         position: 'absolute', \r\n                         bottom: '-8px', \r\n                         left: '50%', \r\n                         transform: 'translateX(-50%)', \r\n                         backgroundColor: 'white', \r\n                         padding: '4px 12px', \r\n                         borderRadius: '2rem', \r\n                         fontSize: '0.85rem', \r\n                         fontWeight: '800',\r\n                         display: 'flex', \r\n                         alignItems: 'center', \r\n                         gap: '4px', \r\n                         boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)',\r\n                         whiteSpace: 'nowrap',\r\n                         border: '1px solid #f1f5f9',\r\n                         color: '#111827'\r\n                     }}>\r\n                        <Star size={14} fill=\"#fbbf24\" color=\"#fbbf24\" /> {trip.driver.rating}\r\n                    </div>\r\n                </div>\r\n                 <div className=\"info-fields-grid\">\r\n                    <div className=\"info-item\">\r\n                        <span className=\"info-label\">Full Name</span>\r\n                        <span className=\"info-value\">{trip.driver.name}</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Vehicle Type</span>\r\n                        <div className=\"info-value\" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                            <img src={trip.vehicle === 'Motorcycle' ? bikeIcon : trip.vehicle === 'Car' ? carIcon : taxiIcon} alt=\"\" style={{ height: '24px', width: 'auto' }} />\r\n                            {trip.vehicle}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Phone</span>\r\n                        <span className=\"info-value\">+212 6 12 34 56</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Email</span>\r\n                        <span className=\"info-value\">{trip.driver.name.toLowerCase().replace(' ', '')}@gmail.com</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Driver ID</span>\r\n                        <span className=\"info-value\">{trip.driver.id}</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">City</span>\r\n                        <span className=\"info-value\">Casablanca</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Gender</span>\r\n                        <div className=\"info-value\" style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                           <span style={{ fontSize: '1.1rem' }}>ΓÖé</span> Male\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Vehicle Information */}\r\n        <div className=\"section-card\">\r\n            <h3 className=\"section-title\">Vehicle Information</h3>\r\n            <div className=\"info-fields-grid\">\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Driver ID</span>\r\n                    <span className=\"info-value\">D-00045</span>\r\n                 </div>\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Vehicle Colour</span>\r\n                    <div className=\"info-value\" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                        <span style={{ width: '12px', height: '12px', borderRadius: '50%', border: '1px solid #e2e8f0', backgroundColor: 'white' }}></span>\r\n                        White\r\n                    </div>\r\n                 </div>\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Licence Plate Num</span>\r\n                    <span className=\"info-value\">8 | 1 | 26363</span>\r\n                 </div>\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Make & Model</span>\r\n                    <span className=\"info-value\">Dacia Logan</span>\r\n                 </div>\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Year</span>\r\n                    <span className=\"info-value\">2020</span>\r\n                 </div>\r\n                 <div className=\"info-item\">\r\n                    <span className=\"info-label\">Join Date</span>\r\n                    <span className=\"info-value\">2023-01-15</span>\r\n                 </div>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Pickup & Destination Cards */}\r\n        <div style={{ marginBottom: '1.5rem', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '8px', position: 'relative' }}>\r\n            {/* Pickup Card */}\r\n            <div className=\"card\" style={{ width: '100%', backgroundColor: 'white', padding: '1rem', borderRadius: '1rem', boxShadow: '0 1px 3px rgba(0,0,0,0.05)', display: 'flex', alignItems: 'center', gap: '1rem', position: 'relative' }}>\r\n                <img src={pickupIcon} alt=\"pickup\" style={{ width: '32px', height: '32px', objectFit: 'contain', flexShrink: 0 }} />\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                     <div style={{ fontSize: '0.9rem', color: '#94a3b8', fontWeight: '400', fontFamily: 'Outfit, Inter, sans-serif' }}>Pickup</div>\r\n                     <div style={{ fontSize: '1.1rem', fontWeight: '600', color: '#111827', marginTop: '2px', fontFamily: 'Outfit, Inter, sans-serif', wordBreak: 'break-word' }}>Current Location, Marrakech</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Swap Icon Circle - Further Enlarged */}\r\n            <div style={{ \r\n                width: '64px', \r\n                height: '64px', \r\n                borderRadius: '50%', \r\n                backgroundColor: 'white', \r\n                border: '1px solid #f1f5f9', \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                justifyContent: 'center',\r\n                boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n                margin: '-36px 0',\r\n                zIndex: 10\r\n            }}>\r\n                <img src={locationSwapIcon} alt=\"swap\" style={{ width: '38px', height: '38px', objectFit: 'contain' }} />\r\n            </div>\r\n\r\n            {/* Destination Card */}\r\n            <div className=\"card\" style={{ width: '100%', backgroundColor: 'white', padding: '1rem', borderRadius: '1rem', boxShadow: '0 1px 3px rgba(0,0,0,0.05)', display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                <img src={destinationIcon} alt=\"destination\" style={{ width: '32px', height: '32px', objectFit: 'contain', flexShrink: 0 }} />\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                     <div style={{ fontSize: '0.9rem', color: '#94a3b8', fontWeight: '400', fontFamily: 'Outfit, Inter, sans-serif' }}>Destination</div>\r\n                     <div style={{ fontSize: '1.1rem', fontWeight: '600', color: '#111827', marginTop: '2px', fontFamily: 'Outfit, Inter, sans-serif', wordBreak: 'break-word' }}>Current Location, Marrakech</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        {/* Payment Information */}\r\n         <div className=\"section-card\" style={{ marginBottom: '1rem' }}>\r\n            <h3 className=\"section-title\">Payment Information</h3>\r\n            <div>\r\n                {/* Profile/Avatar Section */}\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: '2.5rem' }}>\r\n                     <div style={{ position: 'relative' }}>\r\n                        <img src={trip.rider.img} alt=\"\" style={{ width: '80px', height: '80px', borderRadius: '50%', objectFit: 'cover', border: '3px solid #f1f5f9' }} />\r\n                         <div style={{ \r\n                             position: 'absolute', \r\n                             bottom: '-10px', \r\n                             left: '50%', \r\n                             transform: 'translateX(-50%)', \r\n                             backgroundColor: 'white', \r\n                             padding: '4px 12px', \r\n                             borderRadius: '2rem', \r\n                             fontSize: '0.8rem', \r\n                             fontWeight: '800',\r\n                             display: 'flex', \r\n                             alignItems: 'center', \r\n                             gap: '4px', \r\n                             boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)', \r\n                             border: '1px solid #f1f5f9',\r\n                             color: '#111827'\r\n                         }}>\r\n                            <Star size={12} fill=\"#fbbf24\" color=\"#fbbf24\" /> {trip.rider.rating}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"info-fields-grid\">\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">TVA</span>\r\n                         <span className=\"info-value\">1%</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Service fee</span>\r\n                         <span className=\"info-value\">0.00 MAD</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Payment Method</span>\r\n                         <div className=\"info-value\" style={{ display: 'flex', alignItems: 'center', gap: '8px', height: '1.5rem' }}>\r\n                            <img \r\n                                src={trip.paymentMethod === 'visa' ? visaIcon : trip.paymentMethod === 'mastercard' ? mastercardIcon : cashIcon} \r\n                                alt=\"\" \r\n                                style={{ height: '16px', width: 'auto', display: 'block', imageRendering: 'pixelated' }} \r\n                            />\r\n                            <span>{trip.paymentMethod.toUpperCase()}</span>\r\n                         </div>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                         <span className=\"info-label\">Discount</span>\r\n                         <span className=\"info-value\">0%</span>\r\n                    </div>\r\n                     <div className=\"info-item\">\r\n                         <span className=\"info-label\">Total Amount</span>\r\n                         <span className=\"info-value\" style={{ fontSize: '1.25rem', color: '#38AC57' }}>{trip.fare}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\AllServices.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\ArchiveTrips.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\CouponTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Coupons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\CouponsModals.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":213,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6843,6846],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6843,6846],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":418,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":418,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15579,15582],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15579,15582],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":423,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":423,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15782,15785],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15782,15785],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":526,"column":149,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":526,"endColumn":152,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20274,20277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20274,20277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":542,"column":135,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":542,"endColumn":138,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[21371,21374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[21371,21374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { \r\n  X, \r\n  ArrowLeft,\r\n  Info\r\n} from 'lucide-react';\r\nimport { Promotion } from './CouponTypes';\r\nimport carIcon from '../assets/icons/car.png';\r\nimport deliveryIcon from '../assets/icons/Delivery Services.png';\r\nimport motorcycleIcon from '../assets/icons/bike.png';\r\nimport rentalCarIcon from '../assets/icons/rental car.png';\r\nimport taxiIcon from '../assets/icons/taxi.png';\r\n\r\ninterface CouponsModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  promotion: Promotion | null;\r\n  onUpdate: (promotion: Promotion) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nexport const CouponsModal = ({ isOpen, onClose, promotion, onUpdate, onDelete }: CouponsModalProps) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedPromo, setEditedPromo] = useState<Promotion | null>(null);\r\n  const [showToast, setShowToast] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (promotion) {\r\n      setEditedPromo(promotion);\r\n      setIsEditing(false); // Reset editing state when promotion changes\r\n    }\r\n  }, [promotion]);\r\n\r\n  if (!isOpen || !promotion || !editedPromo) return null;\r\n\r\n  const handleBackdropClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onUpdate(editedPromo);\r\n    setIsEditing(false);\r\n    setShowToast(true);\r\n    setTimeout(() => setShowToast(false), 3000);\r\n  };\r\n\r\n  const handleToggleService = (serviceId: string) => {\r\n    if (!isEditing) return;\r\n    setEditedPromo(prev => {\r\n      if (!prev) return null;\r\n      const services = prev.eligibleServices.includes(serviceId)\r\n        ? prev.eligibleServices.filter(id => id !== serviceId)\r\n        : [...prev.eligibleServices, serviceId];\r\n      return { ...prev, eligibleServices: services };\r\n    });\r\n  };\r\n\r\n  const services = [\r\n    { id: 'Rides', label: 'Rides', icon: carIcon },\r\n    { id: 'Deliveries', label: 'Deliveries', icon: deliveryIcon },\r\n    { id: 'Motorcycle', label: 'Motorcycle', icon: motorcycleIcon },\r\n    { id: 'Rental Car', label: 'Rental Car', icon: rentalCarIcon },\r\n    { id: 'Taxi', label: 'Taxi', icon: taxiIcon }\r\n  ];\r\n\r\n  const inputStyle: React.CSSProperties = {\r\n    width: '100%',\r\n    padding: '8px 12px',\r\n    borderRadius: '8px',\r\n    border: '1px solid #e5e7eb',\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    outline: 'none'\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"pm-overlay\"\r\n      onClick={handleBackdropClick}\r\n      style={{\r\n        position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.4)', display: 'flex',\r\n        alignItems: 'flex-start', justifyContent: 'center', zIndex: 1000,\r\n        backdropFilter: 'blur(4px)', padding: '20px', overflowY: 'auto'\r\n      }}\r\n    >\r\n      <style>{`\r\n        .pm-container {\r\n            background-color: white;\r\n            border-radius: 32px;\r\n            width: 100%;\r\n            max-width: 750px;\r\n            margin-top: 20px;\r\n            margin-bottom: 20px;\r\n            position: relative;\r\n            padding: 2.5rem;\r\n            color: #111827;\r\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n        .pm-header-btn {\r\n            border: none;\r\n            background: #f3f4f6;\r\n            cursor: pointer;\r\n            padding: 10px;\r\n            border-radius: 14px;\r\n            margin-bottom: 1.5rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            width: fit-content;\r\n            transition: all 0.2s;\r\n        }\r\n        .pm-header-btn:hover {\r\n            background-color: #e5e7eb;\r\n        }\r\n        .pm-section-card {\r\n            background-color: #f9fafb;\r\n            border-radius: 24px;\r\n            padding: 2rem;\r\n            display: grid;\r\n            grid-template-columns: repeat(4, 1fr);\r\n            gap: 1.5rem;\r\n            margin-bottom: 2rem;\r\n            border: 1px solid #f3f4f6;\r\n        }\r\n        .pm-services-grid {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            gap: 0.75rem;\r\n            margin-bottom: 2.5rem;\r\n        }\r\n        .pm-footer-actions {\r\n            display: flex;\r\n            gap: 1rem;\r\n            margin-top: 1rem;\r\n        }\r\n        .pm-action-btn {\r\n            flex: 1;\r\n            padding: 16px;\r\n            border-radius: 100px;\r\n            font-weight: 800;\r\n            font-size: 1.1rem;\r\n            cursor: pointer;\r\n            border: none;\r\n            transition: all 0.2s;\r\n        }\r\n        .pm-input-label {\r\n            font-size: 12px;\r\n            color: #6B7280;\r\n            font-weight: 700;\r\n            margin-bottom: 6px;\r\n        }\r\n\r\n        .pm-col-span-2 {\r\n            grid-column: span 2;\r\n        }\r\n        .pm-col-span-4 {\r\n            grid-column: span 4;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .pm-container {\r\n                padding: 1.5rem;\r\n                border-radius: 24px;\r\n            }\r\n            .pm-section-card {\r\n                grid-template-columns: 1fr 1fr;\r\n                padding: 1.25rem;\r\n                gap: 1.25rem;\r\n            }\r\n            .pm-col-span-2, .pm-col-span-4 {\r\n                grid-column: span 1;\r\n            }\r\n            .pm-footer-actions {\r\n                flex-direction: column;\r\n            }\r\n            .pm-action-btn {\r\n                width: 100%;\r\n            }\r\n            .pm-services-grid {\r\n                justify-content: center;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n            .pm-section-card {\r\n                grid-template-columns: 1fr;\r\n            }\r\n        }\r\n      `}</style>\r\n      <div className=\"pm-container\" onClick={e => e.stopPropagation()}>\r\n        <button onClick={onClose} className=\"pm-header-btn\">\r\n          <ArrowLeft size={22} />\r\n        </button>\r\n\r\n        <h2 style={{ fontSize: '1.75rem', fontWeight: '800', margin: '0 0 0.25rem 0' }}>Promotion Details</h2>\r\n        <p style={{ margin: '0 0 2rem 0', color: '#6B7280', fontSize: '1rem' }}>Complete information about this promotion</p>\r\n\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1rem' }}>Trip Summary</h3>\r\n        \r\n        <div className=\"pm-section-card\">\r\n          <div>\r\n            <div className=\"pm-input-label\">Promotion ID</div>\r\n            <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.id}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"pm-input-label\">Status</div>\r\n            {isEditing ? (\r\n              <select \r\n                value={editedPromo.status} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, status: e.target.value as any})}\r\n                style={inputStyle}\r\n              >\r\n                <option value=\"Active\">Active</option>\r\n                <option value=\"Expired\">Expired</option>\r\n              </select>\r\n            ) : (\r\n              <span style={{ \r\n                backgroundColor: editedPromo.status === 'Active' ? '#eef7f0' : '#FEE2E2',\r\n                color: editedPromo.status === 'Active' ? '#38AC57' : '#EF4444',\r\n                padding: '4px 12px', borderRadius: '8px', fontSize: '12px', fontWeight: '800'\r\n              }}>\r\n                {editedPromo.status}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"pm-col-span-2\">\r\n            <div className=\"pm-input-label\">Promotion Name</div>\r\n            {isEditing ? (\r\n              <input \r\n                value={editedPromo.name} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, name: e.target.value})}\r\n                style={inputStyle}\r\n              />\r\n            ) : (\r\n              <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.name}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div className=\"pm-input-label\">Promo Code</div>\r\n            {isEditing ? (\r\n              <input \r\n                value={editedPromo.code} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, code: e.target.value})}\r\n                style={inputStyle}\r\n              />\r\n            ) : (\r\n              <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.code}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div className=\"pm-input-label\">Discount</div>\r\n            {isEditing ? (\r\n              <input \r\n                value={editedPromo.discount} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, discount: e.target.value})}\r\n                style={inputStyle}\r\n              />\r\n            ) : (\r\n              <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.discount}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div className=\"pm-input-label\">Expire Date</div>\r\n            {isEditing ? (\r\n              <input \r\n                type=\"date\"\r\n                value={editedPromo.validUntil} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, validUntil: e.target.value})}\r\n                style={inputStyle}\r\n              />\r\n            ) : (\r\n              <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.validUntil}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div className=\"pm-input-label\">Min Order Amount</div>\r\n            {isEditing ? (\r\n              <input \r\n                value={editedPromo.minOrderAmount} \r\n                onChange={(e) => editedPromo && setEditedPromo({...editedPromo, minOrderAmount: e.target.value})}\r\n                style={inputStyle}\r\n              />\r\n            ) : (\r\n              <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.minOrderAmount}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"pm-col-span-4\">\r\n            <div className=\"pm-input-label\">Usage Count</div>\r\n            <div style={{ fontWeight: '800', fontSize: '15px' }}>{editedPromo.usageCount} of {editedPromo.maxUsage}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1rem' }}>Description</h3>\r\n        <textarea \r\n          value={editedPromo.description}\r\n          readOnly={!isEditing}\r\n          onChange={(e) => editedPromo && setEditedPromo({...editedPromo, description: e.target.value})}\r\n          style={{ \r\n            width: '100%',\r\n            backgroundColor: '#f9fafb',\r\n            border: isEditing ? '1px solid #38AC57' : '1px solid #f3f4f6',\r\n            borderRadius: '16px', padding: '1.5rem', fontSize: '15px', color: '#4B5563',\r\n            minHeight: '100px', marginBottom: '2rem', outline: 'none', resize: 'none'\r\n          }}\r\n        />\r\n\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1rem' }}>Eligible Services</h3>\r\n        <div className=\"pm-services-grid\">\r\n          {services.map(service => (\r\n            <button \r\n              key={service.id}\r\n              onClick={() => handleToggleService(service.id)}\r\n              style={{ \r\n                border: editedPromo.eligibleServices.includes(service.id) ? '2px solid #38AC57' : '1px solid #e5e7eb', \r\n                backgroundColor: editedPromo.eligibleServices.includes(service.id) ? '#eef7f0' : 'white',\r\n                padding: '8px 20px', borderRadius: '100px', display: 'flex', alignItems: 'center', gap: '8px',\r\n                fontSize: '14px', fontWeight: '700', color: '#374151',\r\n                cursor: isEditing ? 'pointer' : 'default',\r\n                transition: 'all 0.2s',\r\n                minWidth: '120px',\r\n                justifyContent: 'center'\r\n              }}\r\n            >\r\n              <img src={service.icon} alt=\"\" style={{ width: '22px', height: '22px', objectFit: 'contain' }} /> {service.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"pm-footer-actions\">\r\n          {isEditing ? (\r\n            <button onClick={handleSave} className=\"pm-action-btn\" style={{ backgroundColor: '#38AC57', color: 'white' }}>\r\n              Save Changes\r\n            </button>\r\n          ) : (\r\n            <button onClick={() => setIsEditing(true)} className=\"pm-action-btn\" style={{ backgroundColor: 'black', color: 'white' }}>\r\n              Edit Promotion\r\n            </button>\r\n          )}\r\n          \r\n          <button onClick={() => onDelete(editedPromo.id)} className=\"pm-action-btn\" style={{ backgroundColor: '#EF4444', color: 'white' }}>\r\n            Delete Permanently\r\n          </button>\r\n        </div>\r\n\r\n        {showToast && (\r\n          <div style={{ \r\n            position: 'fixed', bottom: '2rem', right: '2rem', backgroundColor: 'white',\r\n            padding: '1.25rem 2rem', borderRadius: '100px', boxShadow: '0 20px 25px -5px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb', display: 'flex', alignItems: 'center', gap: '1rem',\r\n            zIndex: 1100, color: '#111827'\r\n          }}>\r\n            <div style={{ width: '40px', height: '40px', backgroundColor: '#111827', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n              <Info size={24} />\r\n            </div>\r\n            <span style={{ fontWeight: '700', fontSize: '16px' }}>Promotion has been updated</span>\r\n            <button onClick={() => setShowToast(false)} style={{ border: 'none', background: 'none', cursor: 'pointer', color: '#9CA3AF', marginLeft: '1rem' }}><X size={20} /></button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface CreatePromotionModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onCreate: (promotion: Promotion) => void;\r\n}\r\n\r\nexport const CreatePromotionModal = ({ isOpen, onClose, onCreate }: CreatePromotionModalProps) => {\r\n  const [formData, setFormData] = useState<Partial<Promotion>>({\r\n    name: '',\r\n    code: '',\r\n    description: '',\r\n    discountType: 'Percentage',\r\n    discountValue: '',\r\n    validUntil: '',\r\n    status: 'Active',\r\n    maxUsage: 1000,\r\n    minOrderAmount: '',\r\n    eligibleServices: []\r\n  });\r\n  const [showToast, setShowToast] = useState(false);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleBackdropClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  const services = [\r\n    { id: 'Rides', label: 'Rides', icon: carIcon },\r\n    { id: 'Deliveries', label: 'Deliveries', icon: deliveryIcon },\r\n    { id: 'Motorcycle', label: 'Motorcycle', icon: motorcycleIcon },\r\n    { id: 'Rental Car', label: 'Rental Car', icon: rentalCarIcon },\r\n    { id: 'Taxi', label: 'Taxi', icon: taxiIcon }\r\n  ];\r\n\r\n  const handleToggleService = (serviceId: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      eligibleServices: prev.eligibleServices?.includes(serviceId)\r\n        ? prev.eligibleServices.filter(id => id !== serviceId)\r\n        : [...(prev.eligibleServices || []), serviceId]\r\n    }));\r\n  };\r\n\r\n  const handleCreate = () => {\r\n    const newPromo: Promotion = {\r\n      id: `PROMO${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}`,\r\n      name: formData.name || '',\r\n      code: formData.code || '',\r\n      description: formData.description || '',\r\n      discount: formData.discountType === 'Percentage' ? `${formData.discountValue}%` : `${formData.discountValue} MAD`,\r\n      discountType: formData.discountType as any,\r\n      discountValue: formData.discountValue || '',\r\n      validUntil: formData.validUntil || '',\r\n      usageCount: 0,\r\n      maxUsage: formData.maxUsage || 1000,\r\n      status: formData.status as any,\r\n      minOrderAmount: formData.minOrderAmount || '0 MAD',\r\n      eligibleServices: formData.eligibleServices || []\r\n    };\r\n    setShowToast(true);\r\n    setTimeout(() => {\r\n        setShowToast(false);\r\n        onCreate(newPromo);\r\n    }, 500);\r\n  };\r\n\r\n  const inputStyle: React.CSSProperties = {\r\n    width: '100%', padding: '14px 16px', borderRadius: '12px', border: '1px solid #e5e7eb',\r\n    fontSize: '15px', marginTop: '8px', outline: 'none', backgroundColor: 'white'\r\n  };\r\n\r\n  const labelStyle: React.CSSProperties = {\r\n    fontSize: '15px', fontWeight: '700', color: '#111827'\r\n  };\r\n\r\n  return (\r\n    <div \r\n      onClick={handleBackdropClick}\r\n      style={{\r\n        position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.4)', display: 'flex',\r\n        alignItems: 'center', justifyContent: 'center', zIndex: 1000,\r\n        backdropFilter: 'blur(4px)'\r\n      }}\r\n    >\r\n        <style>{`\r\n            .cpm-grid {\r\n                display: grid;\r\n                grid-template-columns: 1fr 1fr;\r\n                gap: 2.5rem;\r\n            }\r\n            .cpm-service-select {\r\n                flex: 1;\r\n                padding: 1.5rem 1rem;\r\n                border-radius: 16px;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                gap: 12px;\r\n                cursor: pointer;\r\n                transition: all 0.2s;\r\n                min-width: 100px;\r\n            }\r\n            .cpm-footer {\r\n                display: flex;\r\n                gap: 1rem;\r\n                justify-content: flex-end;\r\n            }\r\n\r\n            @media (max-width: 768px) {\r\n                .cpm-grid {\r\n                    grid-template-columns: 1fr;\r\n                    gap: 1.5rem;\r\n                }\r\n                .cpm-footer {\r\n                    flex-direction: column;\r\n                }\r\n                .cpm-footer button {\r\n                    width: 100%;\r\n                    padding: 14px 20px !important;\r\n                }\r\n                .pm-container {\r\n                    padding: 1.5rem;\r\n                }\r\n            }\r\n        `}</style>\r\n        <div className=\"pm-container\" onClick={e => e.stopPropagation()}>\r\n          <button onClick={onClose} style={{ border: 'none', background: '#f3f4f6', cursor: 'pointer', padding: '10px', borderRadius: '12px', marginBottom: '1.5rem' }}>\r\n            <ArrowLeft size={22} />\r\n          </button>\r\n\r\n          <h2 style={{ fontSize: '1.75rem', fontWeight: '900', margin: '0 0 0.25rem 0' }}>Create New Promotion</h2>\r\n          <p style={{ margin: '0 0 2rem 0', color: '#6B7280', fontSize: '1rem' }}>Set up a new promotional campaign with discount codes and usage rules</p>\r\n\r\n          <div className=\"cpm-grid\">\r\n            {/* Left Column */}\r\n            <div>\r\n              <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1.5rem' }}>Basic Information</h3>\r\n              <div style={{ marginBottom: '1.25rem' }}>\r\n                <label style={labelStyle}>Promotion Name</label>\r\n                <input type=\"text\" placeholder=\"Type here\" style={inputStyle} value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} />\r\n              </div>\r\n              <div style={{ marginBottom: '1.25rem' }}>\r\n                <label style={labelStyle}>Promo Code</label>\r\n                <input type=\"text\" placeholder=\"Type here\" style={inputStyle} value={formData.code} onChange={e => setFormData({...formData, code: e.target.value})} />\r\n              </div>\r\n              <div style={{ marginBottom: '1.25rem' }}>\r\n                <label style={labelStyle}>Description</label>\r\n                <textarea placeholder=\"Type here\" style={{...inputStyle, minHeight: '100px', resize: 'none'}} value={formData.description} onChange={e => setFormData({...formData, description: e.target.value})} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Column */}\r\n            <div>\r\n              <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1.5rem' }}>Discount Settings</h3>\r\n              <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.25rem' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <label style={labelStyle}>Discount Type</label>\r\n                  <select style={inputStyle} value={formData.discountType} onChange={e => setFormData({...formData, discountType: e.target.value as any})}>\r\n                    <option value=\"Percentage\">Percentage</option>\r\n                    <option value=\"Fixed Amount\">Fixed Amount</option>\r\n                  </select>\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <label style={labelStyle}>Discount Amount</label>\r\n                  <input type=\"text\" placeholder=\"Type here\" style={inputStyle} value={formData.discountValue} onChange={e => setFormData({...formData, discountValue: e.target.value})} />\r\n                </div>\r\n              </div>\r\n              <div style={{ marginBottom: '1.25rem' }}>\r\n                <label style={labelStyle}>Expire Date</label>\r\n                <input type=\"date\" style={inputStyle} value={formData.validUntil} onChange={e => setFormData({...formData, validUntil: e.target.value})} />\r\n              </div>\r\n              <div style={{ marginBottom: '1.25rem' }}>\r\n                <label style={labelStyle}>Status</label>\r\n                <select style={inputStyle} value={formData.status} onChange={e => setFormData({...formData, status: e.target.value as any})}>\r\n                  <option value=\"Active\">Active</option>\r\n                  <option value=\"Inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', margin: '2rem 0 1.5rem 0' }}>Usage Limits & Requirements</h3>\r\n        <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\r\n          <div style={{ flex: 1 }}>\r\n            <label style={labelStyle}>Maximum *</label>\r\n            <input type=\"number\" placeholder=\"Type here\" style={inputStyle} value={formData.maxUsage} onChange={e => setFormData({...formData, maxUsage: parseInt(e.target.value)})} />\r\n          </div>\r\n          <div style={{ flex: 1 }}>\r\n            <label style={labelStyle}>Minimum Oder Amount (MAD)</label>\r\n            <input type=\"text\" placeholder=\"Type here\" style={inputStyle} value={formData.minOrderAmount} onChange={e => setFormData({...formData, minOrderAmount: e.target.value})} />\r\n          </div>\r\n        </div>\r\n\r\n        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '0.5rem' }}>Eligible Services</h3>\r\n        <p style={{ margin: '0 0 1.5rem 0', color: '#6B7280', fontSize: '0.9rem' }}>Select which services this promotion applies to. Leave empty to apply to all services.</p>\r\n        \r\n        <div style={{ display: 'flex', gap: '1rem', marginBottom: '3rem', flexWrap: 'wrap' }}>\r\n          {services.map(service => (\r\n            <div \r\n              key={service.id}\r\n              onClick={() => handleToggleService(service.id)}\r\n              className=\"cpm-service-select\"\r\n              style={{ \r\n                border: formData.eligibleServices?.includes(service.id) ? '2px solid #38AC57' : '1px solid #f3f4f6',\r\n                backgroundColor: formData.eligibleServices?.includes(service.id) ? '#eef7f0' : 'white',\r\n              }}\r\n            >\r\n              <div style={{ padding: '6px', backgroundColor: '#f9fafb', borderRadius: '12px' }}>\r\n                <img src={service.icon} alt=\"\" style={{ width: '40px', height: '40px', objectFit: 'contain' }} />\r\n              </div>\r\n              <span style={{ fontSize: '13px', fontWeight: '800', color: '#374151', textAlign: 'center' }}>{service.label}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"cpm-footer\">\r\n          <button \r\n            onClick={onClose}\r\n            style={{ \r\n              padding: '16px 64px', borderRadius: '100px', border: '1px solid #e5e7eb',\r\n              backgroundColor: 'white', fontWeight: '800', fontSize: '1rem', cursor: 'pointer'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button \r\n            onClick={handleCreate}\r\n            style={{ \r\n              padding: '16px 64px', borderRadius: '100px', border: 'none',\r\n              backgroundColor: '#38AC57', color: 'white', fontWeight: '800', fontSize: '1rem', cursor: 'pointer'\r\n            }}\r\n          >\r\n            Create Promotion\r\n          </button>\r\n        </div>\r\n\r\n        {showToast && (\r\n          <div style={{ \r\n            position: 'fixed', bottom: '2rem', right: '2rem', backgroundColor: 'white',\r\n            padding: '1.25rem 2rem', borderRadius: '100px', boxShadow: '0 20px 25px -5px rgba(0,0,0,0.1)',\r\n            border: '1px solid #e5e7eb', display: 'flex', alignItems: 'center', gap: '1rem',\r\n            zIndex: 1100, color: '#111827'\r\n          }}>\r\n            <div style={{ width: '40px', height: '40px', backgroundColor: '#111827', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n              <Info size={24} />\r\n            </div>\r\n            <span style={{ fontWeight: '700', fontSize: '16px' }}>Coupon Code has been created</span>\r\n            <button onClick={() => setShowToast(false)} style={{ border: 'none', background: 'none', cursor: 'pointer', color: '#9CA3AF', marginLeft: '1rem' }}><X size={20} /></button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Dashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":437,"column":96,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":437,"endColumn":99,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26617,26620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26617,26620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\r\nimport { ArrowUpRight } from 'lucide-react';\r\n\r\n// Import custom icons\r\nimport totalTripsIcon from '../assets/icons/Total Trips Today.png';\r\nimport activeDriversIcon from '../assets/icons/Active Drivers.png';\r\nimport totalEarningsIcon from '../assets/icons/Total Earnings.png';\r\nimport dailyBonusIcon from '../assets/icons/Daily Bonus Earned.png';\r\nimport carIcon from '../assets/icons/car.png';\r\nimport taxiIcon from '../assets/icons/taxi.png';\r\nimport bikeIcon from '../assets/icons/bike.png';\r\nimport driversRegionIcon from '../assets/icons/drivers-region performance.png';\r\nimport increaseIcon from '../assets/icons/increase.png';\r\nimport bonusTripIcon from '../assets/icons/earning bonuses trips car icon.png';\r\n\r\n/* Dummy Data Generators */\r\nconst generateLineData = (multiplier: number) => {\r\n  const baseData = [\r\n    { time: '06:00', val1: 40, val2: 30, val3: 20, val4: 25, val5: 35 },\r\n    { time: '09:00', val1: 120, val2: 80, val3: 60, val4: 70, val5: 90 },\r\n    { time: '12:00', val1: 80, val2: 60, val3: 40, val4: 50, val5: 60 },\r\n    { time: '15:00', val1: 90, val2: 70, val3: 50, val4: 65, val5: 75 },\r\n    { time: '18:00', val1: 180, val2: 140, val3: 110, val4: 120, val5: 150 },\r\n    { time: '21:00', val1: 160, val2: 130, val3: 100, val4: 110, val5: 130 },\r\n    { time: '00:00', val1: 30, val2: 20, val3: 15, val4: 10, val5: 5 },\r\n  ];\r\n  return baseData.map(d => ({\r\n    time: d.time,\r\n    val1: d.val1 * multiplier,\r\n    val2: d.val2 * multiplier,\r\n    val3: d.val3 * multiplier,\r\n    val4: d.val4 * multiplier,\r\n    val5: d.val5 * multiplier,\r\n  }));\r\n};\r\n\r\nconst topDrivers: { id: number; name: string; idNumber: string; location: string; trips: number; rating: number; vehicle?: string }[] = [\r\n  { id: 1, name: 'Mohamed Berrada', idNumber: 'T-00089', location: 'Bab F├¿s', trips: 167, rating: 4.8, vehicle: 'taxi' },\r\n  { id: 2, name: 'Ahmed Hassan', idNumber: 'T-00092', location: 'Casablanca', trips: 154, rating: 4.9, vehicle: 'car' },\r\n  { id: 3, name: 'Youssef Alami', idNumber: 'T-00103', location: 'Rabat', trips: 142, rating: 4.7, vehicle: 'bike' },\r\n  { id: 4, name: 'Karim Benjelloun', idNumber: 'T-00045', location: 'Marrakech', trips: 138, rating: 4.5, vehicle: 'taxi' },\r\n];\r\n\r\nconst topRiders: { id: number; name: string; idNumber: string; location: string; trips: number; rating: number; vehicle?: string }[] = [\r\n  { id: 1, name: 'Sarah Johnson', idNumber: 'R-00123', location: 'Casablanca', trips: 45, rating: 5.0 },\r\n  { id: 2, name: 'Mike Ross', idNumber: 'R-00456', location: 'Rabat', trips: 38, rating: 4.8 },\r\n  { id: 3, name: 'Emily Clark', idNumber: 'R-00789', location: 'Marrakech', trips: 32, rating: 4.9 },\r\n  { id: 4, name: 'David Smith', idNumber: 'R-00234', location: 'Tangier', trips: 29, rating: 4.7 },\r\n];\r\n\r\nconst totalEarningsData = [\r\n  { id: 1, name: 'Mohamed Berrada', idNumber: 'T-00089', location: 'Bab F├¿s', trips: 167, rating: 4.8, vehicle: 'car', earnings: '16,700' },\r\n  { id: 2, name: 'Ahmed Hassan', idNumber: 'T-00092', location: 'Casablanca', trips: 154, rating: 4.9, vehicle: 'car', earnings: '15,400' },\r\n  { id: 3, name: 'Youssef Alami', idNumber: 'T-00103', location: 'Rabat', trips: 142, rating: 4.7, vehicle: 'car', earnings: '14,200' },\r\n  { id: 4, name: 'Karim Benjelloun', idNumber: 'T-00045', location: 'Marrakech', trips: 138, rating: 4.5, vehicle: 'car', earnings: '13,800' },\r\n  { id: 5, name: 'Karim Benjelloun', idNumber: 'T-00045', location: 'Marrakech', trips: 138, rating: 4.5, vehicle: 'car', earnings: '13,800' },\r\n];\r\n\r\nconst dailyBonusData = [\r\n  { id: 1, name: 'Mohamed Berrada', idNumber: 'T-00089', location: 'Bab F├¿s', trips: 167, rating: 4.8 },\r\n  { id: 2, name: 'Ahmed Hassan', idNumber: 'T-00092', location: 'Casablanca', trips: 154, rating: 4.8 },\r\n  { id: 3, name: 'Youssef Alami', idNumber: 'T-00103', location: 'Rabat', trips: 142, rating: 4.8 },\r\n  { id: 4, name: 'Karim Benjelloun', idNumber: 'T-00045', location: 'Marrakech', trips: 138, rating: 4.8 },\r\n  { id: 5, name: 'Karim Benjelloun', idNumber: 'T-00045', location: 'Marrakech', trips: 138, rating: 4.8 },\r\n];\r\n\r\n\r\nexport const Dashboard = () => {\r\n  const [region, setRegion] = useState('All Regions');\r\n  const [timeFilter, setTimeFilter] = useState('Monthly');\r\n  const [activeTab, setActiveTab] = useState<'drivers' | 'riders'>('drivers');\r\n  const [activeMetric, setActiveMetric] = useState<'trips' | 'drivers' | 'earnings' | 'bonus'>('drivers'); // Set default to drivers to match design\r\n  const [stats, setStats] = useState({\r\n    trips: { value: '1,247', trend: '+12%' },\r\n    drivers: { value: '342', trend: '+5%' },\r\n    earnings: { value: '154,320', trend: '+18%' },\r\n    bonus: { value: '1,847', trend: '+156' },\r\n    lineData: generateLineData(1)\r\n  });\r\n\r\n  const handleRegionChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const newRegion = e.target.value;\r\n    setRegion(newRegion);\r\n    // Simulate data update\r\n    const multiplier = newRegion === 'All Regions' ? 1 : Math.random() * 0.5 + 0.5;\r\n    setStats({\r\n        trips: { value: Math.floor(1247 * multiplier).toLocaleString(), trend: '+12%' },\r\n        drivers: { value: Math.floor(342 * multiplier).toLocaleString(), trend: '+5%' },\r\n        earnings: { value: Math.floor(154320 * multiplier).toLocaleString(), trend: '+18%' },\r\n        bonus: { value: Math.floor(1847 * multiplier).toLocaleString(), trend: '+156' },\r\n        lineData: generateLineData(multiplier)\r\n    });\r\n  };\r\n\r\n  const getChartData = () => {\r\n     return stats.lineData; \r\n  };\r\n\r\n  /* Pie Chart Logic */\r\n  const getPieData = () => {\r\n    // Basic scaling to show interactivity when region changes\r\n    const multiplier = region === 'All Regions' ? 1 : 0.7;\r\n    return [\r\n      { name: 'Tanger-Tetouan-Al Hoceima', value: 30, color: '#38AC57', count: Math.floor(180000 * multiplier).toLocaleString() },\r\n      { name: 'Laayoune-Sakia El Hamra', value: 10, color: '#a855f7', count: Math.floor(95000 * multiplier).toLocaleString() },\r\n      { name: 'Dakhla-Oued Ed-Dahab', value: 10, color: '#ec4899', count: Math.floor(95000 * multiplier).toLocaleString() },\r\n      { name: 'Draa-Tafilalet', value: 10, color: '#06b6d4', count: Math.floor(32000 * multiplier).toLocaleString() },\r\n      { name: 'Oriental', value: 10, color: '#f97316', count: Math.floor(75000 * multiplier).toLocaleString() },\r\n      { name: 'Rabat-Sale-Kenitra', value: 10, color: '#ef4444', count: Math.floor(95000 * multiplier).toLocaleString() },\r\n      { name: 'Casablanca-Settat', value: 10, color: '#a3e635', count: Math.floor(95000 * multiplier).toLocaleString() },\r\n      { name: 'Souss-Massa', value: 10, color: '#93c5fd', count: Math.floor(180000 * multiplier).toLocaleString() },\r\n      { name: 'Fes-Meknes', value: 10, color: '#2d8a46', count: Math.floor(48000 * multiplier).toLocaleString() },\r\n      { name: 'Beni Mellal-Khenifra', value: 20, color: '#92400e', count: Math.floor(58000 * multiplier).toLocaleString() },\r\n      { name: 'Marrakech-Safi', value: 45, color: '#6b7280', count: Math.floor(58000 * multiplier).toLocaleString() },\r\n      { name: 'Guelmim-Oued Noun', value: 12, color: '#fdba74', count: Math.floor(24000 * multiplier).toLocaleString() },\r\n    ];\r\n  };\r\n\r\n  const currentPieData = getPieData();\r\n\r\n  const getVehicleIcon = (type: string | undefined) => {\r\n    switch (type) {\r\n        case 'taxi': return taxiIcon;\r\n        case 'car': return carIcon;\r\n        case 'bike': return bikeIcon;\r\n        default: return carIcon;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-container\" style={{ display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n      <style dangerouslySetInnerHTML={{ __html: `\r\n        @media (max-width: 1024px) {\r\n           .pie-legend-grid {\r\n             grid-template-columns: repeat(3, 1fr) !important;\r\n           }\r\n        }\r\n        @media (max-width: 768px) {\r\n           .pie-legend-grid {\r\n             grid-template-columns: repeat(2, 1fr) !important;\r\n           }\r\n        }\r\n        @media (max-width: 640px) {\r\n          .dashboard-header {\r\n            flex-direction: column;\r\n            align-items: flex-start !important;\r\n            gap: 1rem;\r\n          }\r\n          .dashboard-header select {\r\n            width: 100%;\r\n          }\r\n          .pie-legend-grid {\r\n            grid-template-columns: 1fr !important;\r\n          }\r\n          .stat-value {\r\n            font-size: 2rem !important;\r\n          }\r\n          .stat-label-text {\r\n            font-size: 0.85rem !important;\r\n          }\r\n        }\r\n      `}} />\r\n      \r\n      {/* Title Section */}\r\n      <div className=\"dashboard-header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n            <h1 style={{ fontSize: '2rem', fontWeight: 'bold', margin: 0 }}>Dashboard</h1>\r\n            <p style={{ color: 'var(--text-secondary)', margin: 0 }}>Overview of your ride-sharing platform across Morocco</p>\r\n        </div>\r\n        <div>\r\n            <select \r\n                value={region}\r\n                onChange={handleRegionChange}\r\n                style={{ \r\n                    padding: '0.75rem 1.5rem', \r\n                    borderRadius: '1rem', \r\n                    border: 'none', \r\n                    backgroundColor: '#e5e7eb', \r\n                    cursor: 'pointer',\r\n                    fontWeight: '500',\r\n                    color: '#4b5563',\r\n                    appearance: 'none',\r\n                    backgroundImage: 'url(\"data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'none\\' viewBox=\\'0/0/24/24\\' stroke=\\'%234b5563\\'%3E%3Cpath stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\' stroke-width=\\'2\\' d=\\'M19 9l-7 7-7-7\\'/%3E%3C/svg%3E\")',\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: 'right 1rem center',\r\n                    backgroundSize: '1rem',\r\n                    paddingRight: '3rem'\r\n                }}\r\n            >\r\n                <option>All Regions</option>\r\n                <option>Casablanca-Settat</option>\r\n                <option>Rabat-Sal├⌐-K├⌐nitra</option>\r\n                <option>Marrakech-Safi</option>\r\n                <option>F├¿s-Mekn├¿s</option>\r\n                <option>Tanger-Tetouan-Al Hoceima</option>\r\n            </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top Stats Cards */}\r\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))', gap: '1.5rem' }}>\r\n        \r\n        {/* Card 1 - Total Trips */}\r\n        <div \r\n            onClick={() => setActiveMetric('trips')}\r\n            style={{ \r\n                backgroundColor: activeMetric === 'trips' ? 'var(--primary-color)' : 'white', \r\n                color: activeMetric === 'trips' ? 'white' : 'var(--text-primary)', \r\n                padding: '1.5rem', \r\n                borderRadius: '1.5rem', \r\n                position: 'relative', \r\n                overflow: 'hidden', \r\n                cursor: 'pointer', \r\n                transition: 'all 0.2s',\r\n                boxShadow: activeMetric === 'trips' ? '0 10px 15px -3px rgba(56, 172, 87, 0.4)' : 'var(--shadow-sm)',\r\n                border: activeMetric === 'trips' ? 'none' : '1px solid #f1f5f9'\r\n            }}\r\n        >\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>\r\n                <img src={totalTripsIcon} alt=\"Trips\" style={{ width: '40px', height: 'auto' }} />\r\n                <span className=\"stat-label-text\" style={{ fontSize: '1rem', fontWeight: '700' }}>Total Trips Today</span>\r\n                <span style={{ \r\n                    fontSize: '0.875rem', \r\n                    color: '#38AC57',\r\n                    fontWeight: 'bold',\r\n                    marginLeft: 'auto'\r\n                }}>{stats.trips.trend}</span>\r\n            </div>\r\n            <div className=\"stat-value\" style={{ fontSize: '3rem', fontWeight: '800', margin: '0.5rem 0' }}>{stats.trips.value}</div>\r\n            <div style={{ fontSize: '0.875rem', textDecoration: 'underline', color: activeMetric === 'trips' ? 'white' : 'var(--text-secondary)', opacity: 0.8 }}>Vs Yesterday</div>\r\n            <div style={{ position: 'absolute', bottom: '1rem', right: '1rem', backgroundColor: activeMetric === 'trips' ? 'black' : 'var(--primary-color)', borderRadius: '50%', width: '44px', height: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n                <ArrowUpRight size={24} />\r\n            </div>\r\n        </div>\r\n\r\n        {/* Card 2 - Active Drivers */}\r\n        <div \r\n            onClick={() => setActiveMetric('drivers')}\r\n            style={{ \r\n                backgroundColor: activeMetric === 'drivers' ? 'var(--primary-color)' : 'white', \r\n                color: activeMetric === 'drivers' ? 'white' : 'var(--text-primary)',\r\n                padding: '1.5rem',\r\n                borderRadius: '1.5rem',\r\n                position: 'relative', \r\n                cursor: 'pointer', \r\n                transition: 'all 0.2s',\r\n                boxShadow: activeMetric === 'drivers' ? '0 10px 15px -3px rgba(56, 172, 87, 0.4)' : 'var(--shadow-sm)',\r\n                border: activeMetric === 'drivers' ? 'none' : '1px solid #f1f5f9',\r\n                backgroundImage: activeMetric === 'drivers' ? 'radial-gradient(circle at 80% 20%, rgba(255,255,255,0.1) 0%, transparent 60%)' : 'none'\r\n            }}\r\n        >\r\n             <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>\r\n                <img src={activeDriversIcon} alt=\"Drivers\" style={{ width: '40px', height: 'auto' }} />\r\n                <span className=\"stat-label-text\" style={{ fontSize: '1rem', fontWeight: '700' }}>Active Drivers</span>\r\n                <span style={{ \r\n                    fontSize: '0.875rem', \r\n                    color: activeMetric === 'drivers' ? 'white' : '#38AC57',\r\n                    fontWeight: 'bold',\r\n                    marginLeft: 'auto'\r\n                }}>{stats.drivers.trend}</span>\r\n            </div>\r\n            <div className=\"stat-value\" style={{ fontSize: '3rem', fontWeight: '800', margin: '0.5rem 0' }}>{stats.drivers.value}</div>\r\n            <div style={{ fontSize: '0.875rem', textDecoration: 'underline', color: activeMetric === 'drivers' ? 'white' : 'var(--text-secondary)', opacity: 0.8 }}>Vs Yesterday</div>\r\n            <div style={{ position: 'absolute', bottom: '1rem', right: '1rem', backgroundColor: activeMetric === 'drivers' ? 'black' : 'var(--primary-color)', borderRadius: '50%', width: '44px', height: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n                <ArrowUpRight size={24} />\r\n            </div>\r\n        </div>\r\n\r\n        {/* Card 3 - Total Earnings */}\r\n        <div \r\n            onClick={() => setActiveMetric('earnings')}\r\n             style={{ \r\n                backgroundColor: activeMetric === 'earnings' ? 'var(--primary-color)' : 'white', \r\n                color: activeMetric === 'earnings' ? 'white' : 'var(--text-primary)',\r\n                padding: '1.5rem',\r\n                borderRadius: '1.5rem',\r\n                position: 'relative', \r\n                cursor: 'pointer', \r\n                transition: 'all 0.2s',\r\n                boxShadow: activeMetric === 'earnings' ? '0 10px 15px -3px rgba(56, 172, 87, 0.4)' : 'var(--shadow-sm)',\r\n                border: activeMetric === 'earnings' ? 'none' : '1px solid #f1f5f9'\r\n            }}\r\n        >\r\n             <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>\r\n                <img src={totalEarningsIcon} alt=\"Earnings\" style={{ width: '40px', height: 'auto' }} />\r\n                <span className=\"stat-label-text\" style={{ fontSize: '1rem', fontWeight: '700' }}>Total Earnings</span>\r\n                <span style={{ \r\n                    fontSize: '0.875rem', \r\n                    color: '#38AC57',\r\n                    fontWeight: 'bold',\r\n                    marginLeft: 'auto'\r\n                 }}>{stats.earnings.trend}</span>\r\n            </div>\r\n            <div className=\"stat-value\" style={{ fontSize: '3rem', fontWeight: '800', margin: '0.5rem 0', display: 'flex', alignItems: 'baseline' }}>\r\n                {stats.earnings.value} <span style={{ fontSize: '1.25rem', fontWeight: '600', color: activeMetric === 'earnings' ? 'rgba(255,255,255,0.8)' : 'var(--text-secondary)', marginLeft: '8px' }}>MAD</span>\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', textDecoration: 'underline', color: activeMetric === 'earnings' ? 'white' : 'var(--text-secondary)', opacity: 0.8 }}>Vs Yesterday</div>\r\n            <div style={{ position: 'absolute', bottom: '1rem', right: '1rem', backgroundColor: activeMetric === 'earnings' ? 'black' : 'var(--primary-color)', borderRadius: '50%', width: '44px', height: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n                <ArrowUpRight size={24} />\r\n            </div>\r\n        </div>\r\n\r\n        {/* Card 4 - Daily Bonus */}\r\n        <div \r\n            onClick={() => setActiveMetric('bonus')}\r\n            style={{ \r\n                backgroundColor: activeMetric === 'bonus' ? 'var(--primary-color)' : 'white', \r\n                color: activeMetric === 'bonus' ? 'white' : 'var(--text-primary)',\r\n                padding: '1.5rem',\r\n                borderRadius: '1.5rem',\r\n                position: 'relative', \r\n                cursor: 'pointer', \r\n                transition: 'all 0.2s',\r\n                boxShadow: activeMetric === 'bonus' ? '0 10px 15px -3px rgba(56, 172, 87, 0.4)' : 'var(--shadow-sm)',\r\n                border: activeMetric === 'bonus' ? 'none' : '1px solid #f1f5f9'\r\n            }}\r\n        >\r\n             <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem' }}>\r\n                <img src={dailyBonusIcon} alt=\"Bonus\" style={{ width: '40px', height: 'auto' }} />\r\n                <span className=\"stat-label-text\" style={{ fontSize: '1rem', fontWeight: '700' }}>Daily Bonus Earned</span>\r\n                <span style={{ \r\n                    fontSize: '0.875rem', \r\n                    color: '#38AC57',\r\n                    fontWeight: 'bold',\r\n                    marginLeft: 'auto'\r\n                }}>{stats.bonus.trend}</span>\r\n            </div>\r\n            <div className=\"stat-value\" style={{ fontSize: '3rem', fontWeight: '800', margin: '0.5rem 0', display: 'flex', alignItems: 'baseline' }}>\r\n                {stats.bonus.value} <span style={{ fontSize: '1.25rem', fontWeight: '600', color: activeMetric === 'bonus' ? 'rgba(255,255,255,0.8)' : 'var(--text-secondary)', marginLeft: '8px' }}>MAD</span>\r\n            </div>\r\n            <div style={{ fontSize: '0.875rem', textDecoration: 'underline', color: activeMetric === 'bonus' ? 'white' : 'var(--text-secondary)', opacity: 0.8 }}>Vs Yesterday</div>\r\n            <div style={{ position: 'absolute', bottom: '1rem', right: '1rem', backgroundColor: activeMetric === 'bonus' ? 'black' : 'var(--primary-color)', borderRadius: '50%', width: '44px', height: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white' }}>\r\n                <ArrowUpRight size={24} />\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts & Lists Row 1 */}\r\n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1.5rem' }}>\r\n         {/* Line Chart */}\r\n         <div className=\"card\" style={{ flex: '2 1 600px', borderRadius: '1.5rem', border: '1px solid #f1f5f9' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                <h3 style={{ fontSize: '1.5rem', fontWeight: '800', color: '#111827' }}>\r\n                    {activeMetric === 'bonus' ? 'Daily Bonus Earned' : activeMetric === 'earnings' ? 'Total Earnings' : 'Total Trips'}\r\n                </h3>\r\n                <select \r\n                    value={timeFilter}\r\n                    onChange={(e) => setTimeFilter(e.target.value)}\r\n                    style={{ padding: '0.5rem 1rem', borderRadius: '0.75rem', border: '1px solid #e5e7eb', cursor: 'pointer', fontWeight: '500' }}\r\n                >\r\n                    <option>Weekly</option>\r\n                    <option>Monthly</option>\r\n                    <option>Yearly</option>\r\n                </select>\r\n            </div>\r\n            <div style={{ height: '350px', width: '100%' }}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <AreaChart data={getChartData()}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#e2e8f0\" />\r\n                        <XAxis dataKey=\"time\" axisLine={false} tickLine={false} tick={{ fill: '#64748b', fontSize: 12 }} />\r\n                        <YAxis axisLine={false} tickLine={false} tick={{ fill: '#64748b', fontSize: 12 }} />\r\n                        <Tooltip \r\n                            contentStyle={{ borderRadius: '1rem', border: 'none', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)' }}\r\n                        />\r\n                        <Area type=\"monotone\" dataKey=\"val1\" stackId=\"1\" stroke=\"#3b82f6\" fill=\"#3b82f6\" fillOpacity={0.8} />\r\n                        <Area type=\"monotone\" dataKey=\"val2\" stackId=\"1\" stroke=\"#eab308\" fill=\"#eab308\" fillOpacity={0.8} />\r\n                        <Area type=\"monotone\" dataKey=\"val3\" stackId=\"1\" stroke=\"#f97316\" fill=\"#f97316\" fillOpacity={0.8} />\r\n                        <Area type=\"monotone\" dataKey=\"val4\" stackId=\"1\" stroke=\"#8b5cf6\" fill=\"#8b5cf6\" fillOpacity={0.8} />\r\n                        <Area type=\"monotone\" dataKey=\"val5\" stackId=\"1\" stroke=\"#38AC57\" fill=\"#38AC57\" fillOpacity={0.8} />\r\n                    </AreaChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n         </div>\r\n\r\n         {/* Top Regions Performance */}\r\n         <div className=\"card\" style={{ flex: '1 1 350px', borderRadius: '1.5rem', border: '1px solid #f1f5f9', maxHeight: '420px', overflowY: 'auto' }}>\r\n            <h3 style={{ fontSize: '1.5rem', fontWeight: '800', color: '#111827', marginBottom: '1.5rem' }}>Top Regions Performance</h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\r\n                {[\r\n                  { name: 'Casablanca-Settat', trips: 385, drivers: 89, trend: '+18%' },\r\n                  { name: 'Rabat-Sal├⌐-K├⌐nitra', trips: 196, drivers: 45, trend: '+18%' },\r\n                  { name: 'Marrakech-Safi', trips: 168, drivers: 38, trend: '+18%' },\r\n                  { name: 'F├¿s-Mekn├¿s', trips: 142, drivers: 32, trend: '+18%' },\r\n                  { name: 'Tanger-Tetouan-Al Hoceima', trips: 127, drivers: 28, trend: '+18%' },\r\n                ].map((region, idx) => (\r\n                    <div key={idx} style={{ padding: '1.25rem', backgroundColor: 'white', borderRadius: '1rem', border: '1px solid #f1f5f9', boxShadow: '0 2px 4px rgba(0,0,0,0.02)' }}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem' }}>\r\n                            <span style={{ fontWeight: '700', color: '#111827', fontSize: '1rem' }}>{region.name}</span>\r\n                            <span style={{ fontSize: '0.75rem', backgroundColor: '#eef7f0', color: '#2d8a46', padding: '0.2rem 0.6rem', borderRadius: '1rem', fontWeight: 'bold' }}>{region.trend}</span>\r\n                        </div>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.875rem', color: '#6b7280' }}>\r\n                            <span style={{ display: 'flex', alignItems: 'center', gap: '0.4rem' }}>\r\n                                <img src={increaseIcon} alt=\"trips\" style={{ width: '16px', height: '16px', imageRendering: 'auto' }} /> {region.trips} trips\r\n                            </span>\r\n                            <span style={{ display: 'flex', alignItems: 'center', gap: '0.4rem' }}>\r\n                                <img src={driversRegionIcon} alt=\"drivers\" style={{ width: '16px', height: '16px', imageRendering: 'auto' }} /> {region.drivers} drivers\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n       {/* Bottom Row */}\r\n       <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1.5rem' }}>\r\n           {/* Total Trips Performance (Pie Chart) */}\r\n           <div className=\"card\" style={{ flex: '1 1 400px', borderRadius: '1.5rem', border: '1px solid #f1f5f9' }}>\r\n               <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                    <h3 style={{ fontSize: '1.5rem', fontWeight: '800', color: '#111827' }}>\r\n                        {activeMetric === 'bonus' ? 'Total Daily Bonus Earned' : 'Total Trips Performance'}\r\n                    </h3>\r\n                    <span style={{ fontSize: '0.875rem', color: '#38AC57', fontWeight: '700', cursor: 'pointer' }}>\r\n                        {activeMetric === 'bonus' ? 'Total Trips' : 'Total Trips'}\r\n                    </span>\r\n                </div>\r\n                <div style={{ marginBottom: '1rem' }}>\r\n                    <select \r\n                        style={{ padding: '0.5rem 1rem', borderRadius: '1.5rem', border: '1px solid #e5e7eb', backgroundColor: 'white', cursor: 'pointer', fontWeight: '500' }}>\r\n                        <option>Weekly</option>\r\n                        <option>Monthly</option>\r\n                        <option>Yearly</option>\r\n                    </select>\r\n                </div>\r\n                <div style={{ height: '350px', width: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <PieChart>\r\n                            <Pie\r\n                                data={currentPieData}\r\n                                cx=\"50%\"\r\n                                cy=\"50%\"\r\n                                innerRadius={0}\r\n                                outerRadius={140}\r\n                                dataKey=\"value\"\r\n                                labelLine={false}\r\n                                label={({ cx, cy, midAngle, innerRadius, outerRadius, value }: any) => {\r\n                                    const radius = innerRadius + (outerRadius - innerRadius) * 0.75;\r\n                                    const x = cx + radius * Math.cos(-midAngle * Math.PI / 180);\r\n                                    const y = cy + radius * Math.sin(-midAngle * Math.PI / 180);\r\n                                    return (\r\n                                        <text x={x} y={y} fill=\"white\" textAnchor=\"middle\" dominantBaseline=\"central\" style={{ fontWeight: '800', fontSize: '14px', pointerEvents: 'none' }}>\r\n                                            {`${value}%`}\r\n                                        </text>\r\n                                    );\r\n                                }}\r\n                            >\r\n                                {currentPieData.map((entry, index) => (\r\n                                    <Cell key={`cell-${index}`} fill={entry.color} stroke=\"none\" />\r\n                                ))}\r\n                            </Pie>\r\n                            <Tooltip />\r\n                        </PieChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n                {/* Custom Legend Grid */}\r\n                <div className=\"pie-legend-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '1rem', marginTop: '1.5rem' }}>\r\n                    {currentPieData.map((entry, index) => (\r\n                        <div key={index} style={{ display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.4rem' }}>\r\n                                <div style={{ width: '12px', height: '12px', borderRadius: '50%', backgroundColor: entry.color }}></div>\r\n                                <span style={{ fontSize: '0.75rem', fontWeight: '700', color: '#4b5563', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{entry.name}</span>\r\n                            </div>\r\n                            <span style={{ fontSize: '0.75rem', color: '#2d8a46', marginLeft: '1rem' }}>{entry.count}</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n           </div>\r\n\r\n           {/* Bottom Right - Conditional Content */}\r\n           <div className=\"card\" style={{ flex: '2 1 600px', borderRadius: '1.5rem', border: '1px solid #f1f5f9', maxHeight: '550px', overflowY: 'auto' }}>\r\n                {activeMetric === 'earnings' ? (\r\n                    <>\r\n                        <h3 style={{ fontSize: '1.5rem', fontWeight: '800', color: '#111827', marginBottom: '1.5rem' }}>Total Earnings</h3>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            {totalEarningsData.map((person, idx) => (\r\n                                <div key={idx} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '1rem', backgroundColor: 'white', border: '1px solid #f1f5f9', borderRadius: '1.25rem', boxShadow: '0 2px 4px rgba(0,0,0,0.02)' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '1.25rem' }}>\r\n                                        <div style={{ position: 'relative' }}>\r\n                                            <img src={`https://i.pravatar.cc/150?u=${idx + 10}`} alt={person.name} style={{ width: '60px', height: '60px', borderRadius: '1.25rem', objectFit: 'cover' }} />\r\n                                            <div style={{ position: 'absolute', bottom: '-8px', left: '50%', transform: 'translateX(-50%)', backgroundColor: 'white', padding: '0.1rem 0.5rem', borderRadius: '1rem', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', display: 'flex', alignItems: 'center', gap: '0.2rem', fontSize: '0.75rem', fontWeight: 'bold' }}>\r\n                                                <span style={{ color: '#eab308' }}>Γÿà</span> {person.rating}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '800', fontSize: '1.125rem', color: '#111827' }}>{person.name}</div>\r\n                                            <div style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.2rem' }}>\r\n                                                {person.idNumber} ΓÇó {person.location}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'right' }}>\r\n                                        <div style={{ fontSize: '0.875rem', color: '#6b7280', display: 'flex', alignItems: 'center', gap: '0.4rem', justifyContent: 'flex-end' }}>\r\n                                            ΓÇó {person.trips} Trips <img src={bonusTripIcon} alt=\"vehicle\" style={{ width: '18px', height: 'auto' }} />\r\n                                        </div>\r\n                                        <div style={{ marginTop: '0.5rem', color: '#38AC57', fontWeight: '800', fontSize: '1.25rem' }}>\r\n                                            {person.earnings} <span style={{ fontSize: '0.875rem', fontWeight: '600' }}>MAD</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                ) : activeMetric === 'bonus' ? (\r\n                    <>\r\n                        <h3 style={{ fontSize: '1.5rem', fontWeight: '800', color: '#111827', marginBottom: '1.5rem' }}>Daily Bonus Earned</h3>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            {dailyBonusData.map((person, idx) => (\r\n                                <div key={idx} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '1rem', backgroundColor: 'white', border: '1px solid #f1f5f9', borderRadius: '1.25rem', boxShadow: '0 0 10px rgba(0,0,0,0.05)' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '1.25rem' }}>\r\n                                        <div style={{ position: 'relative' }}>\r\n                                            <img src={`https://i.pravatar.cc/150?u=${idx + 20}`} alt={person.name} style={{ width: '60px', height: '60px', borderRadius: '1.25rem', objectFit: 'cover' }} />\r\n                                            <div style={{ position: 'absolute', bottom: '-8px', left: '50%', transform: 'translateX(-50%)', backgroundColor: 'white', padding: '0.1rem 0.5rem', borderRadius: '1rem', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', display: 'flex', alignItems: 'center', gap: '0.2rem', fontSize: '0.75rem', fontWeight: 'bold' }}>\r\n                                                <span style={{ color: '#eab308' }}>Γÿà</span> {person.rating}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '800', fontSize: '1.125rem', color: '#111827' }}>{person.name}</div>\r\n                                            <div style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.2rem' }}>\r\n                                                Bonus ID: {person.idNumber} ΓÇó {person.location}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'right' }}>\r\n                                        <div style={{ fontSize: '0.875rem', color: '#6b7280', display: 'flex', alignItems: 'center', gap: '0.4rem', justifyContent: 'flex-end' }}>\r\n                                            ΓÇó {person.trips} Trips Completed <img src={bonusTripIcon} alt=\"bonus icon\" style={{ width: '18px', height: 'auto' }} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.5rem', backgroundColor: '#f1f5f9', padding: '0.4rem', borderRadius: '2rem', width: 'fit-content' }}>\r\n                            <button \r\n                                onClick={() => setActiveTab('drivers')}\r\n                                style={{ \r\n                                    backgroundColor: activeTab === 'drivers' ? '#38AC57' : 'transparent', \r\n                                    color: activeTab === 'drivers' ? 'white' : '#64748b', \r\n                                    border: 'none', \r\n                                    padding: '0.6rem 2.5rem', \r\n                                    borderRadius: '1.5rem', \r\n                                    fontWeight: '700',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'all 0.2s',\r\n                                }}\r\n                            >\r\n                                Top Drivers\r\n                            </button>\r\n                            <button \r\n                                onClick={() => setActiveTab('riders')}\r\n                                style={{ \r\n                                    backgroundColor: activeTab === 'riders' ? '#38AC57' : 'transparent', \r\n                                    color: activeTab === 'riders' ? 'white' : '#64748b', \r\n                                    border: 'none', \r\n                                    padding: '0.6rem 2.5rem', \r\n                                    borderRadius: '1.5rem', \r\n                                    fontWeight: '700',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'all 0.2s',\r\n                                }}\r\n                            >\r\n                                Top Rider\r\n                            </button>\r\n                        </div>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            {(activeTab === 'drivers' ? topDrivers : topRiders).map((person, idx) => (\r\n                                <div key={idx} style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '1rem', backgroundColor: 'white', border: '1px solid #f1f5f9', borderRadius: '1.25rem', boxShadow: '0 2px 4px rgba(0,0,0,0.02)' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '1.25rem' }}>\r\n                                        <div style={{ position: 'relative' }}>\r\n                                            <img src={`https://i.pravatar.cc/150?u=${person.idNumber}`} alt={person.name} style={{ width: '60px', height: '60px', borderRadius: '1.25rem', objectFit: 'cover' }} />\r\n                                            <div style={{ position: 'absolute', bottom: '-8px', left: '50%', transform: 'translateX(-50%)', backgroundColor: 'white', padding: '0.1rem 0.5rem', borderRadius: '1rem', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', display: 'flex', alignItems: 'center', gap: '0.2rem', fontSize: '0.75rem', fontWeight: 'bold' }}>\r\n                                                <span style={{ color: '#eab308' }}>Γÿà</span> {person.rating}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '800', fontSize: '1.125rem', color: '#111827' }}>{person.name}</div>\r\n                                            <div style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.2rem' }}>\r\n                                                {person.idNumber} ΓÇó {person.location}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ textAlign: 'right' }}>\r\n                                        <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>ΓÇó {person.trips} Trips</div>\r\n                                        <div style={{ marginTop: '0.5rem' }}>\r\n                                            <img src={getVehicleIcon(person.vehicle)} alt=\"vehicle\" style={{ width: '32px', height: 'auto' }} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                )}\r\n           </div>\r\n       </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\DeliveryServices.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":122,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":125,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2950,2953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2950,2953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { \r\n    Search, Eye, ArrowLeft, \r\n    ArrowUpRight, \r\n    Filter, ChevronDown\r\n} from 'lucide-react';\r\n\r\n// Icons\r\nimport totalDeliveriesIcon from '../assets/icons/Total Deliveries.png';\r\nimport pendingIcon from '../assets/icons/Pending.png';\r\nimport acceptedIcon from '../assets/icons/completed.png';\r\nimport cancelledIcon from '../assets/icons/cancelled.png';\r\n\r\n// UI Specific Icons\r\nimport carIcon from '../assets/icons/car.png';\r\nimport visaIcon from '../assets/icons/visa.png';\r\nimport mastercardIcon from '../assets/icons/mastercard.png';\r\nimport cashIcon from '../assets/icons/cash.png';\r\nimport taxiIcon from '../assets/icons/taxi.png';\r\n\r\n// --- Types ---\r\n\r\ninterface UserInfo {\r\n    name: string;\r\n    id: string;\r\n    avatar: string;\r\n    rating: number;\r\n    phone: string;\r\n    email: string;\r\n    city: string;\r\n    gender: 'Male' | 'Female';\r\n    category?: string; // e.g. 'Hezzni Standard'\r\n}\r\n\r\ninterface Delivery {\r\n    id: string; // T-00123\r\n    serviceType: string; // 'Regular Ride'\r\n    rider: UserInfo;\r\n    driver: UserInfo;\r\n    vehicleType: string; // 'Delivery'\r\n    status: 'Scheduled' | 'Accepted' | 'Pending' | 'Arriving' | 'Arrived' | 'Started' | 'In_progress' | 'Completed' | 'Cancelled';\r\n    fare: number;\r\n    currency: string;\r\n    paymentMethod: 'Visa' | 'Mastercard' | 'Cash';\r\n    \r\n    // Detailed Info\r\n    deliveryId: string; // DEL-00123\r\n    sendingDescription: string;\r\n    weight: string;\r\n    \r\n    vehicleInfo: {\r\n        brand: string; // 'Hezzni Standard'\r\n        plate: string;\r\n        transmission: string;\r\n        model: string; // 'Dacia Logan'\r\n        color: string;\r\n        year: string;\r\n        joinDate: string;\r\n    };\r\n\r\n    pickup: string;\r\n    destination: string;\r\n\r\n    tva: string;\r\n    serviceFee: number;\r\n    discount: string;\r\n    \r\n    startTime: string;\r\n    endTime: string;\r\n    distance: string;\r\n    scheduleDate: string;\r\n    scheduleTime: string;\r\n}\r\n\r\ninterface DriverRiderCard {\r\n    id: string;\r\n    name: string;\r\n    location: string;\r\n    trips: number;\r\n    avatar: string;\r\n    rating: number;\r\n    type: 'Driver' | 'Rider';\r\n    vehicleIcon?: boolean; // For drivers\r\n}\r\n\r\n// --- Mock Data ---\r\n\r\nconst mockDeliveries: Delivery[] = Array(8).fill(null).map((_, i) => ({\r\n    id: 'T-00123',\r\n    serviceType: 'Regular Ride',\r\n    rider: { name: 'Ahmed Hassan', id: 'R-00045', avatar: `https://i.pravatar.cc/150?u=${i + 10}`, rating: 4.8, phone: '+212 6 12 34 56', email: 'ahmed@example.com', city: 'Casablanca', gender: 'Male', category: 'Hezzni Standard' },\r\n    driver: { name: 'Youssef Ali', id: 'D-00046', avatar: `https://i.pravatar.cc/150?u=${i + 20}`, rating: 4.9, phone: '+212 6 12 34 56', email: 'ali@example.com', city: 'Casablanca', gender: 'Male' },\r\n    vehicleType: 'Delivery',\r\n    status: ['Scheduled', 'Accepted', 'Pending', 'Arriving', 'Arrived', 'Started', 'In_progress', 'Completed'][i % 8] as any,\r\n    fare: 45.50, currency: 'MAD',\r\n    paymentMethod: i % 2 === 0 ? 'Visa' : 'Mastercard',\r\n    \r\n    deliveryId: 'DEL-00123',\r\n    sendingDescription: 'Important business contracts',\r\n    weight: '0.5 kg',\r\n    \r\n    vehicleInfo: {\r\n        brand: 'Hezzni Standard',\r\n        plate: '12345-A-6',\r\n        transmission: 'Manual',\r\n        model: 'Dacia Logan',\r\n        color: 'White',\r\n        year: '2020',\r\n        joinDate: '2023-01-15'\r\n    },\r\n\r\n    pickup: 'Current Location, Marrakech',\r\n    destination: 'Current Location, Marrakech',\r\n\r\n    tva: '1%',\r\n    serviceFee: 0.00,\r\n    discount: '0%',\r\n\r\n    startTime: '14:30',\r\n    endTime: '14:55',\r\n    distance: '45km',\r\n    scheduleDate: '2024-10-15',\r\n    scheduleTime: '14:30'\r\n}));\r\n\r\nconst mockDriverRiders: DriverRiderCard[] = Array(12).fill(null).map((_, i) => ({\r\n    id: `T-00089`,\r\n    name: 'Mohamed Berrada',\r\n    location: 'Bab F├¿s',\r\n    trips: 167,\r\n    avatar: `https://i.pravatar.cc/150?u=${i + 50}`,\r\n    rating: 4.9,\r\n    type: i % 2 === 0 ? 'Driver' : 'Rider',\r\n    vehicleIcon: i % 2 === 0\r\n}));\r\n\r\n// --- Helper Components ---\r\n\r\nconst StatusBadge = ({ status }: { status: string }) => {\r\n    let bg = '#e5e7eb';\r\n    let color = '#374151';\r\n\r\n    switch (status) {\r\n        case 'Scheduled': bg = '#dbeafe'; color = '#1d4ed8'; break;\r\n        case 'Accepted': bg = '#ccfbf1'; color = '#0f766e'; break;\r\n        case 'Pending': bg = '#fef3c7'; color = '#b45309'; break; \r\n        case 'Arriving': bg = '#e0f2fe'; color = '#0369a1'; break;\r\n        case 'Arrived': bg = '#eef7f0'; color = '#38AC57'; break;\r\n        case 'Started': bg = '#ede9fe'; color = '#7e22ce'; break;\r\n        case 'In_progress': bg = '#f3e8ff'; color = '#6d28d9'; break;\r\n        case 'Completed': bg = '#eef7f0'; color = '#38AC57'; break;\r\n        case 'Cancelled': bg = '#fee2e2'; color = '#b91c1c'; break;\r\n    }\r\n\r\n    return (\r\n        <span style={{ backgroundColor: bg, color: color, padding: '0.4rem 1rem', borderRadius: '0.5rem', fontSize: '0.75rem', fontWeight: '600', display: 'inline-block', minWidth: '80px', textAlign: 'center' }}>\r\n            {status}\r\n        </span>\r\n    );\r\n};\r\n\r\nconst Dropdown = ({ label, options, activeValue, onSelect }: { label: string, options: string[], activeValue: string, onSelect: (val: string) => void }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    return (\r\n        <div style={{ position: 'relative', display: 'inline-block' }}>\r\n            <button \r\n                onClick={() => setIsOpen(!isOpen)}\r\n                style={{ padding: '0.6rem 1rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: activeValue !== 'All' && activeValue !== label ? '#eef7f0' : 'white', display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.85rem', color: activeValue !== 'All' && activeValue !== label ? '#2d8a46' : '#374151', cursor: 'pointer', width: '100%', justifyContent: 'space-between' }}\r\n            >\r\n                {activeValue === 'All' ? label : activeValue}\r\n                <ChevronDown size={14} />\r\n            </button>\r\n            {isOpen && (\r\n                <div style={{ position: 'absolute', top: '120%', left: 0, minWidth: '150px', backgroundColor: 'white', borderRadius: '1rem', boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1)', padding: '0.5rem', zIndex: 50, border: '1px solid #f3f4f6' }}>\r\n                    <div onClick={() => { onSelect('All'); setIsOpen(false); }} style={{ padding: '0.5rem 1rem', cursor: 'pointer', borderRadius: '0.5rem', fontWeight: activeValue === 'All' ? 'bold' : 'normal' }} className=\"hover:bg-gray-50\">\r\n                        All\r\n                    </div>\r\n                    {options.length > 0 ? options.map(opt => (\r\n                        <div key={opt} onClick={() => { onSelect(opt); setIsOpen(false); }} style={{ padding: '0.5rem 1rem', cursor: 'pointer', borderRadius: '0.5rem', fontWeight: activeValue === opt ? 'bold' : 'normal' }} className=\"hover:bg-gray-50\">\r\n                            {opt}\r\n                        </div>\r\n                    )) : <div style={{ padding: '0.5rem', color: '#9ca3af', fontSize: '0.8rem' }}>No options</div>}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Main Page Component ---\r\n\r\nexport const DeliveryServices = () => {\r\n    const [activeStat, setActiveStat] = useState<string | null>('Pending');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedDelivery, setSelectedDelivery] = useState<Delivery | null>(null);\r\n    const [viewMode, setViewMode] = useState<'Drivers' | 'Riders'>('Drivers');\r\n\r\n    // Filters State\r\n    const [statusFilter, setStatusFilter] = useState('All');\r\n    const [serviceFilter, setServiceFilter] = useState('All');\r\n    const [methodFilter, setMethodFilter] = useState('All');\r\n    const [periodFilter, setPeriodFilter] = useState('All');\r\n    const [cityFilter, setCityFilter] = useState('All');\r\n\r\n    const filteredDeliveries = mockDeliveries.filter(d => {\r\n        // Stats Filter\r\n        if (activeStat === 'Pending' && d.status !== 'Pending') return false; \r\n        if (activeStat === 'Accepted' && d.status !== 'Accepted') return false; \r\n        if (activeStat === 'Cancelled' && d.status !== 'Cancelled') return false; \r\n\r\n        // Search Filter (ID, Rider Name, Driver Name)\r\n        const searchLower = searchTerm.toLowerCase();\r\n        const matchesSearch = \r\n            d.id.toLowerCase().includes(searchLower) ||\r\n            d.rider.name.toLowerCase().includes(searchLower) ||\r\n            d.driver.name.toLowerCase().includes(searchLower) ||\r\n            d.deliveryId.toLowerCase().includes(searchLower);\r\n        \r\n        if (!matchesSearch) return false;\r\n\r\n        // Dropdown Filters\r\n        if (statusFilter !== 'All' && d.status !== statusFilter) return false;\r\n        // Note: Mock data only has 'Regular Ride', so 'Express' would filter all out.\r\n        // Assuming 'Regular' maps to 'Regular Ride' in Service Type. \r\n        if (serviceFilter !== 'All' && !d.serviceType.includes(serviceFilter)) return false;\r\n        if (methodFilter !== 'All' && activeStat !== 'Cancelled' &&  !d.paymentMethod.includes(methodFilter)) return false; // Basic check\r\n        if (cityFilter !== 'All' && d.rider.city !== cityFilter) return false;\r\n        // Period filter logic omitted for simplicity with static dates, can add if needed.\r\n\r\n        return true;\r\n    });\r\n\r\n    const filteredDriverRiders = mockDriverRiders.filter(\r\n        person => viewMode === 'Drivers' ? person.type === 'Driver' : person.type === 'Rider'\r\n    );\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', paddingBottom: '4rem' }}>\r\n            <style>{`\r\n                .ds-stats-grid {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(4, 1fr);\r\n                    gap: 1.5rem;\r\n                }\r\n                .ds-controls-container {\r\n                    display: flex;\r\n                    gap: 1rem;\r\n                    flex-wrap: wrap;\r\n                    align-items: center;\r\n                }\r\n                .ds-table-container {\r\n                    width: 100%;\r\n                    overflow-x: auto;\r\n                    border-radius: 1rem;\r\n                    background: transparent;\r\n                }\r\n                .ds-table-header {\r\n                    display: grid;\r\n                    grid-template-columns: 0.8fr 1fr 2fr 2fr 1fr 1fr 1fr 1fr;\r\n                    background-color: #38AC57;\r\n                    color: white;\r\n                    padding: 1rem;\r\n                    border-radius: 1rem;\r\n                    align-items: center;\r\n                    font-weight: bold;\r\n                    font-size: 0.9rem;\r\n                    margin-bottom: 1rem;\r\n                    min-width: 1000px;\r\n                }\r\n                .ds-table-row {\r\n                    display: grid;\r\n                    grid-template-columns: 0.8fr 1fr 2fr 2fr 1fr 1fr 1fr 1fr;\r\n                    background-color: white;\r\n                    padding: 1rem;\r\n                    border-radius: 1rem;\r\n                    align-items: center;\r\n                    box-shadow: 0 1px 2px rgba(0,0,0,0.05);\r\n                    min-width: 1000px;\r\n                }\r\n                .ds-people-grid {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(3, 1fr);\r\n                    gap: 1rem;\r\n                }\r\n                .ds-modal-overlay {\r\n                    position: fixed;\r\n                    top: 0;\r\n                    left: 0;\r\n                    right: 0;\r\n                    bottom: 0;\r\n                    background-color: rgba(0,0,0,0.5);\r\n                    z-index: 1000;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    padding: 1rem;\r\n                    backdrop-filter: blur(4px);\r\n                }\r\n                .ds-modal-content {\r\n                    width: 900px;\r\n                    max-width: 100%;\r\n                    background-color: white;\r\n                    border-radius: 2rem;\r\n                    padding: 2.5rem;\r\n                    max-height: 95vh;\r\n                    overflow-y: auto;\r\n                    position: relative;\r\n                    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n                }\r\n                .ds-info-grid {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(4, 1fr);\r\n                    gap: 1.5rem 1rem;\r\n                }\r\n                .ds-vehicle-grid {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(4, 1fr);\r\n                    gap: 1.5rem 1rem;\r\n                }\r\n                .ds-payment-grid {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    align-items: flex-end;\r\n                    text-align: center;\r\n                }\r\n                .ds-summary-grid {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(5, 1fr);\r\n                    gap: 1rem;\r\n                }\r\n                .ds-flex-responsive {\r\n                    display: flex;\r\n                    gap: 2rem;\r\n                    align-items: center;\r\n                }\r\n\r\n                @media (max-width: 1024px) {\r\n                    .ds-stats-grid {\r\n                        grid-template-columns: repeat(2, 1fr);\r\n                    }\r\n                    .ds-people-grid {\r\n                        grid-template-columns: repeat(2, 1fr);\r\n                    }\r\n                }\r\n\r\n                @media (max-width: 768px) {\r\n                    .ds-modal-content {\r\n                        padding: 1.5rem;\r\n                    }\r\n                    .ds-controls-container {\r\n                        flex-direction: column;\r\n                        align-items: stretch;\r\n                    }\r\n                    .ds-controls-container > div {\r\n                        width: 100% !important;\r\n                    }\r\n                    .ds-people-grid {\r\n                        grid-template-columns: 1fr;\r\n                    }\r\n                    .ds-flex-responsive {\r\n                        flex-direction: column;\r\n                        text-align: center;\r\n                    }\r\n                    .ds-info-grid, .ds-vehicle-grid, .ds-summary-grid {\r\n                        grid-template-columns: 1fr;\r\n                        text-align: left;\r\n                        gap: 1rem;\r\n                    }\r\n                    .ds-payment-grid {\r\n                        flex-direction: column;\r\n                        align-items: stretch;\r\n                        text-align: left;\r\n                        gap: 1rem;\r\n                    }\r\n                    .ds-payment-grid > div {\r\n                        display: flex;\r\n                        justify-content: space-between;\r\n                        align-items: center;\r\n                        padding-bottom: 0.5rem;\r\n                        border-bottom: 1px solid #f3f4f6;\r\n                    }\r\n                }\r\n\r\n                @media (max-width: 480px) {\r\n                    .ds-stats-grid {\r\n                        grid-template-columns: 1fr;\r\n                    }\r\n                }\r\n            `}</style>\r\n            {/* Header */}\r\n            <div>\r\n                <h1 style={{ fontSize: '1.8rem', fontWeight: 'bold', margin: '0 0 0.5rem 0' }}>Delivery Service</h1>\r\n                <p style={{ color: '#6b7280', margin: 0 }}>Monitor all trip types across Hezzni's transportation services</p>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"ds-stats-grid\">\r\n                {[\r\n                    { label: 'Total Deliveries', count: '068', icon: totalDeliveriesIcon, activeName: 'Total Deliveries' },\r\n                    { label: 'Pending', count: '045', icon: pendingIcon, activeName: 'Pending' },\r\n                    { label: 'Accepted', count: '036', icon: acceptedIcon, activeName: 'Accepted' },\r\n                    { label: 'Cancelled', count: '075', icon: cancelledIcon, activeName: 'Cancelled' },\r\n                ].map((stat) => {\r\n                    const isActive = activeStat === stat.activeName;\r\n                    return (\r\n                        <div \r\n                            key={stat.activeName}\r\n                            onClick={() => setActiveStat(stat.activeName)}\r\n                            style={{ \r\n                                padding: '1.5rem', borderRadius: '1.5rem', \r\n                                backgroundColor: isActive ? '#38AC57' : 'white', \r\n                                color: isActive ? 'white' : 'black',\r\n                                position: 'relative', \r\n                                boxShadow: isActive ? '0 10px 15px -3px rgba(56, 172, 87, 0.4)' : '0 1px 3px rgba(0,0,0,0.05)', \r\n                                display: 'flex', flexDirection: 'column', justifyContent: 'space-between', height: '140px', cursor: 'pointer',\r\n                                transition: 'all 0.2s', transform: isActive ? 'translateY(-2px)' : 'none'\r\n                            }}\r\n                        >\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem' }}>\r\n                                <img \r\n                                    src={stat.icon} \r\n                                    alt=\"\" \r\n                                    style={{ \r\n                                        width: '28px', height: '28px', objectFit: 'contain'\r\n                                    }} \r\n                                />\r\n                                <span style={{ fontWeight: '600', fontSize: '0.95rem' }}>{stat.label}</span>\r\n                            </div>\r\n                            <div style={{ fontSize: '2.5rem', fontWeight: 'bold' }}>{stat.count}</div>\r\n                            <div style={{ position: 'absolute', bottom: '1rem', right: '1rem', backgroundColor: isActive ? 'white' : '#38AC57', borderRadius: '50%', padding: '0.4rem', color: isActive ? '#38AC57' : 'white', display: 'flex', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\r\n                                <ArrowUpRight size={16} /> \r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Toolbar */}\r\n            <div className=\"ds-controls-container\">\r\n                <div style={{ position: 'relative', width: '300px' }}>\r\n                    <Search size={18} color=\"#9ca3af\" style={{ position: 'absolute', left: '1rem', top: '50%', transform: 'translateY(-50%)' }} />\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Search\" \r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        style={{ width: '100%', padding: '0.7rem 1rem 0.7rem 2.8rem', borderRadius: '2rem', border: '1px solid #e5e7eb', outline: 'none' }} \r\n                    />\r\n                </div>\r\n                <Dropdown label=\"Status\" options={['Pending', 'Accepted', 'Scheduled', 'Cancelled']} activeValue={statusFilter} onSelect={setStatusFilter} />\r\n                <Dropdown label=\"Service Type\" options={['Regular', 'Express']} activeValue={serviceFilter} onSelect={setServiceFilter} />\r\n                <Dropdown label=\"Method\" options={['Cash', 'Visa', 'Mastercard']} activeValue={methodFilter} onSelect={setMethodFilter} />\r\n                <Dropdown label=\"Periods\" options={['Today', 'This Week']} activeValue={periodFilter} onSelect={setPeriodFilter} />\r\n                <Dropdown label=\"City\" options={['Casablanca', 'Marrakech', 'Rabat']} activeValue={cityFilter} onSelect={setCityFilter} />\r\n                <button \r\n                    onClick={() => {\r\n                        setStatusFilter('All'); setServiceFilter('All'); setMethodFilter('All'); \r\n                        setPeriodFilter('All'); setCityFilter('All'); setSearchTerm('');\r\n                    }}\r\n                    style={{ padding: '0.7rem 1rem', borderRadius: '2rem', border: 'none', backgroundColor: '#f3f4f6', display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer', fontSize: '0.9rem', color: '#374151' }}\r\n                >\r\n                    <Filter size={16} /> Filters\r\n                </button>\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <div className=\"ds-table-container\">\r\n                {/* Header Row */}\r\n                <div className=\"ds-table-header\">\r\n                    <div>Trip ID</div>\r\n                    <div>Service</div>\r\n                    <div>Rider</div>\r\n                    <div>Driver</div>\r\n                    <div>Vehicle</div>\r\n                    <div>Status</div>\r\n                    <div>Fare</div>\r\n                    <div style={{ textAlign: 'center' }}>Action</div>\r\n                </div>\r\n\r\n                {/* Rows */}\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.8rem' }}>\r\n                    {filteredDeliveries.map((item, idx) => (\r\n                        <div key={idx} className=\"ds-table-row\">\r\n                            <div style={{ fontWeight: '600' }}>{item.id}</div>\r\n                            <div>\r\n                                <span style={{ backgroundColor: '#eef7f0', color: '#2d8a46', padding: '0.2rem 0.6rem', borderRadius: '1rem', fontSize: '0.7rem', fontWeight: '600' }}>\r\n                                    {item.serviceType}\r\n                                </span>\r\n                            </div>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem' }}>\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <img src={item.rider.avatar} alt=\"\" style={{ width: 36, height: 36, borderRadius: '50%' }} />\r\n                                    <div style={{ position: 'absolute', bottom: -4, left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', color: 'white', fontSize: '0.6rem', padding: '0 0.2rem', borderRadius: '0.2rem' }}>Γÿà{item.rider.rating}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.85rem', fontWeight: '600' }}>{item.rider.name}</div>\r\n                                    <div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>{item.rider.id}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem' }}>\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <img src={item.driver.avatar} alt=\"\" style={{ width: 36, height: 36, borderRadius: '50%' }} />\r\n                                    <div style={{ position: 'absolute', bottom: -4, left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', color: 'white', fontSize: '0.6rem', padding: '0 0.2rem', borderRadius: '0.2rem' }}>Γÿà{item.driver.rating}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.85rem', fontWeight: '600' }}>{item.driver.name}</div>\r\n                                    <div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>{item.driver.id}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem', fontSize: '0.85rem', fontWeight: '600' }}>\r\n                                <img src={carIcon} alt=\"\" style={{ width: '32px', height: '22px', objectFit: 'contain' }} /> {item.vehicleType}\r\n                            </div>\r\n                            <div>\r\n                                <StatusBadge status={item.status} />\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontWeight: 'bold', fontSize: '0.9rem' }}>{item.fare.toFixed(2)} {item.currency}</div>\r\n                                <div style={{ marginTop: '4px', display: 'flex', alignItems: 'center' }}>\r\n                                    {item.paymentMethod === 'Visa' && <img src={visaIcon} alt=\"Visa\" style={{ height: '10px', objectFit: 'contain' }} />}\r\n                                    {item.paymentMethod === 'Mastercard' && <img src={mastercardIcon} alt=\"Mastercard\" style={{ height: '14px', objectFit: 'contain' }} />}\r\n                                    {item.paymentMethod === 'Cash' && <img src={cashIcon} alt=\"Cash\" style={{ height: '14px', objectFit: 'contain' }} />}\r\n                                </div>\r\n                            </div>\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                <button \r\n                                    onClick={() => setSelectedDelivery(item)}\r\n                                    style={{ background: 'white', border: '1px solid #e5e7eb', borderRadius: '2rem', padding: '0.4rem 0.8rem', cursor: 'pointer', display: 'inline-flex', alignItems: 'center', gap: '0.3rem', fontSize: '0.8rem' }}\r\n                                >\r\n                                    <Eye size={14} /> Preview\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Drivers/Riders Section */}\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '1rem' }}>\r\n               <div style={{ backgroundColor: '#e5e7eb', padding: '0.3rem', borderRadius: '2rem', display: 'flex' }}>\r\n                   <button \r\n                        onClick={() => setViewMode('Drivers')}\r\n                        style={{ \r\n                            padding: '0.5rem 1.5rem', borderRadius: '1.5rem', border: 'none', cursor: 'pointer', fontWeight: '600', fontSize: '0.9rem',\r\n                            backgroundColor: viewMode === 'Drivers' ? '#38AC57' : 'transparent', color: viewMode === 'Drivers' ? 'white' : '#6b7280'\r\n                        }}\r\n                   >\r\n                       Drivers\r\n                   </button>\r\n                   <button \r\n                        onClick={() => setViewMode('Riders')}\r\n                        style={{ \r\n                            padding: '0.5rem 1.5rem', borderRadius: '1.5rem', border: 'none', cursor: 'pointer', fontWeight: '600', fontSize: '0.9rem',\r\n                            backgroundColor: viewMode === 'Riders' ? '#38AC57' : 'transparent', color: viewMode === 'Riders' ? 'white' : '#6b7280'\r\n                        }}\r\n                   >\r\n                       Rider\r\n                   </button>\r\n               </div>\r\n               <a href=\"#\" style={{ color: '#38AC57', fontWeight: '600', textDecoration: 'underline', fontSize: '0.9rem' }}>View All</a>\r\n            </div>\r\n\r\n            {/* Driver/Rider Cards Grid */}\r\n            <div className=\"ds-people-grid\">\r\n                {filteredDriverRiders.map((person, idx) => (\r\n                   <div key={idx} className=\"card\" style={{ padding: '1rem', display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                       <div style={{ position: 'relative' }}>\r\n                            <img src={person.avatar} alt=\"\" style={{ width: 50, height: 50, borderRadius: '50%' }} />\r\n                            <div style={{ position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', padding: '0 0.3rem', borderRadius: '0.3rem', fontSize: '0.6rem', color: 'white', whiteSpace: 'nowrap' }}>Γÿà {person.rating}</div>\r\n                       </div>\r\n                       <div style={{ flex: 1 }}>\r\n                           <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                               <div>\r\n                                    <div style={{ fontWeight: 'bold', fontSize: '0.95rem' }}>{person.name}</div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#6b7280' }}>{person.id} ΓÇó {person.location}</div>\r\n                               </div>\r\n                               <div style={{ fontSize: '0.75rem', fontWeight: '600' }}>ΓÇó {person.trips} Trips</div>\r\n                           </div>\r\n                       </div>\r\n                       {person.vehicleIcon && (\r\n                           <img src={carIcon} alt=\"\" style={{ width: '28px', height: '18px', objectFit: 'contain' }} />\r\n                       )}\r\n                   </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Modal */}\r\n            {selectedDelivery && (\r\n                <div className=\"ds-modal-overlay\" onClick={() => setSelectedDelivery(null)}>\r\n                     <div className=\"ds-modal-content\" onClick={e => e.stopPropagation()}>\r\n                        \r\n                        {/* Header */}\r\n                        <div style={{ marginBottom: '1.5rem' }}>\r\n                            <button onClick={() => setSelectedDelivery(null)} style={{ background: 'none', border: 'none', cursor: 'pointer', padding: 0 }}><ArrowLeft size={24} /></button>\r\n                            <h2 style={{ fontSize: '1.4rem', fontWeight: 'bold', margin: '0.5rem 0 0 0' }}>Delivery Details - {selectedDelivery.deliveryId}</h2>\r\n                            <p style={{ color: '#6b7280', margin: 0, fontSize: '0.9rem' }}>Complete delivery information based on Hezzni mobile app</p>\r\n                        </div>\r\n\r\n                        {/* Customer Info */}\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1.25rem', color: '#1e293b' }}>Customer Information</h3>\r\n                        <div style={{ border: '1px solid #f3f4f6', borderRadius: '1.5rem', padding: '1.5rem', marginBottom: '2rem', backgroundColor: 'white' }}>\r\n                            <div className=\"ds-flex-responsive\">\r\n                                <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                                    <img src={selectedDelivery.rider.avatar} alt=\"\" style={{ width: '72px', height: '72px', borderRadius: '50%', objectFit: 'cover' }} />\r\n                                    <div style={{ \r\n                                        position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', \r\n                                        backgroundColor: '#fbbf24', padding: '0.2rem 0.6rem', borderRadius: '1rem', \r\n                                        fontSize: '0.75rem', color: 'white', fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '2px',\r\n                                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                    }}>Γÿà {selectedDelivery.rider.rating}</div>\r\n                                </div>\r\n                                <div className=\"ds-info-grid\">\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Full Name</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.rider.name}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Customer ID</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.rider.id}</div>\r\n                                    </div>\r\n                                    <div style={{ gridColumn: 'span 2' }}>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Category</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                                            <img src={carIcon} alt=\"\" style={{ width: '38px', height: '38px', objectFit: 'contain' }}/> {selectedDelivery.rider.category || 'Hezzni Standard'}\r\n                                        </div>\r\n                                    </div>\r\n                                    \r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Email</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.rider.name.toLowerCase().replace(' ', '')}@gmail.com</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Phone</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.rider.phone}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>City</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                                            casablanca <ChevronDown size={14} color=\"#94a3b8\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Gender</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                                            <span style={{ fontSize: '1.2rem' }}>ΓÖé</span> Male\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Driver Info */}\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1.25rem', color: '#1e293b' }}>Driver Information</h3>\r\n                        <div style={{ border: '1px solid #f3f4f6', borderRadius: '1.5rem', padding: '1.5rem', marginBottom: '2rem', backgroundColor: 'white' }}>\r\n                            <div className=\"ds-flex-responsive\">\r\n                                <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                                    <img src={selectedDelivery.driver.avatar} alt=\"\" style={{ width: '72px', height: '72px', borderRadius: '50%', objectFit: 'cover' }} />\r\n                                    <div style={{ \r\n                                        position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', \r\n                                        backgroundColor: '#fbbf24', padding: '0.2rem 0.6rem', borderRadius: '1rem', \r\n                                        fontSize: '0.75rem', color: 'white', fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '2px',\r\n                                        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                    }}>Γÿà {selectedDelivery.driver.rating}</div>\r\n                                </div>\r\n                                <div className=\"ds-info-grid\">\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Name</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.driver.name}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Vehicle Type</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                                            <img src={taxiIcon} alt=\"\" style={{ width: '38px', height: '38px', objectFit: 'contain' }}/> Taxi\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Phone</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.driver.phone}</div>\r\n                                    </div>\r\n                                    <div></div>\r\n                                    \r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Email</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.driver.name.toLowerCase().replace(' ', '')}@gmail.com</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Driver ID</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.driver.id}</div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>City</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                                            casablanca\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Gender</div>\r\n                                        <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                                            <span style={{ fontSize: '1.2rem' }}>ΓÖé</span> Male\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* What are you sending */}\r\n                        <div style={{ marginBottom: '1.5rem' }}>\r\n                            <div style={{ fontSize: '0.9rem', fontWeight: '600', marginBottom: '0.5rem' }}>What are you sending?</div>\r\n                            <div style={{ border: '1px solid #e5e7eb', borderRadius: '0.5rem', padding: '1rem', display: 'flex', justifyContent: 'space-between', color: '#374151' }}>\r\n                                <span>{selectedDelivery.sendingDescription}</span>\r\n                                <span style={{ color: '#9ca3af' }}>Weight: {selectedDelivery.weight}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Vehicle Info */}\r\n                        <h3 style={{ fontSize: '1.25rem', fontWeight: '800', marginBottom: '1.25rem', color: '#1e293b' }}>Vehicle Information</h3>\r\n                        <div style={{ border: '1px solid #f3f4f6', borderRadius: '1.5rem', padding: '1.5rem', marginBottom: '2rem', backgroundColor: 'white' }}>\r\n                            <div className=\"ds-vehicle-grid\">\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Vehicle</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                                        <img src={carIcon} alt=\"\" style={{ width: '45px', height: '45px', objectFit: 'contain' }}/> {selectedDelivery.vehicleInfo.brand}\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>License Plate</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.vehicleInfo.plate}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Transmission</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.vehicleInfo.transmission}</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Make & Model</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.vehicleInfo.model}</div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>On boarding date</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem' }}>12 Mar 2026</div>\r\n                                </div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Colour</div>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.6rem', fontWeight: '700', fontSize: '1rem' }}>\r\n                                        <div style={{ width: 14, height: 14, borderRadius: '50%', border: '1px solid #e5e7eb', backgroundColor: 'white' }}></div>\r\n                                        {selectedDelivery.vehicleInfo.color}\r\n                                    </div>\r\n                                </div>\r\n                                <div></div>\r\n                                <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#94a3b8', fontWeight: '500', marginBottom: '0.4rem' }}>Year</div>\r\n                                    <div style={{ fontWeight: '700', fontSize: '1rem' }}>{selectedDelivery.vehicleInfo.year}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        {/* Route Details */}\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: 'bold', marginBottom: '1rem' }}>Route Details</h3>\r\n                        <div style={{ border: '1px solid #f3f4f6', borderRadius: '1rem', padding: '1rem', marginBottom: '1.5rem', display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                                <div style={{ width: 12, height: 12, borderRadius: '50%', border: '4px solid #eef7f0', backgroundColor: '#38AC57', flexShrink: 0 }}></div>\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Pickup</div><div style={{ fontWeight: '600' }}>{selectedDelivery.pickup}</div></div>\r\n                            </div>\r\n                            \r\n                            <div style={{ paddingLeft: 18 }}>\r\n                                <div style={{ width: 30, height: 30, borderRadius: '50%', border: '1px solid #f3f4f6', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                    <span style={{ color: '#38AC57', fontSize: '0.8rem' }}>Γçà</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                                <div style={{ width: 12, height: 12, borderRadius: '50%', border: '2px solid #38AC57', flexShrink: 0 }}></div>\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Destination</div><div style={{ fontWeight: '600' }}>{selectedDelivery.destination}</div></div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Payment Information */}\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: 'bold', marginBottom: '1rem' }}>Payment Information</h3>\r\n                        <div style={{ border: '1px solid #f3f4f6', borderRadius: '1rem', padding: '1.5rem', marginBottom: '1.5rem' }}>\r\n                             <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '1rem' }}>\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <img src={selectedDelivery.rider.avatar} alt=\"\" style={{ width: '56px', height: '56px', borderRadius: '50%' }} />\r\n                                    <div style={{ position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', padding: '0.1rem 0.5rem', borderRadius: '1rem', fontSize: '0.7rem', color: 'white', display: 'flex', alignItems: 'center', gap: '2px', whiteSpace: 'nowrap' }}>Γÿà {selectedDelivery.rider.rating}</div>\r\n                                </div>\r\n                             </div>\r\n\r\n                             <div className=\"ds-payment-grid\">\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>TVA</div><div style={{ fontWeight: '600' }}>{selectedDelivery.tva}</div></div>\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Service fee</div><div style={{ fontWeight: '600' }}>{selectedDelivery.serviceFee.toFixed(2)} MAD</div></div>\r\n                                 <div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Payment Method</div>\r\n                                    <div style={{ fontWeight: '600', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.2rem', marginTop: '4px' }}>\r\n                                        {selectedDelivery.paymentMethod === 'Visa' && <img src={visaIcon} alt=\"Visa\" style={{ height: '12px', objectFit: 'contain' }} />}\r\n                                        {selectedDelivery.paymentMethod === 'Mastercard' && <img src={mastercardIcon} alt=\"Mastercard\" style={{ height: '16px', objectFit: 'contain' }} />}\r\n                                        {selectedDelivery.paymentMethod === 'Cash' && <img src={cashIcon} alt=\"Cash\" style={{ height: '16px', objectFit: 'contain' }} />}\r\n                                    </div>\r\n                                </div>\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Discount</div><div style={{ fontWeight: '600' }}>{selectedDelivery.discount}</div></div>\r\n                                <div><div style={{ fontSize: '0.75rem', color: '#9ca3af' }}>Total Amount</div><div style={{ fontWeight: '900', fontSize: '1.1rem' }}>{selectedDelivery.fare.toFixed(2)} <span style={{ fontSize: '0.7rem', fontWeight: 'normal' }}>MAD</span></div></div>\r\n                             </div>\r\n                        </div>\r\n                        \r\n                        {/* Trip Summary */}\r\n                        <h3 style={{ fontSize: '1.1rem', fontWeight: 'bold', marginBottom: '1rem' }}>Trip Summary</h3>\r\n                        <div className=\"ds-summary-grid\" style={{ border: '1px solid #f3f4f6', borderRadius: '1rem', padding: '1rem' }}>\r\n                             <div><div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>Start Time</div><div style={{ fontWeight: '600', fontSize: '0.85rem' }}>{selectedDelivery.startTime}</div></div>\r\n                             <div><div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>End Time</div><div style={{ fontWeight: '600', fontSize: '0.85rem' }}>{selectedDelivery.endTime}</div></div>\r\n                             <div><div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>Distance</div><div style={{ fontWeight: '600', fontSize: '0.85rem' }}>{selectedDelivery.distance}</div></div>\r\n                             <div><div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>Schedule Date</div><div style={{ fontWeight: '600', fontSize: '0.85rem' }}>{selectedDelivery.scheduleDate}</div></div>\r\n                             <div><div style={{ fontSize: '0.7rem', color: '#9ca3af' }}>Schedule Time</div><div style={{ fontWeight: '600', fontSize: '0.85rem' }}>{selectedDelivery.scheduleTime}</div></div>\r\n                        </div>\r\n\r\n                     </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\DriverDocuments.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\DriverDocumentsModals.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":335,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":335,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17431,17434],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17431,17434],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useState } from 'react';\r\nimport { ArrowLeft, ChevronDown, ChevronLeft, ChevronRight, Eye, Car, Bike, Download } from 'lucide-react';\r\n\r\n// Status badge colors\r\nconst statusColors: Record<string, { bg: string; color: string; border: string }> = {\r\n    'Verified': { bg: '#eef7f0', color: '#2d8a46', border: '#bbf7d0' },\r\n    'Pending': { bg: '#f3f4f6', color: '#6b7280', border: '#e5e7eb' },\r\n    'Updated': { bg: '#dbeafe', color: '#2563eb', border: '#bfdbfe' },\r\n    'Rejected': { bg: '#fee2e2', color: '#dc2626', border: '#fecaca' },\r\n    'Expired': { bg: '#fef3c7', color: '#d97706', border: '#fde68a' },\r\n    'Under Review': { bg: '#fef9c3', color: '#a16207', border: '#fef08a' },\r\n    'Completed': { bg: '#eef7f0', color: '#2d8a46', border: '#bbf7d0' },\r\n};\r\n\r\nconst StatusBadge = ({ status }: { status: string }) => {\r\n    const s = statusColors[status] || statusColors['Pending'];\r\n    return (\r\n        <span style={{ backgroundColor: s.bg, color: s.color, border: `1px solid ${s.border}`, padding: '3px 10px', borderRadius: '6px', fontSize: '11px', fontWeight: '600' }}>\r\n            {status}\r\n        </span>\r\n    );\r\n};\r\n\r\n// --- Responsive Styles ---\r\nconst ModalStyles = () => (\r\n    <style>{`\r\n        .adm-modal-overlay {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background-color: rgba(0,0,0,0.4);\r\n            backdrop-filter: blur(4px);\r\n            z-index: 1000;\r\n            display: flex;\r\n            align-items: flex-start;\r\n            justify-content: center;\r\n            padding: 20px;\r\n            overflow-y: auto;\r\n        }\r\n        .adm-modal-content {\r\n            background-color: white;\r\n            border-radius: 24px;\r\n            width: 100%;\r\n            max-width: 900px;\r\n            margin-top: 20px;\r\n            margin-bottom: 20px;\r\n            position: relative;\r\n            padding: 32px;\r\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n        }\r\n        .adm-info-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(4, 1fr);\r\n            gap: 1.5rem;\r\n        }\r\n        .adm-docs-grid {\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr;\r\n            gap: 16px;\r\n        }\r\n        .adm-flex-responsive {\r\n            display: flex;\r\n            gap: 20px;\r\n        }\r\n        .adm-footer-actions {\r\n            display: flex;\r\n            gap: 12px;\r\n        }\r\n\r\n        @media (max-width: 1024px) {\r\n            .adm-info-grid {\r\n                grid-template-columns: repeat(3, 1fr);\r\n            }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .adm-modal-content {\r\n                padding: 20px;\r\n                margin-top: 10px;\r\n                margin-bottom: 10px;\r\n            }\r\n            .adm-info-grid {\r\n                grid-template-columns: repeat(2, 1fr);\r\n                gap: 1rem;\r\n            }\r\n            .adm-docs-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n            .adm-flex-responsive {\r\n                flex-direction: column;\r\n                align-items: center;\r\n                text-align: center;\r\n            }\r\n            .adm-footer-actions {\r\n                flex-direction: column;\r\n                align-items: stretch;\r\n            }\r\n            .adm-info-item {\r\n                text-align: inherit;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n            .adm-info-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n        }\r\n    `}</style>\r\n);\r\n\r\n// ============ SELECT CATEGORY MODAL ============\r\nexport const SelectCategoryModal = ({ onClose, onConfirm }: { onClose: () => void; onConfirm: (cat: string) => void }) => {\r\n    const [selected, setSelected] = useState('Hezzni Standard');\r\n    const categories = [\r\n        { id: 'Hezzni Standard', desc: 'Affordable everyday rides', icon: 'Car' },\r\n        { id: 'Hezzni Comfort', desc: 'Premium rides with higher fares', icon: 'Car' },\r\n        { id: 'Hezzni XL', desc: 'For group trips and extra space', icon: 'Car' },\r\n        { id: 'Motorcycle', desc: 'Affordable everyday rides', icon: 'Bike' },\r\n        { id: 'Taxi', desc: 'Affordable everyday rides', icon: 'Car' },\r\n        { id: 'Hezzni Delivery', desc: 'Deliver parcels and packages', icon: 'Car' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"adm-modal-overlay\">\r\n            <ModalStyles />\r\n            <div className=\"adm-modal-content\" style={{ maxWidth: '500px' }}>\r\n                <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginBottom: '16px', display: 'flex', alignItems: 'center' }}>\r\n                    <ArrowLeft size={24} />\r\n                </button>\r\n                <h2 style={{ fontSize: '22px', fontWeight: 'bold', margin: '0 0 4px 0', textAlign: 'inherit' }}>Rider - T-00234</h2>\r\n                <p style={{ color: '#6b7280', fontSize: '14px', margin: '0 0 24px 0', textAlign: 'inherit' }}>Complete rider profile and activity information</p>\r\n\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '12px', marginBottom: '24px' }}>\r\n                    {categories.map(cat => {\r\n                        const isSelected = selected === cat.id;\r\n                        return (\r\n                            <div key={cat.id} onClick={() => setSelected(cat.id)} style={{\r\n                                display: 'flex', alignItems: 'center', padding: '16px', borderRadius: '16px',\r\n                                border: isSelected ? '2px solid #38AC57' : '2px solid #e5e7eb', cursor: 'pointer', transition: 'all 0.2s'\r\n                            }}>\r\n                                <div style={{ width: 48, height: 48, backgroundColor: '#f3f4f6', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', marginRight: '16px', flexShrink: 0 }}>\r\n                                    {cat.icon === 'Bike' ? <Bike size={24} color=\"#374151\" /> : <Car size={24} color=\"#374151\" />}\r\n                                </div>\r\n                                <div style={{ flex: 1 }}>\r\n                                    <div style={{ fontWeight: 'bold', fontSize: '15px' }}>{cat.id}</div>\r\n                                    <div style={{ fontSize: '13px', color: '#6b7280' }}>{cat.desc}</div>\r\n                                </div>\r\n                                <div style={{ width: 20, height: 20, borderRadius: '50%', border: isSelected ? '5px solid #38AC57' : '2px solid #d1d5db', backgroundColor: 'white', flexShrink: 0 }}></div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                <button onClick={() => { onConfirm(selected); onClose(); }} style={{\r\n                    width: '100%', padding: '14px', borderRadius: '32px', border: 'none',\r\n                    backgroundColor: '#38AC57', color: 'white', fontWeight: 'bold', fontSize: '16px', cursor: 'pointer', transition: 'background-color 0.2s'\r\n                }}\r\n                onMouseEnter={e => e.currentTarget.style.backgroundColor = '#2d8a46'}\r\n                onMouseLeave={e => e.currentTarget.style.backgroundColor = '#38AC57'}\r\n                >Confirm</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// ============ DOCUMENT PREVIEW MODAL ============\r\n// Generate SVG data URI for document previews\r\nconst makeDocSvg = (title: string, subtitle: string, color: string, icon: string, page: string) => {\r\n    const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"520\" height=\"320\" viewBox=\"0 0 520 320\">\r\n        <rect width=\"520\" height=\"320\" rx=\"12\" fill=\"#f8fafc\"/>\r\n        <rect x=\"20\" y=\"20\" width=\"480\" height=\"280\" rx=\"8\" fill=\"white\" stroke=\"${color}\" stroke-width=\"2\"/>\r\n        <rect x=\"20\" y=\"20\" width=\"480\" height=\"50\" rx=\"8\" fill=\"${color}\"/>\r\n        <rect x=\"20\" y=\"62\" width=\"480\" height=\"8\" fill=\"${color}\"/>\r\n        <text x=\"260\" y=\"52\" text-anchor=\"middle\" fill=\"white\" font-family=\"Arial,sans-serif\" font-size=\"18\" font-weight=\"bold\">${title}</text>\r\n        <text x=\"260\" y=\"100\" text-anchor=\"middle\" fill=\"#64748b\" font-family=\"Arial,sans-serif\" font-size=\"13\">${subtitle}</text>\r\n        <text x=\"260\" y=\"180\" text-anchor=\"middle\" fill=\"${color}\" font-family=\"Arial,sans-serif\" font-size=\"48\">${icon}</text>\r\n        <rect x=\"60\" y=\"220\" width=\"160\" height=\"10\" rx=\"4\" fill=\"#e2e8f0\"/>\r\n        <rect x=\"60\" y=\"240\" width=\"120\" height=\"10\" rx=\"4\" fill=\"#e2e8f0\"/>\r\n        <rect x=\"300\" y=\"220\" width=\"160\" height=\"10\" rx=\"4\" fill=\"#e2e8f0\"/>\r\n        <rect x=\"300\" y=\"240\" width=\"100\" height=\"10\" rx=\"4\" fill=\"#e2e8f0\"/>\r\n        <text x=\"260\" y=\"290\" text-anchor=\"middle\" fill=\"#94a3b8\" font-family=\"Arial,sans-serif\" font-size=\"11\">${page}</text>\r\n    </svg>`;\r\n    return `data:image/svg+xml,${encodeURIComponent(svg)}`;\r\n};\r\n\r\nconst documentImages: Record<string, string[]> = {\r\n    'National ID Card (CIN)': [\r\n        makeDocSvg('CARTE NATIONALE D\\'IDENTIT├ë', 'Royaume du Maroc ΓÇó CIN', '#1e40af', '≡ƒ¬¬', 'Front Side'),\r\n        makeDocSvg('CARTE NATIONALE D\\'IDENTIT├ë', 'Verso ΓÇó Informations personnelles', '#1e40af', '≡ƒ¬¬', 'Back Side'),\r\n    ],\r\n    \"Driver's License\": [\r\n        makeDocSvg('PERMIS DE CONDUIRE', 'Royaume du Maroc ΓÇó ╪▒╪«╪╡╪⌐ ╪º┘ä╪│┘è╪º┘é╪⌐', '#2d8a46', '≡ƒÜù', 'Front Side'),\r\n        makeDocSvg('PERMIS DE CONDUIRE', 'Cat├⌐gories ΓÇó Validit├⌐', '#2d8a46', '≡ƒÜù', 'Back Side'),\r\n    ],\r\n    'Pro Driver Card / Carte Professionnelle': [\r\n        makeDocSvg('CARTE PROFESSIONNELLE', 'Chauffeur Professionnel ΓÇó ╪¿╪╖╪º┘é╪⌐ ┘à┘ç┘å┘è╪⌐', '#7c3aed', '≡ƒÅ╖∩╕Å', 'Front Side'),\r\n        makeDocSvg('CARTE PROFESSIONNELLE', 'Num├⌐ro de carte ΓÇó D├⌐tails', '#7c3aed', '≡ƒÅ╖∩╕Å', 'Back Side'),\r\n    ],\r\n    'Vehicle Photos': [\r\n        makeDocSvg('VEHICLE PHOTO', 'Front View ΓÇó Vue avant', '#0369a1', '≡ƒÜÿ', 'Front View'),\r\n        makeDocSvg('VEHICLE PHOTO', 'Side View ΓÇó Vue lat├⌐rale', '#0369a1', '≡ƒÜÖ', 'Side View'),\r\n        makeDocSvg('VEHICLE PHOTO', 'Rear View ΓÇó Vue arri├¿re', '#0369a1', '≡ƒÜù', 'Rear View'),\r\n    ],\r\n    'Face Verification': [\r\n        makeDocSvg('FACE VERIFICATION', 'Selfie Photo ΓÇó ╪º┘ä╪¬╪¡┘é┘é ┘à┘å ╪º┘ä┘ê╪¼┘ç', '#dc2626', '≡ƒñ│', 'Selfie'),\r\n    ],\r\n    'Taxi License(Taxi Drivers Only)': [\r\n        makeDocSvg('LICENCE DE TAXI', 'Autorisation de Transport ΓÇó ╪▒╪«╪╡╪⌐ ╪│┘è╪º╪▒╪⌐ ╪ú╪¼╪▒╪⌐', '#ca8a04', '≡ƒÜò', 'Front Side'),\r\n        makeDocSvg('LICENCE DE TAXI', 'Conditions & Validit├⌐', '#ca8a04', '≡ƒÜò', 'Back Side'),\r\n    ],\r\n    'Vehicle Registration (Carte Grise)': [\r\n        makeDocSvg('CARTE GRISE', 'Certificat d\\'Immatriculation ΓÇó ╪º┘ä╪¿╪╖╪º┘é╪⌐ ╪º┘ä╪▒┘à╪º╪»┘è╪⌐', '#0f766e', '≡ƒôï', 'Front Side'),\r\n        makeDocSvg('CARTE GRISE', 'Caract├⌐ristiques Techniques', '#0f766e', '≡ƒôï', 'Back Side'),\r\n    ],\r\n    'Vehicle Detail': [\r\n        makeDocSvg('VEHICLE INSURANCE', 'Assurance Automobile ΓÇó ╪¬╪ú┘à┘è┘å ╪º┘ä╪│┘è╪º╪▒╪⌐', '#9333ea', '≡ƒ¢í∩╕Å', 'Insurance Document'),\r\n        makeDocSvg('VEHICLE INSURANCE', 'Policy Details ΓÇó Attestation', '#9333ea', '≡ƒ¢í∩╕Å', 'Insurance Card'),\r\n    ],\r\n    'Vehicle Details': [\r\n        makeDocSvg('VEHICLE DETAILS', 'Licence Plate ΓÇó ┘ä┘ê╪¡╪⌐ ╪º┘ä╪¬╪▒┘é┘è┘à', '#ea580c', '≡ƒöó', 'Plate Number'),\r\n        makeDocSvg('VEHICLE DETAILS', 'Make, Model & Specifications', '#ea580c', '≡ƒô¥', 'Vehicle Info'),\r\n    ],\r\n};\r\n\r\nexport const DocumentPreviewModal = ({ docName, onClose }: { docName: string; onClose: () => void }) => {\r\n    const [imgIndex, setImgIndex] = useState(0);\r\n    const images = documentImages[docName] || [\r\n        `https://picsum.photos/seed/${encodeURIComponent(docName)}/520/320`,\r\n    ];\r\n    const totalImages = images.length;\r\n\r\n    return (\r\n        <div className=\"adm-modal-overlay\">\r\n            <ModalStyles />\r\n            <div className=\"adm-modal-content\" style={{ maxWidth: '520px' }}>\r\n                <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginBottom: '16px', display: 'flex', alignItems: 'center' }}>\r\n                    <ArrowLeft size={24} />\r\n                </button>\r\n                <h3 style={{ fontSize: '18px', fontWeight: 'bold', margin: '0 0 20px 0', textAlign: 'inherit' }}>{docName}</h3>\r\n\r\n                <div style={{ position: 'relative', marginBottom: '16px' }}>\r\n                    <img \r\n                        src={images[imgIndex]} \r\n                        alt={docName} \r\n                        style={{ \r\n                            width: '100%', height: '280px', objectFit: 'cover', \r\n                            borderRadius: '16px', backgroundColor: '#f3f4f6',\r\n                            display: 'block'\r\n                        }} \r\n                    />\r\n                    {/* Left Arrow */}\r\n                    <button \r\n                        onClick={() => setImgIndex(Math.max(0, imgIndex - 1))} \r\n                        disabled={imgIndex === 0}\r\n                        style={{\r\n                            position: 'absolute', left: '8px', top: '50%', transform: 'translateY(-50%)',\r\n                            width: '40px', height: '40px', borderRadius: '50%', backgroundColor: 'white', border: 'none',\r\n                            cursor: imgIndex === 0 ? 'default' : 'pointer', \r\n                            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                            boxShadow: '0 2px 10px rgba(0,0,0,0.2)', opacity: imgIndex === 0 ? 0.35 : 1,\r\n                            transition: 'opacity 0.2s'\r\n                        }}\r\n                    >\r\n                        <ChevronLeft size={22} />\r\n                    </button>\r\n                    {/* Right Arrow */}\r\n                    <button \r\n                        onClick={() => setImgIndex(Math.min(totalImages - 1, imgIndex + 1))} \r\n                        disabled={imgIndex === totalImages - 1}\r\n                        style={{\r\n                            position: 'absolute', right: '8px', top: '50%', transform: 'translateY(-50%)',\r\n                            width: '40px', height: '40px', borderRadius: '50%', backgroundColor: 'white', border: 'none',\r\n                            cursor: imgIndex === totalImages - 1 ? 'default' : 'pointer',\r\n                            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                            boxShadow: '0 2px 10px rgba(0,0,0,0.2)', opacity: imgIndex === totalImages - 1 ? 0.35 : 1,\r\n                            transition: 'opacity 0.2s'\r\n                        }}\r\n                    >\r\n                        <ChevronRight size={22} />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Image indicator dots */}\r\n                {totalImages > 1 && (\r\n                    <div style={{ display: 'flex', justifyContent: 'center', gap: '6px', marginBottom: '20px' }}>\r\n                        {images.map((_, i) => (\r\n                            <button \r\n                                key={i}\r\n                                onClick={() => setImgIndex(i)}\r\n                                style={{ \r\n                                    width: imgIndex === i ? '20px' : '8px', height: '8px', borderRadius: '4px', border: 'none',\r\n                                    backgroundColor: imgIndex === i ? '#38AC57' : '#d1d5db', cursor: 'pointer',\r\n                                    transition: 'all 0.2s', padding: 0\r\n                                }} \r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Page indicator text */}\r\n                <div style={{ textAlign: 'center', fontSize: '12px', color: '#9ca3af', marginBottom: '20px' }}>\r\n                    Page {imgIndex + 1} of {totalImages}\r\n                </div>\r\n\r\n                <div className=\"adm-footer-actions\">\r\n                    <button onClick={onClose} style={{\r\n                        flex: 1, padding: '12px', borderRadius: '24px', border: '1px solid #e5e7eb',\r\n                        backgroundColor: 'white', fontWeight: '600', cursor: 'pointer', fontSize: '14px',\r\n                        transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={e => { e.currentTarget.style.backgroundColor = '#f9fafb'; e.currentTarget.style.borderColor = '#d1d5db'; }}\r\n                    onMouseLeave={e => { e.currentTarget.style.backgroundColor = 'white'; e.currentTarget.style.borderColor = '#e5e7eb'; }}\r\n                    >Cancel</button>\r\n                    <button onClick={() => alert('Document downloaded!')} style={{\r\n                        flex: 1, padding: '12px', borderRadius: '24px', border: 'none',\r\n                        backgroundColor: '#38AC57', color: 'white', fontWeight: '600', cursor: 'pointer', fontSize: '14px',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '6px',\r\n                        transition: 'background-color 0.2s'\r\n                    }}\r\n                    onMouseEnter={e => e.currentTarget.style.backgroundColor = '#2d8a46'}\r\n                    onMouseLeave={e => e.currentTarget.style.backgroundColor = '#38AC57'}\r\n                    >\r\n                        <Download size={16} /> Download\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// ============ APPLICATION REVIEW MODAL ============\r\nexport const ApplicationReviewModal = ({ doc, onClose, onApprove, onReject }: { doc: any; onClose: () => void; onApprove: () => void; onReject: () => void }) => {\r\n    const [notes, setNotes] = useState('');\r\n    const [showCategoryModal, setShowCategoryModal] = useState(false);\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n    const [showDocPreview, setShowDocPreview] = useState<string | null>(null);\r\n    const [mainStatus, setMainStatus] = useState(doc.status);\r\n    const [openMainStatus, setOpenMainStatus] = useState(false);\r\n\r\n    const uploadedDocs = [\r\n        { name: 'National ID Card (CIN)', desc: 'Government-issued identification.', status: 'Under Review', date: '2025-01-10' },\r\n        { name: \"Driver's License\", desc: 'Valid and current driver\\'s license.', status: 'Pending', date: '2025-01-10' },\r\n        { name: 'Pro Driver Card / Carte Professionnelle', desc: '(If Applicable) Professional permit required for commercial drivers.', status: 'Verified', date: '2025-01-10' },\r\n        { name: 'Vehicle Photos', desc: 'Upload clear exterior photos of your vehicle.', status: 'Updated', date: '2025-01-10' },\r\n        { name: 'Face Verification', desc: 'Take a selfie to confirm your identity.', status: 'Under Review', date: '2025-01-10' },\r\n        { name: 'Taxi License(Taxi Drivers Only)', desc: 'Required only if you drive a taxi.', status: 'Verified', date: '2025-01-10' },\r\n        { name: 'Vehicle Registration (Carte Grise)', desc: 'Proof of vehicle ownership.', status: 'Updated', date: '2025-01-10' },\r\n        { name: 'Vehicle Detail', desc: 'Add current vehicle insurance details.', status: 'Under Review', date: '2025-01-10' },\r\n        { name: 'Vehicle Details', desc: 'Provide make, model, and plate number.', status: 'Updated', date: '2025-01-10' },\r\n    ];\r\n\r\n    const [docStatuses, setDocStatuses] = useState<Record<string, string>>(\r\n        Object.fromEntries(uploadedDocs.map(d => [d.name, d.status]))\r\n    );\r\n    const [openDropdown, setOpenDropdown] = useState<string | null>(null);\r\n\r\n    const statusOptions = ['Pending', 'Under Review', 'Verified', 'Updated', 'Rejected'];\r\n\r\n    return (\r\n        <div className=\"adm-modal-overlay\">\r\n            <ModalStyles />\r\n            <div className=\"adm-modal-content\">\r\n                {/* Header */}\r\n                <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginBottom: '16px', display: 'flex', alignItems: 'center' }}>\r\n                    <ArrowLeft size={24} />\r\n                </button>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\r\n                    <h2 style={{ fontSize: '22px', fontWeight: 'bold', margin: 0 }}>Driver Application Review</h2>\r\n                    <StatusBadge status={mainStatus} />\r\n                </div>\r\n                <p style={{ color: '#6b7280', fontSize: '14px', margin: '0 0 28px 0' }}>Review all uploaded documents and approve or reject the application</p>\r\n\r\n                {/* Driver Information */}\r\n                <h3 style={{ fontSize: '16px', fontWeight: 'bold', margin: '0 0 16px 0', textAlign: 'inherit' }}>Driver Information</h3>\r\n                <div style={{ border: '1px solid #f3f4f6', borderRadius: '16px', padding: '20px', marginBottom: '24px' }}>\r\n                    <div className=\"adm-flex-responsive\" style={{ alignItems: 'flex-start' }}>\r\n                        <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                            <img src={doc.avatar} style={{ width: '64px', height: '64px', borderRadius: '50%', objectFit: 'cover' }} alt=\"\" />\r\n                            <div style={{ position: 'absolute', bottom: '-6px', left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', borderRadius: '6px', padding: '0 4px', fontSize: '10px', fontWeight: 'bold' }}>4.8</div>\r\n                        </div>\r\n                        <div className=\"adm-info-grid\" style={{ flex: 1, textAlign: 'inherit' }}>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Full Name</div><div style={{ fontWeight: '600' }}>{doc.driverName}</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Vehicle Type</div><div style={{ fontWeight: '600', display: 'flex', alignItems: 'center', gap: '4px', justifyContent: 'inherit' }}>≡ƒÜò Taxi</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Phone</div><div style={{ fontWeight: '600' }}>+212 6 12 34 56</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Application ID</div><div style={{ fontWeight: '600' }}>REG-001</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Email</div><div style={{ fontWeight: '600', wordBreak: 'break-all' }}>Ahmedhassan@gmail.com</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Driver ID</div><div style={{ fontWeight: '600' }}>{doc.driverId}</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>City</div><div style={{ fontWeight: '600' }}>Casablanca</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Gender</div><div style={{ fontWeight: '600' }}>ΓÖé Male</div></div>\r\n                            <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Application Date</div><div style={{ fontWeight: '600' }}>10-01-2026</div></div>\r\n                            <div style={{ position: 'relative' }} className=\"adm-info-item\">\r\n                                <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Current Status</div>\r\n                                <button onClick={() => setOpenMainStatus(!openMainStatus)} style={{\r\n                                    display: 'flex', alignItems: 'center', gap: '4px', padding: '4px 10px', borderRadius: '6px',\r\n                                    border: `1px solid ${(statusColors[mainStatus] || statusColors['Pending']).border}`,\r\n                                    backgroundColor: (statusColors[mainStatus] || statusColors['Pending']).bg,\r\n                                    color: (statusColors[mainStatus] || statusColors['Pending']).color,\r\n                                    fontSize: '11px', fontWeight: '600', cursor: 'pointer'\r\n                                }}>\r\n                                    {mainStatus} <ChevronDown size={12} />\r\n                                </button>\r\n                                {openMainStatus && (\r\n                                    <div style={{ position: 'absolute', top: '110%', left: 0, backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', boxShadow: '0 8px 20px rgba(0,0,0,0.12)', zIndex: 100, minWidth: '130px', padding: '4px' }}>\r\n                                        {statusOptions.map(s => (\r\n                                            <div key={s} onClick={() => { setMainStatus(s); setOpenMainStatus(false); }}\r\n                                                style={{ padding: '6px 10px', fontSize: '12px', cursor: 'pointer', borderRadius: '4px', fontWeight: mainStatus === s ? 'bold' : 'normal', backgroundColor: mainStatus === s ? '#eef7f0' : 'transparent' }}\r\n                                                onMouseEnter={e => e.currentTarget.style.backgroundColor = '#f3f4f6'}\r\n                                                onMouseLeave={e => e.currentTarget.style.backgroundColor = mainStatus === s ? '#eef7f0' : 'transparent'}\r\n                                            >{s}</div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Category Selection */}\r\n                <div style={{ backgroundColor: '#eef7f0', borderRadius: '16px', padding: '20px', textAlign: 'center', marginBottom: '24px' }}>\r\n                    <p style={{ fontWeight: '600', fontSize: '14px', marginBottom: '12px', margin: '0 0 12px 0' }}>Category Determines Pricing And Service Level For This Driver</p>\r\n                    {selectedCategory && <p style={{ fontSize: '13px', color: '#2d8a46', margin: '0 0 12px 0' }}>Selected: <strong>{selectedCategory}</strong></p>}\r\n                    <button onClick={() => setShowCategoryModal(true)} style={{\r\n                        padding: '10px 24px', borderRadius: '24px', border: '1px solid #e5e7eb',\r\n                        backgroundColor: 'white', fontWeight: '600', cursor: 'pointer', fontSize: '13px', transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={e => { e.currentTarget.style.borderColor = '#38AC57'; e.currentTarget.style.backgroundColor = '#eef7f0'; }}\r\n                    onMouseLeave={e => { e.currentTarget.style.borderColor = '#e5e7eb'; e.currentTarget.style.backgroundColor = 'white'; }}\r\n                    >Select Category</button>\r\n                </div>\r\n\r\n                {/* Vehicle Information */}\r\n                <h3 style={{ fontSize: '16px', fontWeight: 'bold', margin: '0 0 16px 0', textAlign: 'inherit' }}>Vehicle Information</h3>\r\n                <div style={{ border: '1px solid #f3f4f6', borderRadius: '16px', padding: '20px', marginBottom: '28px' }}>\r\n                    <div className=\"adm-info-grid\" style={{ flex: 1, textAlign: 'inherit' }}>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Driver ID</div><div style={{ fontWeight: 'bold', fontSize: '16px' }}>D-00045</div></div>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Vehicle Colour</div><div style={{ fontWeight: '600', display: 'flex', alignItems: 'center', gap: '4px', justifyContent: 'inherit' }}>ΓÜ¬ White</div></div>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Licence Plate Num</div><div style={{ fontWeight: 'bold', fontSize: '16px' }}>8 | i | 26363</div></div>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Make & Model</div><div style={{ fontWeight: 'bold', fontSize: '16px' }}>Dacia Logan</div></div>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Year</div><div style={{ fontWeight: 'bold', fontSize: '16px' }}>2020</div></div>\r\n                        <div className=\"adm-info-item\"><div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '2px' }}>Join Date</div><div style={{ fontWeight: '600' }}>2023-01-15</div></div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Uploaded Documents */}\r\n                <h3 style={{ fontSize: '16px', fontWeight: 'bold', margin: '0 0 16px 0', textAlign: 'inherit' }}>Uploaded Documents</h3>\r\n                <div className=\"adm-docs-grid\" style={{ marginBottom: '28px' }}>\r\n                    {uploadedDocs.map(d => (\r\n                        <div key={d.name} style={{ border: '1px solid #f3f4f6', borderRadius: '16px', padding: '16px' }}>\r\n                            <div style={{ fontWeight: 'bold', fontSize: '14px', marginBottom: '4px' }}>{d.name}</div>\r\n                            <div style={{ fontSize: '12px', color: '#6b7280', marginBottom: '12px', minHeight: '32px' }}>{d.desc}</div>\r\n                            <div style={{ display: 'flex', gap: '8px', alignItems: 'center', marginBottom: '12px', flexWrap: 'wrap' }}>\r\n                                {/* Status dropdown */}\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <button onClick={() => setOpenDropdown(openDropdown === d.name ? null : d.name)} style={{\r\n                                        display: 'flex', alignItems: 'center', gap: '4px', padding: '4px 10px', borderRadius: '6px',\r\n                                        border: `1px solid ${(statusColors[docStatuses[d.name]] || statusColors['Pending']).border}`,\r\n                                        backgroundColor: (statusColors[docStatuses[d.name]] || statusColors['Pending']).bg,\r\n                                        color: (statusColors[docStatuses[d.name]] || statusColors['Pending']).color,\r\n                                        fontSize: '11px', fontWeight: '600', cursor: 'pointer'\r\n                                    }}>\r\n                                        {docStatuses[d.name]} <ChevronDown size={12} />\r\n                                    </button>\r\n                                    {openDropdown === d.name && (\r\n                                        <div style={{ position: 'absolute', top: '110%', left: 0, backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '8px', boxShadow: '0 8px 20px rgba(0,0,0,0.12)', zIndex: 10, minWidth: '130px', padding: '4px' }}>\r\n                                            {statusOptions.map(s => (\r\n                                                <div key={s} onClick={() => { setDocStatuses(prev => ({ ...prev, [d.name]: s })); setOpenDropdown(null); }}\r\n                                                    style={{ padding: '6px 10px', fontSize: '12px', cursor: 'pointer', borderRadius: '4px', fontWeight: docStatuses[d.name] === s ? 'bold' : 'normal', backgroundColor: docStatuses[d.name] === s ? '#eef7f0' : 'transparent' }}\r\n                                                    onMouseEnter={e => e.currentTarget.style.backgroundColor = '#f3f4f6'}\r\n                                                    onMouseLeave={e => e.currentTarget.style.backgroundColor = docStatuses[d.name] === s ? '#eef7f0' : 'transparent'}\r\n                                                >{s}</div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <button onClick={() => setShowDocPreview(d.name)} style={{\r\n                                    display: 'flex', alignItems: 'center', gap: '4px', padding: '4px 10px', borderRadius: '6px',\r\n                                    border: '1px solid #e5e7eb', backgroundColor: 'white', fontSize: '11px', fontWeight: '600', cursor: 'pointer'\r\n                                }}\r\n                                onMouseEnter={e => { e.currentTarget.style.borderColor = '#38AC57'; }}\r\n                                onMouseLeave={e => { e.currentTarget.style.borderColor = '#e5e7eb'; }}\r\n                                >\r\n                                    <Eye size={12} /> Preview\r\n                                </button>\r\n                            </div>\r\n                            <div style={{ fontSize: '11px', color: '#9ca3af' }}>Updated on {d.date}</div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Internal Notes */}\r\n                <h3 style={{ fontSize: '16px', fontWeight: 'bold', margin: '0 0 12px 0' }}>Internal Notes</h3>\r\n                <textarea placeholder=\"Add internal notes about this application (not visible to applicant)...\" value={notes} onChange={e => setNotes(e.target.value)}\r\n                    style={{ width: '100%', height: '80px', padding: '14px', borderRadius: '12px', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', resize: 'none', fontFamily: 'inherit', fontSize: '13px', outline: 'none', boxSizing: 'border-box', marginBottom: '16px' }}\r\n                />\r\n                <button onClick={() => alert('Notes saved!')} style={{\r\n                    padding: '10px 24px', borderRadius: '24px', border: '1px solid #1f2937', backgroundColor: 'white',\r\n                    fontWeight: 'bold', fontSize: '14px', cursor: 'pointer', marginBottom: '24px', transition: 'all 0.2s'\r\n                }}\r\n                onMouseEnter={e => { e.currentTarget.style.backgroundColor = '#f9fafb'; }}\r\n                onMouseLeave={e => { e.currentTarget.style.backgroundColor = 'white'; }}\r\n                >Save Notes</button>\r\n\r\n                {/* Approve / Reject */}\r\n                <div className=\"adm-footer-actions\">\r\n                    <button onClick={() => { onApprove(); onClose(); }} style={{\r\n                        flex: 1, padding: '14px', borderRadius: '32px', border: 'none',\r\n                        backgroundColor: '#38AC57', color: 'white', fontWeight: 'bold', fontSize: '15px', cursor: 'pointer', transition: 'background-color 0.2s'\r\n                    }}\r\n                    onMouseEnter={e => e.currentTarget.style.backgroundColor = '#2d8a46'}\r\n                    onMouseLeave={e => e.currentTarget.style.backgroundColor = '#38AC57'}\r\n                    >Approve Application</button>\r\n                    <button onClick={() => { onReject(); onClose(); }} style={{\r\n                        flex: 1, padding: '14px', borderRadius: '32px', border: '2px solid #dc2626',\r\n                        backgroundColor: 'white', color: '#dc2626', fontWeight: 'bold', fontSize: '15px', cursor: 'pointer', transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseEnter={e => { e.currentTarget.style.backgroundColor = '#fef2f2'; }}\r\n                    onMouseLeave={e => { e.currentTarget.style.backgroundColor = 'white'; }}\r\n                    >Reject Application</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sub-modals */}\r\n            {showCategoryModal && <SelectCategoryModal onClose={() => setShowCategoryModal(false)} onConfirm={setSelectedCategory} />}\r\n            {showDocPreview && <DocumentPreviewModal docName={showDocPreview} onClose={() => setShowDocPreview(null)} />}\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\DriverModals.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[265,268],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[265,268],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[317,320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[317,320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useState } from 'react';\r\nimport { ArrowLeft, Car, CheckCircle2, Star, MapPin, Bike } from 'lucide-react';\r\n\r\n// --- Types ---\r\n// You might want to move these shared types to a common file\r\ninterface ModalProps {\r\n    onClose: () => void;\r\n    driver?: any; // Replace with proper Driver type\r\n    trip?: any;   // Replace with proper Trip type\r\n}\r\n\r\n// --- Icons ---\r\n// Mocking vehicle icons for the modals if not available in Lucide\r\nconst VehicleIcon = ({ type, selected }: { type: string, selected: boolean }) => (\r\n    <div style={{ \r\n        width: 48, height: 48, \r\n        backgroundColor: '#eef7f0', \r\n        borderRadius: '50%', \r\n        display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n        marginRight: '1rem'\r\n    }}>\r\n        {type === 'Motorcycle' ? <Bike size={24} color={selected ? \"#2d8a46\" : \"#374151\"} /> : <Car size={24} color={selected ? \"#2d8a46\" : \"#374151\"} />}\r\n    </div>\r\n);\r\n\r\n// --- Change Hezzni Service Category Modal ---\r\n\r\nexport const ChangeCategoryModal = ({ onClose, driver }: ModalProps) => {\r\n    const [selectedCategory, setSelectedCategory] = useState(driver?.vehicleType === 'Motorcycle' ? 'Motorcycle' : 'Hezzni Standard');\r\n\r\n    const categories = [\r\n        { id: 'Hezzni Comfort', label: 'Hezzni Comfort', desc: 'Premium rides with higher fares', icon: 'Car' },\r\n        { id: 'Hezzni Standard', label: 'Hezzni Standard', desc: 'Affordable everyday rides', icon: 'Car' },\r\n        { id: 'Hezzni XL', label: 'Hezzni XL', desc: 'For group trips and extra space', icon: 'Car' },\r\n    ];\r\n    \r\n    // If motorcycle, maybe show motorcycle only or mixed? \r\n    // Screenshot 1 shows \"Ride Preferences\" -> \"Motorcycle\"\r\n    // Screenshot 3 shows \"Change Hezzni Service Category\" -> Cars\r\n    // We will render based on context or show generic list for now.\r\n    \r\n    // Assuming if driver is motorcycle, we show motorcycle category or just the list.\r\n    // The screenshot 3 implies selectable options.\r\n    \r\n    return (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1100, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            <div className=\"card\" style={{ width: '500px', backgroundColor: 'white', borderRadius: '1.5rem', padding: '1.5rem', position: 'relative' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                    <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginRight: '1rem' }}>\r\n                        <ArrowLeft size={24} />\r\n                    </button>\r\n                    <div>\r\n                        <h2 style={{ fontSize: '1.4rem', fontWeight: 'bold', margin: 0 }}>Change Hezzni Service Category</h2>\r\n                        <p style={{ color: '#6b7280', fontSize: '0.85rem', marginTop: '0.3rem', lineHeight: '1.2' }}>Select the appropriate service category for this driver. This will affect pricing and service level.</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '2rem' }}>\r\n                    <h3 style={{ fontSize: '0.9rem', fontWeight: 'bold', marginBottom: '1rem' }}>Service Category*</h3>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                        {categories.map((cat) => {\r\n                             const isSelected = selectedCategory === cat.id;\r\n                             return (\r\n                                <div \r\n                                    key={cat.id}\r\n                                    onClick={() => setSelectedCategory(cat.id)}\r\n                                    style={{ \r\n                                        display: 'flex', alignItems: 'center', padding: '1rem', \r\n                                        borderRadius: '1rem', border: isSelected ? '1px solid #38AC57' : '1px solid #e5e7eb',\r\n                                        cursor: 'pointer', position: 'relative'\r\n                                    }}\r\n                                >\r\n                                    <VehicleIcon type={cat.icon} selected={isSelected} />\r\n                                    <div style={{ flex: 1 }}>\r\n                                        <div style={{ fontWeight: 'bold' }}>{cat.label}</div>\r\n                                        <div style={{ fontSize: '0.8rem', color: '#6b7280' }}>{cat.desc}</div>\r\n                                    </div>\r\n                                    {isSelected && <div style={{ width: 18, height: 18, borderRadius: '50%', border: '4px solid #38AC57', backgroundColor: 'white' }}></div>}\r\n                                </div>\r\n                             );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <button \r\n                    onClick={onClose}\r\n                    style={{ \r\n                        width: '100%', padding: '1rem', borderRadius: '2rem', border: 'none', \r\n                        backgroundColor: '#38AC57', color: 'white', fontWeight: 'bold', fontSize: '1rem',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    Update Category\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Ride Preferences Modal (Motorcycle specific view or similar) ---\r\nexport const RidePreferencesModal = ({ onClose }: ModalProps) => {\r\n    // Determine content based on screenshot 1 \"Ride Prefences\" (sic)\r\n    // It shows \"Motorcycle\" selected.\r\n\r\n    \r\n    return (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1100, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            <div className=\"card\" style={{ width: '500px', backgroundColor: 'white', borderRadius: '1.5rem', padding: '1.5rem' }}>\r\n                 <div style={{ display: 'flex', alignItems: 'center', marginBottom: '2rem' }}>\r\n                    <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginRight: '1rem' }}>\r\n                        <ArrowLeft size={24} />\r\n                    </button>\r\n                    <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', margin: 0 }}>Ride Prefences</h2>\r\n                </div>\r\n\r\n                <div \r\n                    style={{ \r\n                        display: 'flex', alignItems: 'center', padding: '1rem', \r\n                        borderRadius: '1rem', border: '1px solid #38AC57',\r\n                        marginBottom: '2rem'\r\n                    }}\r\n                >\r\n                    <div style={{ marginRight: '1rem' }}><Bike size={32} /></div>\r\n                    <div style={{ flex: 1 }}>\r\n                        <div style={{ fontWeight: 'bold' }}>Motorcycle</div>\r\n                        <div style={{ fontSize: '0.8rem', color: '#6b7280' }}>Affordable everyday rides</div>\r\n                    </div>\r\n                    <div style={{ width: 18, height: 18, borderRadius: '50%', border: '4px solid #38AC57', backgroundColor: 'white' }}></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Suspend Driver Modal ---\r\n\r\nexport const SuspendDriverModal = ({ onClose }: ModalProps) => {\r\n    const [reason, setReason] = useState('');\r\n    const [hours, setHours] = useState('24 Hours');\r\n\r\n    return (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1100, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            <div className=\"card\" style={{ width: '500px', backgroundColor: 'white', borderRadius: '1.5rem', padding: '1.5rem' }}>\r\n                 <div style={{ display: 'flex', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                    <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginRight: '1rem' }}>\r\n                        <ArrowLeft size={24} />\r\n                    </button>\r\n                    <div>\r\n                        <h2 style={{ fontSize: '1.4rem', fontWeight: 'bold', margin: 0 }}>Suspend Driver</h2>\r\n                        <p style={{ color: '#6b7280', fontSize: '0.85rem', marginTop: '0.3rem' }}>Please provide a reason for suspending this driver account.</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem' }}>Suspension Reason</label>\r\n                    <textarea \r\n                        placeholder=\"Type Here\" \r\n                        value={reason}\r\n                        onChange={(e) => setReason(e.target.value)}\r\n                        style={{ \r\n                            width: '100%', height: '100px', padding: '1rem', \r\n                            borderRadius: '1rem', border: 'none', backgroundColor: '#f9fafb',\r\n                            resize: 'none', fontFamily: 'inherit'\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '2rem' }}>\r\n                    <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem' }}>Suspension Hours</label>\r\n                    <div style={{ position: 'relative' }}>\r\n                        <select \r\n                            value={hours}\r\n                            onChange={(e) => setHours(e.target.value)}\r\n                            style={{ \r\n                                width: '100%', padding: '1rem', borderRadius: '1rem', \r\n                                border: 'none', backgroundColor: '#f9fafb',\r\n                                appearance: 'none', cursor: 'pointer', fontWeight: '500'\r\n                            }}\r\n                        >\r\n                            <option>24 Hours</option>\r\n                            <option>48 Hours</option>\r\n                            <option>1 Week</option>\r\n                            <option>Indefinitely</option>\r\n                        </select>\r\n                        <div style={{ position: 'absolute', right: '1rem', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none' }}>Γû╝</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button \r\n                    onClick={onClose}\r\n                    style={{ \r\n                        width: '100%', padding: '1rem', borderRadius: '2rem', border: 'none', \r\n                        backgroundColor: '#b91c1c', color: 'white', fontWeight: 'bold', fontSize: '1rem',\r\n                        cursor: 'pointer'\r\n                    }}\r\n                >\r\n                    Confirm Suspension\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Trip Summary Modal ---\r\n\r\nexport const TripSummaryModal = ({ onClose, trip }: ModalProps) => {\r\n    // Use mock data if trip is missing some fields\r\n    const mockTripData = {\r\n        driverName: trip?.driverName || \"Ahmed Hassan\",\r\n        date: \"3 Jun, 2025 at 12:00 PM\",\r\n        tripsCount: 2847,\r\n        rating: 4.8,\r\n        distance: \"1.3 km\",\r\n        time: \"11 min\",\r\n        price: \"74 MAD\",\r\n        car: {\r\n            plate: \"8 | I | 26363\",\r\n            model: \"Toyota HR-V ΓÇó White\",\r\n            id: \"ID No C-0003\"\r\n        },\r\n        pickup: { location: \"Current Location, Marrakech\", time: \"7:15 PM\" },\r\n        dropoff: { location: \"Current Location, Marrakech\", time: \"9:30 PM\" },\r\n        ratingGiven: 5.0,\r\n        reviewGiven: \"The ride was smooth and comfortable. The driver was polite, the car was clean, and pickup was on time. Overall, a great experience!\",\r\n        ratingReceived: 5.0,\r\n        reviewReceived: \"Very polite and friendly passenger. Communicated well and made the trip smooth.\"\r\n    };\r\n\r\n    return (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 1200, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n            <div className=\"card\" style={{ width: '600px', backgroundColor: 'white', borderRadius: '1.5rem', padding: '0', maxHeight: '90vh', overflowY: 'auto' }}>\r\n                <div style={{ padding: '1.5rem 1.5rem 0.5rem 1.5rem' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'flex-start', marginBottom: '1rem' }}>\r\n                        <button onClick={onClose} style={{ background: 'none', border: 'none', cursor: 'pointer', marginRight: '1rem', padding: 0 }}>\r\n                            <ArrowLeft size={24} />\r\n                        </button>\r\n                        <div>\r\n                            <h2 style={{ fontSize: '1.5rem', fontWeight: 'bold', margin: 0 }}>Trip Summary</h2>\r\n                            <p style={{ color: '#6b7280', fontSize: '0.9rem', marginTop: '0.3rem' }}>{mockTripData.date}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Driver Card */}\r\n                    <div style={{ border: '1px solid #e5e7eb', borderRadius: '1rem', padding: '1rem', display: 'flex', alignItems: 'center', marginBottom: '1rem', justifyContent: 'space-between' }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                             <div style={{ position: 'relative' }}>\r\n                                <img src={`https://i.pravatar.cc/150?u=a`} style={{ width: 50, height: 50, borderRadius: '50%' }} />\r\n                                <div style={{ position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', backgroundColor: '#fbbf24', padding: '0 0.3rem', borderRadius: '0.3rem', fontSize: '0.6rem', fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '2px', border: '1px solid white' }}>\r\n                                    <Star size={8} fill=\"black\" stroke=\"none\" /> {mockTripData.rating}\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                    {mockTripData.driverName} \r\n                                    <CheckCircle2 size={14} fill=\"#3b82f6\" color=\"white\" />\r\n                                </div>\r\n                                <div style={{ fontSize: '0.8rem', color: '#6b7280' }}>({mockTripData.tripsCount} trips)</div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div style={{ display: 'flex', gap: '2rem' }}>\r\n                             <div>\r\n                                 <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Distance</div>\r\n                                 <div style={{ fontWeight: 'bold' }}>{mockTripData.distance}</div>\r\n                             </div>\r\n                             <div>\r\n                                 <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Total Time</div>\r\n                                 <div style={{ fontWeight: 'bold' }}>{mockTripData.time}</div>\r\n                             </div>\r\n                             <div>\r\n                                 <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Price</div>\r\n                                 <div style={{ fontWeight: 'bold', color: '#38AC57' }}>{mockTripData.price}</div>\r\n                             </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Vehicle Card */}\r\n                    <div style={{ border: '1px solid #e5e7eb', borderRadius: '1rem', padding: '1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                        <div>\r\n                             <div style={{ fontWeight: 'bold', fontSize: '1.1rem' }}>{mockTripData.car.plate}</div>\r\n                             <div style={{ fontSize: '0.8rem', color: '#6b7280' }}>{mockTripData.car.model}</div>\r\n                             <div style={{ backgroundColor: 'black', color: 'white', fontSize: '0.7rem', padding: '0.2rem 0.5rem', borderRadius: '1rem', display: 'inline-block', marginTop: '0.5rem' }}>{mockTripData.car.id}</div>\r\n                        </div>\r\n                        {/* Mock Car Image */}\r\n                        <div style={{ fontSize: '3rem' }}>≡ƒÅì</div> \r\n                    </div>\r\n\r\n                    {/* Timeline */}\r\n                    <div style={{ border: '1px solid #e5e7eb', borderRadius: '1rem', padding: '1rem', marginBottom: '1rem' }}>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                 <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem' }}>\r\n                                     <div style={{ width: 10, height: 10, borderRadius: '50%', border: '3px solid #38AC57' }}></div>\r\n                                     <div style={{ fontSize: '0.9rem', fontWeight: '600' }}>{mockTripData.pickup.location}</div>\r\n                                 </div>\r\n                                 <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>{mockTripData.pickup.time}</div>\r\n                            </div>\r\n                            <div style={{ paddingLeft: '4px' }}><div style={{ height: '20px', borderLeft: '2px dashed #e5e7eb' }}></div></div>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                 <div style={{ display: 'flex', alignItems: 'center', gap: '0.8rem' }}>\r\n                                     <MapPin size={18} fill=\"#38AC57\" color=\"#38AC57\" />\r\n                                     <div style={{ fontSize: '0.9rem', fontWeight: '600' }}>{mockTripData.dropoff.location}</div>\r\n                                 </div>\r\n                                 <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>{mockTripData.dropoff.time}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Rating Given */}\r\n                    <div style={{ border: '1px solid #e5e7eb', borderRadius: '1rem', padding: '1rem', marginBottom: '1rem' }}>\r\n                         <div style={{ fontSize: '0.8rem', color: '#6b7280', marginBottom: '0.5rem' }}>Rating Given</div>\r\n                         <div style={{ display: 'flex', gap: '2px', marginBottom: '0.5rem' }}>\r\n                             {Array(5).fill(0).map((_, i) => <Star key={i} size={14} fill=\"#fbbf24\" stroke=\"none\" />)}\r\n                             <span style={{ fontSize: '0.9rem', fontWeight: 'bold', marginLeft: '0.5rem' }}>{mockTripData.ratingGiven}</span>\r\n                         </div>\r\n                         <p style={{ fontSize: '0.85rem', color: '#374151', margin: '0 0 1rem 0' }}>{mockTripData.reviewGiven}</p>\r\n                         <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                             {['On time pickup', 'Clean Car', 'Safe Driving'].map(tag => (\r\n                                 <span key={tag} style={{ backgroundColor: '#38AC57', color: 'white', padding: '0.3rem 0.8rem', borderRadius: '0.3rem', fontSize: '0.7rem', fontWeight: '600' }}>{tag}</span>\r\n                             ))}\r\n                         </div>\r\n                    </div>\r\n\r\n                    {/* Rating Received */}\r\n                    <div style={{ border: '1px solid #e5e7eb', borderRadius: '1rem', padding: '1rem', marginBottom: '1.5rem' }}>\r\n                         <div style={{ fontSize: '0.8rem', color: '#6b7280', marginBottom: '0.5rem' }}>Rating Received</div>\r\n                         <div style={{ display: 'flex', gap: '2px', marginBottom: '0.5rem' }}>\r\n                             {Array(5).fill(0).map((_, i) => <Star key={i} size={14} fill=\"#fbbf24\" stroke=\"none\" />)}\r\n                             <span style={{ fontSize: '0.9rem', fontWeight: 'bold', marginLeft: '0.5rem' }}>{mockTripData.ratingReceived}</span>\r\n                         </div>\r\n                         <p style={{ fontSize: '0.85rem', color: '#374151', margin: '0 0 1rem 0' }}>{mockTripData.reviewReceived}</p>\r\n                         <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                             {['Ready on time', 'Polite & Friendly'].map(tag => (\r\n                                 <span key={tag} style={{ backgroundColor: '#38AC57', color: 'white', padding: '0.3rem 0.8rem', borderRadius: '0.3rem', fontSize: '0.7rem', fontWeight: '600' }}>{tag}</span>\r\n                             ))}\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div style={{ padding: '1.5rem', borderTop: '1px solid #e5e7eb' }}>\r\n                    <button style={{ width: '100%', padding: '1rem', borderRadius: '2rem', border: 'none', backgroundColor: '#38AC57', color: 'white', fontWeight: 'bold', fontSize: '1rem', cursor: 'pointer', display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '0.5rem' }}>\r\n                        Download Receipt\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Drivers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\ForgotPassword.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\LiveTrips.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[966,969],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[966,969],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { ArrowUpRight, Search, SlidersHorizontal, Eye, Star } from 'lucide-react';\r\nimport { TripDetailsModal } from '../components/TripDetailsModal';\r\n\r\n// Vehicle Icons\r\nimport bikeIcon from '../assets/icons/bike.png';\r\nimport carIcon from '../assets/icons/car.png';\r\nimport taxiIcon from '../assets/icons/taxi.png';\r\n\r\n// Payment Icons\r\nimport visaIcon from '../assets/icons/visa.png';\r\nimport mastercardIcon from '../assets/icons/mastercard.png';\r\nimport cashIcon from '../assets/icons/cash.png';\r\n\r\n// Stats Icons\r\nimport totalArchivedIcon from '../assets/icons/Total Archived.png';\r\nimport completedIcon from '../assets/icons/completed.png';\r\nimport cancelledIcon from '../assets/icons/Cancelled Archive.png';\r\nimport earningsIcon from '../assets/icons/Total Earnings.png';\r\nimport commissionIcon from '../assets/icons/comission.png';\r\n\r\nexport const LiveTrips = () => {\r\n    const [selectedTrip, setSelectedTrip] = useState<any>(null);\r\n    const [filterStatus, setFilterStatus] = useState<string | null>('completed'); // Default to completed as per image\r\n    const [filters, setFilters] = useState({\r\n        status: '',\r\n        city: '',\r\n        service: '',\r\n        method: '',\r\n        period: ''\r\n    });\r\n\r\n    const stats = [\r\n        { id: 'all', label: 'Total Archived', value: '01', icon: totalArchivedIcon },\r\n        { id: 'completed', label: 'Completed', value: '01', icon: completedIcon },\r\n        { id: 'cancelled', label: 'Cancelled', value: '01', icon: cancelledIcon },\r\n        { id: 'earnings', label: 'Total Earnings', value: '610.50', unit: 'MAD', icon: earningsIcon },\r\n        { id: 'commission', label: 'Commission', value: '5%', icon: commissionIcon },\r\n    ];\r\n\r\n    const trips = [\r\n        // existing trips data...\r\n        { \r\n            id: 'T-00123', \r\n            service: 'Regular Ride', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Motorcycle', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Searching', \r\n            statusColor: '#dbeafe', \r\n            statusTextColor: '#1e40af', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'visa' \r\n        },\r\n        { \r\n            id: 'T-00124', \r\n            service: 'Motorcycle', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Motorcycle', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Accepted', \r\n            statusColor: '#eef7f0', \r\n            statusTextColor: '#2d8a46', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'mastercard' \r\n        },\r\n        { \r\n            id: 'T-00125', \r\n            service: 'Car Ride', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Car', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Arriving', \r\n            statusColor: '#e0f2fe', \r\n            statusTextColor: '#0284c7', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'visa' \r\n        },\r\n        { \r\n            id: 'T-00126', \r\n            service: 'Motorcycle', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Motorcycle', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Arrived', \r\n            statusColor: '#eef7f0', \r\n            statusTextColor: '#2d8a46', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'cash' \r\n        },\r\n        { \r\n            id: 'T-00127', \r\n            service: 'Taxi', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Taxi', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Started', \r\n            statusColor: '#ede9fe', \r\n            statusTextColor: '#7c3aed', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'visa' \r\n        },\r\n        { \r\n            id: 'T-00128', \r\n            service: 'Motorcycle', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Motorcycle', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'In_progress', \r\n            statusColor: '#f3e8ff', \r\n            statusTextColor: '#9333ea', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'mastercard' \r\n        },\r\n        { \r\n            id: 'T-00129', \r\n            service: 'Taxi', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Taxi', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Completed', \r\n            statusColor: '#eef7f0', \r\n            statusTextColor: '#2d8a46', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'visa' \r\n        },\r\n        { \r\n            id: 'T-00130', \r\n            service: 'Motorcycle', \r\n            serviceColor: '#eef7f0', \r\n            serviceTextColor: '#2d8a46',\r\n            rider: { name: 'Ahmed Hassan', id: 'R-00045', rating: 4.8, img: 'https://i.pravatar.cc/150?u=1' }, \r\n            driver: { name: 'Youssef Ali', id: 'C-00001', rating: 4.9, img: 'https://i.pravatar.cc/150?u=2' }, \r\n            vehicle: 'Motorcycle', \r\n            time: '14:30', \r\n            duration: '25 min', \r\n            status: 'Cancelled', \r\n            statusColor: '#fee2e2', \r\n            statusTextColor: '#dc2626', \r\n            fare: '45.50 MAD', \r\n            paymentMethod: 'mastercard' \r\n        },\r\n    ];\r\n\r\n    const filteredTrips = trips.filter(trip => {\r\n        // Quick Card Filters\r\n        if (filterStatus) {\r\n            if (filterStatus === 'completed' && trip.status !== 'Completed') return false;\r\n            if (filterStatus === 'cancelled' && trip.status !== 'Cancelled') return false;\r\n            if ((filterStatus === 'earnings' || filterStatus === 'commission') && trip.status !== 'Completed') return false;\r\n            // 'all' shows everything\r\n        }\r\n\r\n        // Dropdown Filters\r\n        if (filters.status && filters.status !== 'Status' && trip.status !== filters.status) return false;\r\n        if (filters.service && filters.service !== 'Service Type' && trip.service !== filters.service) return false;\r\n        if (filters.method && filters.method !== 'Method' && trip.paymentMethod !== filters.method.toLowerCase()) return false;\r\n        \r\n        // City logic (placeholder since trip object doesn't have city directly shown in table but it's likely a property if we had full data. \r\n        // For now, no city filtering as city data is missing in the simplified trip objects in this file, or we can mock match against a random city or just ignore for demo)\r\n        // Ignoring City filter for exact match to avoid breaking everything since data is mock.\r\n        \r\n        return true;\r\n    });\r\n\r\n    const handleStatClick = (statId: string) => {\r\n        if (filterStatus === statId) {\r\n            setFilterStatus(null); // Toggle off\r\n        } else {\r\n            setFilterStatus(statId);\r\n        }\r\n    };\r\n\r\n    const handleFilterChange = (key: string, value: string) => {\r\n        setFilters(prev => ({ ...prev, [key]: value }));\r\n    };\r\n\r\n    const clearFilters = () => {\r\n        setFilters({\r\n            status: '',\r\n            city: '',\r\n            service: '',\r\n            method: '',\r\n            period: ''\r\n        });\r\n        setFilterStatus(null);\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem' }}>\r\n            <style dangerouslySetInnerHTML={{ __html: `\r\n                .stats-container {\r\n                    display: grid;\r\n                    grid-template-columns: repeat(5, 1fr);\r\n                    gap: 1rem;\r\n                }\r\n                .filter-bar {\r\n                    display: flex;\r\n                    gap: 0.75rem;\r\n                    align-items: center;\r\n                    flex-wrap: wrap;\r\n                    background-color: white;\r\n                    padding: 0.5rem;\r\n                    border-radius: 3rem;\r\n                    border: 1px solid #f1f5f9;\r\n                }\r\n                .search-container {\r\n                    position: relative;\r\n                    flex: 1;\r\n                    min-width: 200px;\r\n                }\r\n                .dropdown-container {\r\n                    flex-shrink: 0;\r\n                }\r\n                @media (max-width: 1400px) {\r\n                    .stats-container {\r\n                        grid-template-columns: repeat(3, 1fr);\r\n                    }\r\n                }\r\n                .stat-card-clickable:hover {\r\n                    transform: translateY(-5px);\r\n                    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1) !important;\r\n                }\r\n                .stat-card-clickable {\r\n                    transition: all 0.3s ease !important;\r\n                }\r\n                @media (max-width: 1024px) {\r\n                    .stats-container {\r\n                        grid-template-columns: repeat(2, 1fr);\r\n                    }\r\n                    .filter-bar {\r\n                        border-radius: 1.5rem;\r\n                        padding: 1rem;\r\n                    }\r\n                }\r\n                @media (max-width: 768px) {\r\n                    .page-header h1 {\r\n                        font-size: 1.5rem !important;\r\n                    }\r\n                    .page-header p {\r\n                        font-size: 0.85rem;\r\n                    }\r\n                    .stats-container {\r\n                        grid-template-columns: 1fr;\r\n                    }\r\n                    .filter-bar {\r\n                        gap: 0.5rem;\r\n                        border-radius: 1rem;\r\n                    }\r\n                    .search-container {\r\n                        width: 100%;\r\n                        flex: none;\r\n                    }\r\n                    .dropdown-container {\r\n                        flex: 1;\r\n                        min-width: calc(50% - 0.25rem);\r\n                    }\r\n                    .clear-btn {\r\n                        width: 100%;\r\n                        justify-content: center;\r\n                        margin-top: 0.5rem;\r\n                    }\r\n                }\r\n                @media (max-width: 480px) {\r\n                    .dropdown-container {\r\n                        min-width: 100%;\r\n                    }\r\n                    .stats-container {\r\n                        gap: 0.75rem;\r\n                    }\r\n                }\r\n                .table-container {\r\n                    width: 100%;\r\n                    overflow-x: auto;\r\n                    background: white;\r\n                    border-radius: 1.5rem;\r\n                    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);\r\n                    border: 1px solid #f1f5f9;\r\n                }\r\n                table {\r\n                    width: 100%;\r\n                    border-collapse: collapse;\r\n                    min-width: 1000px;\r\n                }\r\n                @media (max-width: 1200px) {\r\n                    table {\r\n                        min-width: 900px;\r\n                    }\r\n                }\r\n                @media (max-width: 1024px) {\r\n                    .hide-on-tablet {\r\n                        display: none;\r\n                    }\r\n                    table {\r\n                        min-width: 700px;\r\n                    }\r\n                }\r\n                @media (max-width: 768px) {\r\n                    .hide-on-mobile {\r\n                        display: none;\r\n                    }\r\n                    table {\r\n                        min-width: 600px;\r\n                    }\r\n                }\r\n                .service-badge {\r\n                    display: inline-flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    padding: 0.4rem 1rem;\r\n                    border-radius: 2rem;\r\n                    font-size: 0.85rem;\r\n                    font-weight: 700;\r\n                    white-space: nowrap;\r\n                    text-align: center;\r\n                    line-height: 1;\r\n                }\r\n                .trip-id-cell {\r\n                    white-space: nowrap;\r\n                    font-weight: 700;\r\n                    color: #111827;\r\n                }\r\n            `}} />\r\n            <div className=\"page-header\" style={{ marginBottom: '1rem' }}>\r\n                <h1 style={{ fontSize: '1.75rem', fontWeight: 'bold', margin: '0 0 0.5rem 0' }}>Live Trips</h1>\r\n                <p style={{ color: 'var(--text-secondary)', margin: 0 }}>Monitor all trip types across Hezzni's transportation services</p>\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"stats-container\">\r\n                {stats.map((stat, idx) => {\r\n                    const isActive = filterStatus === stat.id;\r\n\r\n                    return (\r\n                        <div \r\n                            key={idx} \r\n                            onClick={() => handleStatClick(stat.id)}\r\n                            className=\"stat-card-clickable\"\r\n                            style={{ \r\n                                backgroundColor: isActive ? '#38AC57' : 'white', \r\n                                padding: '1.25rem', \r\n                                borderRadius: '1.5rem', \r\n                                position: 'relative',\r\n                                boxShadow: '0 4px 6px -1px rgba(0,0,0,0.05)',\r\n                                color: isActive ? 'white' : '#111827',\r\n                                cursor: 'pointer',\r\n                                transition: 'all 0.2s',\r\n                                border: isActive ? 'none' : '1px solid #f1f5f9',\r\n                                minHeight: '140px'\r\n                             }}\r\n                        >\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '0.6rem', marginBottom: '1rem' }}>\r\n                                 <div style={{ display: 'flex' }}>\r\n                                    <img src={stat.icon} alt=\"\" style={{ width: '28px', height: '28px', objectFit: 'contain', filter: isActive ? 'brightness(0) invert(1)' : 'none' }} />\r\n                                 </div>\r\n                                 <span style={{ fontSize: '1rem', fontWeight: '800', color: isActive ? 'white' : '#111827' }}>{stat.label}</span>\r\n                            </div>\r\n                            <div style={{ display: 'flex', alignItems: 'baseline', gap: '4px' }}>\r\n                                <span style={{ fontSize: '2.5rem', fontWeight: '900', lineHeight: 1 }}>{stat.value}</span>\r\n                                {stat.unit && <span style={{ fontSize: '0.9rem', fontWeight: '700', color: isActive ? 'rgba(255,255,255,0.7)' : '#94a3b8' }}>{stat.unit}</span>}\r\n                            </div>\r\n                             <div style={{ \r\n                                 position: 'absolute', \r\n                                 bottom: '1rem', \r\n                                 right: '1rem', \r\n                                 backgroundColor: isActive ? 'black' : '#38AC57', \r\n                                 width: '36px',\r\n                                 height: '36px',\r\n                                 display: 'flex',\r\n                                 alignItems: 'center', \r\n                                 justifyContent: 'center',\r\n                                 color: 'white',\r\n                                 boxShadow: isActive ? 'none' : '0 4px 6px -1px rgba(56, 172, 87, 0.4)',\r\n                                 border: 'none',\r\n                                 clipPath: 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)', // Default square button look from mockup\r\n                                 borderRadius: '20px 20px 0 20px' // Custom shape from mockup\r\n                             }}>\r\n                                <ArrowUpRight size={18} strokeWidth={3} />\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Filter Bar */}\r\n            <div className=\"filter-bar\">\r\n                <div className=\"search-container\">\r\n                    <Search size={18} color=\"#94a3b8\" style={{ position: 'absolute', left: '1.25rem', top: '50%', transform: 'translateY(-50%)' }} />\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Search\" \r\n                        style={{ width: '100%', padding: '0.7rem 1rem 0.7rem 3.25rem', borderRadius: '2rem', border: 'none', backgroundColor: '#f9fafb', outline: 'none', fontSize: '0.9rem' }} \r\n                    />\r\n                </div>\r\n                <div className=\"dropdown-container\">\r\n                    <SelectDropdown \r\n                        label=\"Status\" \r\n                        options={['Searching', 'Accepted', 'Arriving', 'Arrived', 'Started', 'In_progress', 'Completed', 'Cancelled']}\r\n                        value={filters.status}\r\n                        onChange={(val) => handleFilterChange('status', val)}\r\n                    />\r\n                </div>\r\n                <div className=\"dropdown-container\">\r\n                    <SelectDropdown \r\n                        label=\"City\" \r\n                        options={['Casablanca', 'Rabat', 'Marrakech', 'Tangier', 'Fes']}\r\n                        value={filters.city}\r\n                        onChange={(val) => handleFilterChange('city', val)}\r\n                    />\r\n                </div>\r\n                <div className=\"dropdown-container\">\r\n                    <SelectDropdown \r\n                        label=\"Service Type\" \r\n                        options={['Regular Ride', 'Motorcycle', 'Car Ride', 'Taxi']}\r\n                        value={filters.service}\r\n                        onChange={(val) => handleFilterChange('service', val)}\r\n                    />\r\n                </div>\r\n                <div className=\"dropdown-container\">\r\n                    <SelectDropdown \r\n                        label=\"Method\" \r\n                        options={['Visa', 'Mastercard', 'Cash']}\r\n                        value={filters.method}\r\n                        onChange={(val) => handleFilterChange('method', val)}\r\n                    />\r\n                </div>\r\n                <div className=\"dropdown-container\">\r\n                     <SelectDropdown \r\n                        label=\"Periods\" \r\n                        options={['Today', 'Yesterday', 'Last Week', 'Last Month']}\r\n                        value={filters.period}\r\n                        onChange={(val) => handleFilterChange('period', val)}\r\n                    />\r\n                </div>\r\n                <button \r\n                    onClick={clearFilters}\r\n                    className=\"clear-btn\"\r\n                    style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', padding: '0.7rem 1.25rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', cursor: 'pointer', fontSize: '0.9rem', fontWeight: '600', color: '#374151' }}\r\n                >\r\n                    <SlidersHorizontal size={16} /> Clear\r\n                </button>\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <div className=\"table-container\">\r\n                <table>\r\n                    <thead>\r\n                        <tr style={{ backgroundColor: '#38AC57', color: 'white', textAlign: 'left' }}>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Trip ID</th>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Service</th>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Rider</th>\r\n                            <th className=\"hide-on-tablet\" style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Driver</th>\r\n                            <th className=\"hide-on-mobile\" style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Vehicle</th>\r\n                            <th className=\"hide-on-mobile\" style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Time</th>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Status</th>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Fare</th>\r\n                            <th style={{ padding: '1rem 1.5rem', fontWeight: '600' }}>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {filteredTrips.length > 0 ? filteredTrips.map((trip, idx) => (\r\n                            <tr key={idx} style={{ borderBottom: '1px solid #f3f4f6', backgroundColor: 'white' }}>\r\n                                <td className=\"trip-id-cell\" style={{ padding: '1rem 1.5rem' }}>{trip.id}</td>\r\n                                <td style={{ padding: '1rem 1.5rem' }}>\r\n                                    <span className=\"service-badge\" style={{ backgroundColor: trip.serviceColor, color: trip.serviceTextColor }}>\r\n                                        {trip.service}\r\n                                    </span>\r\n                                </td>\r\n                                <td style={{ padding: '1rem 1.5rem' }}>\r\n                                     <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                        <div style={{ position: 'relative' }}>\r\n                                            <img src={trip.rider.img} alt=\"\" style={{ width: '48px', height: '48px', borderRadius: '50%', objectFit: 'cover' }} />\r\n                                            {/* Rating Star Badge */}\r\n                                            <div style={{ \r\n                                                position: 'absolute', \r\n                                                bottom: '-4px', \r\n                                                left: '50%', \r\n                                                transform: 'translateX(-50%)',\r\n                                                backgroundColor: 'white',\r\n                                                borderRadius: '1rem',\r\n                                                padding: '1px 6px',\r\n                                                fontSize: '10px',\r\n                                                fontWeight: '800',\r\n                                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                gap: '2px',\r\n                                                whiteSpace: 'nowrap'\r\n                                            }}>\r\n                                                <Star size={8} fill=\"#fbbf24\" color=\"#fbbf24\" /> {trip.rider.rating}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '700', fontSize: '0.95rem', color: '#111827' }}>{trip.rider.name}</div>\r\n                                            <div style={{ fontSize: '0.8rem', color: '#94a3b8', fontWeight: '500' }}>{trip.rider.id}</div>\r\n                                        </div>\r\n                                     </div>\r\n                                </td>\r\n                                <td className=\"hide-on-tablet\" style={{ padding: '1rem 1.5rem' }}>\r\n                                     <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                        <div style={{ position: 'relative' }}>\r\n                                            <img src={trip.driver.img} alt=\"\" style={{ width: '48px', height: '48px', borderRadius: '50%', objectFit: 'cover' }} />\r\n                                            <div style={{ \r\n                                                position: 'absolute', \r\n                                                bottom: '-4px', \r\n                                                left: '50%', \r\n                                                transform: 'translateX(-50%)',\r\n                                                backgroundColor: 'white',\r\n                                                borderRadius: '1rem',\r\n                                                padding: '1px 6px',\r\n                                                fontSize: '10px',\r\n                                                fontWeight: '800',\r\n                                                boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\r\n                                                display: 'flex',\r\n                                                alignItems: 'center',\r\n                                                gap: '2px',\r\n                                                whiteSpace: 'nowrap'\r\n                                            }}>\r\n                                                <Star size={8} fill=\"#fbbf24\" color=\"#fbbf24\" /> {trip.driver.rating}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div style={{ fontWeight: '700', fontSize: '0.95rem', color: '#111827' }}>{trip.driver.name}</div>\r\n                                            <div style={{ fontSize: '0.8rem', color: '#94a3b8', fontWeight: '500' }}>{trip.driver.id}</div>\r\n                                        </div>\r\n                                     </div>\r\n                                </td>\r\n                                <td className=\"hide-on-mobile\" style={{ padding: '1rem 1.5rem' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', fontWeight: '700', color: '#111827' }}>\r\n                                        <img \r\n                                            src={trip.vehicle === 'Motorcycle' ? bikeIcon : trip.vehicle === 'Car' ? carIcon : taxiIcon} \r\n                                            alt={trip.vehicle} \r\n                                            style={{ width: '24px', height: 'auto', objectFit: 'contain' }} \r\n                                        /> \r\n                                        {trip.vehicle}\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"hide-on-mobile\" style={{ padding: '1rem 1.5rem' }}>\r\n                                    <div style={{ fontWeight: '800', color: '#111827', fontSize: '0.95rem' }}>{trip.time}</div>\r\n                                    <div style={{ fontSize: '0.8rem', color: '#94a3b8', fontWeight: '500' }}>{trip.duration}</div>\r\n                                </td>\r\n                                <td style={{ padding: '1rem 1.5rem' }}>\r\n                                     <span style={{ backgroundColor: trip.statusColor, color: trip.statusTextColor, padding: '0.5rem 1rem', borderRadius: '0.5rem', fontSize: '0.85rem', fontWeight: '700' }}>{trip.status}</span>\r\n                                </td>\r\n                                <td style={{ padding: '1rem 1.5rem' }}>\r\n                                    <div style={{ fontWeight: '900', color: '#111827', fontSize: '1rem', marginBottom: '4px' }}>{trip.fare}</div>\r\n                                    <div style={{ fontSize: '0.75rem', color: '#64748b', display: 'flex', alignItems: 'center', gap: '0.5rem', fontWeight: '700' }}>\r\n                                        <img \r\n                                            src={trip.paymentMethod === 'visa' ? visaIcon : trip.paymentMethod === 'mastercard' ? mastercardIcon : cashIcon} \r\n                                            alt={trip.paymentMethod} \r\n                                            style={{ width: '16px', height: 'auto' }} \r\n                                        />\r\n                                        {trip.paymentMethod.toUpperCase()}\r\n                                    </div>\r\n                                </td>\r\n                                <td style={{ padding: '1rem 1.5rem' }}>\r\n                                    <button \r\n                                        onClick={() => setSelectedTrip(trip)}\r\n                                        style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', border: '1px solid #e5e7eb', backgroundColor: 'white', padding: '0.4rem 1rem', borderRadius: '2rem', cursor: 'pointer', fontSize: '0.85rem' }}\r\n                                    >\r\n                                        <Eye size={14} /> Preview\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        )) : (\r\n                            <tr>\r\n                                <td colSpan={9} style={{ padding: '2rem', textAlign: 'center', color: 'var(--text-secondary)' }}>No trips found matching your filters.</td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {selectedTrip && <TripDetailsModal trip={selectedTrip} onClose={() => setSelectedTrip(null)} />}\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface SelectDropdownProps {\r\n    label: string;\r\n    options?: string[];\r\n    value?: string;\r\n    onChange?: (val: string) => void;\r\n}\r\n\r\nconst SelectDropdown = ({ label, options = [], value, onChange }: SelectDropdownProps) => (\r\n    <div style={{ position: 'relative', width: '100%' }}>\r\n        <select \r\n            value={value || label}\r\n            onChange={(e) => onChange && onChange(e.target.value)}\r\n            style={{ \r\n                padding: '0.8rem 2rem 0.8rem 1rem', \r\n                borderRadius: '2rem', \r\n                border: '1px solid #e5e7eb', \r\n                outline: 'none', \r\n                appearance: 'none', \r\n                backgroundColor: 'white', \r\n                width: '100%',\r\n                minWidth: '120px', \r\n                cursor: 'pointer',\r\n                color: value && value !== label ? 'black' : '#6b7280',\r\n                fontSize: '0.9rem'\r\n            }}\r\n        >\r\n            <option value=\"\">{label}</option>\r\n            {options.map((opt, idx) => (\r\n                <option key={idx} value={opt}>{opt}</option>\r\n            ))}\r\n        </select>\r\n        <div style={{ position: 'absolute', right: '1rem', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none', fontSize: '0.8rem' }}>Γû╝</div>\r\n    </div>\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Login.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2289,2292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2289,2292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport loginImage from '../assets/login_page.jpg';\r\nimport logo from '../assets/Logo.png';\r\n\r\ninterface LoginProps {\r\n  onLogin: () => void;\r\n  onForgotPassword: () => void;\r\n}\r\n\r\nexport const Login = ({ onLogin, onForgotPassword }: LoginProps) => {\r\n  const [email, setEmail] = useState('admin@hezzni.com');\r\n  const [password, setPassword] = useState('admin123');\r\n  const [errors, setErrors] = useState({ email: '', password: '' });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const validate = () => {\r\n    let isValid = true;\r\n    const newErrors = { email: '', password: '' };\r\n\r\n    if (!email) {\r\n      newErrors.email = 'Email is required';\r\n      isValid = false;\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      newErrors.email = 'Invalid Email';\r\n      isValid = false;\r\n    }\r\n\r\n    if (!password) {\r\n      newErrors.password = 'Password is required';\r\n      isValid = false;\r\n    } else if (password.length < 6) {\r\n      newErrors.password = 'Invalid Password';\r\n      isValid = false;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return isValid;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (validate()) {\r\n      setIsLoading(true);\r\n      // Hardcoded check for demo purposes (Vercel deployment)\r\n      if (email === 'admin@hezzni.com' && password === 'admin123') {\r\n        localStorage.setItem('token', 'demo-token');\r\n        localStorage.setItem('user', JSON.stringify({ name: 'Admin User', email: 'admin@hezzni.com' }));\r\n        onLogin();\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`${import.meta.env.VITE_API_URL || 'http://localhost:5000'}/api/auth/login`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ email, password }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (!response.ok) {\r\n          throw new Error(data.message || 'Login failed');\r\n        }\r\n\r\n        // Store token and user data\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        \r\n        onLogin();\r\n      } catch (err: any) {\r\n        setErrors({ ...errors, email: err.message || 'An error occurred' });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\" style={{ display: 'flex', height: '100vh', width: '100vw', backgroundColor: '#fff', color: '#333' }}>\r\n      {/* Left Side - Form */}\r\n      <div className=\"login-form-side\" style={{ flex: 1, display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', padding: '2rem' }}>\r\n        <div style={{ width: '100%', maxWidth: '400px' }}>\r\n          <div style={{ marginBottom: '2.5rem', display: 'flex', alignItems: 'center', gap: '0', marginLeft: '-4px' }}>\r\n            <img src={logo} alt=\"Hezzni Logo\" style={{ height: '40px', width: 'auto' }} />\r\n            <span style={{ fontSize: '2.2rem', fontWeight: '900', color: '#0D4463', letterSpacing: '-0.04em', lineHeight: 1, marginLeft: '-10px' }}>ezzni</span>\r\n          </div>\r\n          \r\n          <h2 style={{ fontSize: '2.5rem', fontWeight: '800', marginBottom: '2rem', color: '#111827' }}>Login</h2>\r\n\r\n          <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1.25rem' }}>\r\n            <div>\r\n              <label style={{ display: 'block', marginBottom: '0.6rem', fontWeight: '600', fontSize: '0.9rem', color: '#374151' }}>Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"admin@hezzni.com\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.875rem 1rem',\r\n                  borderRadius: '0.75rem',\r\n                  border: errors.email ? '1px solid #ef4444' : '1px solid #e5e7eb',\r\n                  backgroundColor: '#f9fafb',\r\n                  fontSize: '1rem',\r\n                  outline: 'none',\r\n                  color: '#111827',\r\n                  transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                }}\r\n                onFocus={(e) => e.target.style.boxShadow = '0 0 0 3px rgba(56, 172, 87, 0.1)'}\r\n                onBlur={(e) => e.target.style.boxShadow = 'none'}\r\n              />\r\n              {errors.email && <span style={{ color: '#ef4444', fontSize: '0.8rem', marginTop: '0.4rem', display: 'block' }}>{errors.email}</span>}\r\n            </div>\r\n\r\n            <div>\r\n              <label style={{ display: 'block', marginBottom: '0.6rem', fontWeight: '600', fontSize: '0.9rem', color: '#374151' }}>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.875rem 1rem',\r\n                  borderRadius: '0.75rem',\r\n                  border: errors.password ? '1px solid #ef4444' : '1px solid #e5e7eb',\r\n                  backgroundColor: '#f9fafb',\r\n                  fontSize: '1rem',\r\n                  outline: 'none',\r\n                  color: '#111827',\r\n                  transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                }}\r\n                onFocus={(e) => e.target.style.boxShadow = '0 0 0 3px rgba(56, 172, 87, 0.1)'}\r\n                onBlur={(e) => e.target.style.boxShadow = 'none'}\r\n              />\r\n              {errors.password && <span style={{ color: '#ef4444', fontSize: '0.8rem', marginTop: '0.4rem', display: 'block' }}>{errors.password}</span>}\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '0.25rem' }}>\r\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.6rem', cursor: 'pointer', fontSize: '0.875rem', color: '#4b5563' }}>\r\n                <input type=\"checkbox\" style={{ width: '1rem', height: '1rem', accentColor: '#38AC57', cursor: 'pointer' }} />\r\n                <span>Remember me</span>\r\n              </label>\r\n              <button \r\n                type=\"button\" \r\n                onClick={onForgotPassword}\r\n                style={{ background: 'none', border: 'none', color: '#111827', fontWeight: '600', textDecoration: 'underline', cursor: 'pointer', fontSize: '0.875rem' }}\r\n              >\r\n                Forget Password\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              style={{\r\n                backgroundColor: '#38AC57',\r\n                color: 'white',\r\n                padding: '0.875rem',\r\n                borderRadius: '9999px',\r\n                border: 'none',\r\n                fontSize: '1rem',\r\n                fontWeight: '700',\r\n                cursor: isLoading ? 'not-allowed' : 'pointer',\r\n                opacity: isLoading ? 0.7 : 1,\r\n                marginTop: '1.5rem',\r\n                boxShadow: '0 4px 6px -1px rgba(56, 172, 87, 0.2)',\r\n                transition: 'transform 0.1s, background-color 0.2s'\r\n              }}\r\n              onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#2d8a46'}\r\n              onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#38AC57'}\r\n              onMouseDown={(e) => e.currentTarget.style.transform = 'scale(0.98)'}\r\n              onMouseUp={(e) => e.currentTarget.style.transform = 'scale(1)'}\r\n            >\r\n              {isLoading ? 'Logging in...' : 'Login'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right Side - Image - Hidden on mobile via CSS class */}\r\n      <div className=\"login-image-side\" style={{ flex: 1.2, position: 'relative', overflow: 'hidden' }}>\r\n        <div \r\n          style={{\r\n            position: 'absolute',\r\n            top: '0',\r\n            right: '0',\r\n            bottom: '0',\r\n            left: '0',\r\n            backgroundImage: `url(${loginImage})`,\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n          }}\r\n        >\r\n          <div style={{\r\n            position: 'absolute',\r\n            inset: 0,\r\n            background: 'linear-gradient(135deg, rgba(56, 172, 87, 0.3) 0%, rgba(0, 0, 0, 0.7) 100%)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'flex-end',\r\n            padding: '4rem',\r\n            color: 'white'\r\n          }}>\r\n            <h1 style={{ fontSize: '3.5rem', fontWeight: '900', lineHeight: 1.1, marginBottom: '1.5rem', maxWidth: '500px' }}>\r\n              Drive. Deliver.<br />Dominate.\r\n            </h1>\r\n            <p style={{ fontSize: '1.125rem', opacity: 0.9, maxWidth: '450px', lineHeight: 1.6 }}>\r\n              Take Full Control Of Rides, Deliveries, And Drivers. Monitor Everything In Real Time And Keep Your Operations Moving.\r\n            </p>\r\n            <div style={{ position: 'absolute', right: '-4rem', bottom: '12rem', transform: 'rotate(-90deg)', fontSize: '8rem', fontWeight: '900', opacity: 0.1, whiteSpace: 'nowrap' }}>\r\n              EZZNI\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        @media (max-width: 767px) {\r\n          .login-image-side {\r\n            display: none !important;\r\n          }\r\n          .login-form-side {\r\n            padding: 1.5rem !important;\r\n          }\r\n        }\r\n        @media (min-width: 768px) and (max-width: 1024px) {\r\n          .login-image-side {\r\n            flex: 1 !important;\r\n          }\r\n        }\r\n        @media (max-width: 480px) {\r\n           h2 {\r\n             font-size: 1.75rem !important;\r\n           }\r\n           input {\r\n             font-size: 16px !important; /* Prevent zoom on iOS */\r\n           }\r\n        }\r\n      `}</style>\r\n    </div>\r\n\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Notifications.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\NotificationsModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Payment.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\PaymentModals.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1207,1210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1207,1210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ArrowLeft, X } from 'lucide-react';\r\n\r\n// Specialized Icons\r\nimport mastercardIcon from '../assets/icons/mastercard.png';\r\nimport visaIcon from '../assets/icons/visa.png';\r\nimport cashIcon from '../assets/icons/cash.png';\r\nimport walletIcon from '../assets/icons/hezzni wallet.png';\r\nimport cashplusIcon from '../assets/icons/cashplus.png';\r\nimport wafacashIcon from '../assets/icons/wafacash.png';\r\n\r\nconst PaymentMethodInfo = ({ method }: { method: string }) => {\r\n    let icon = visaIcon;\r\n    let width = '32px';\r\n    let height = '20px';\r\n\r\n    if (method === 'Mastercard') { icon = mastercardIcon; height = '32px'; }\r\n    else if (method === 'Hezzni Wallet') { icon = walletIcon; height = '24px'; width = '24px'; }\r\n    else if (method === 'Cash') { icon = cashIcon; height = '24px'; width = '24px'; }\r\n\r\n    return (\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n            <img src={icon} alt={method} style={{ width, height, objectFit: 'contain' }} />\r\n            <span style={{ fontWeight: '700', fontSize: '0.9rem', color: '#111827' }}>{method}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface ModalProps {\r\n    onClose: () => void;\r\n    transaction: any;\r\n    onProcessRefund?: () => void;\r\n    onViewHistory?: () => void;\r\n    onBack?: () => void;\r\n}\r\n\r\n// --- Responsive Styles ---\r\nconst ModalStyles = () => (\r\n    <style>{`\r\n        .pmo-modal-overlay {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background-color: rgba(0,0,0,0.4);\r\n            backdrop-filter: blur(4px);\r\n            z-index: 1100;\r\n            display: flex;\r\n            align-items: flex-start;\r\n            justify-content: center;\r\n            padding: 20px;\r\n            overflow-y: auto;\r\n        }\r\n        .pmo-modal-content {\r\n            background-color: white;\r\n            border-radius: 1.5rem;\r\n            width: 100%;\r\n            position: relative;\r\n            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);\r\n            margin-top: 2rem;\r\n            margin-bottom: 2rem;\r\n        }\r\n        .pmo-info-grid-4 {\r\n            display: grid;\r\n            grid-template-columns: 1.2fr 1fr 0.8fr 1fr;\r\n            gap: 1rem;\r\n        }\r\n        .pmo-info-grid-3 {\r\n            display: grid;\r\n            grid-template-columns: repeat(3, 1fr);\r\n            gap: 1.5rem;\r\n        }\r\n        .pmo-footer-actions {\r\n            display: flex;\r\n            gap: 1rem;\r\n            justify-content: center;\r\n        }\r\n        .pmo-history-user-info {\r\n            display: flex;\r\n            gap: 1.5rem;\r\n            background-color: #f9fafb;\r\n            padding: 1.5rem;\r\n            border-radius: 1rem;\r\n        }\r\n        .pmo-user-details-grid {\r\n            flex: 1;\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr 1fr;\r\n            gap: 1rem;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .pmo-modal-content {\r\n                padding: 1.5rem !important;\r\n                margin-top: 1rem;\r\n                margin-bottom: 1rem;\r\n            }\r\n            .pmo-info-grid-4, .pmo-info-grid-3, .pmo-user-details-grid {\r\n                grid-template-columns: 1fr 1fr;\r\n                gap: 1rem;\r\n            }\r\n            .pmo-footer-actions, .pmo-history-user-info {\r\n                flex-direction: column;\r\n                align-items: stretch;\r\n            }\r\n            .pmo-info-item {\r\n                margin-bottom: 0.5rem;\r\n            }\r\n            .pmo-history-user-info {\r\n                align-items: center;\r\n                text-align: center;\r\n            }\r\n            .pmo-refund-grid-special {\r\n                grid-template-columns: 1fr !important;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n            .pmo-info-grid-4, .pmo-info-grid-3, .pmo-user-details-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n        }\r\n    `}</style>\r\n);\r\n\r\nconst ModalOverlay = ({ children, onClose }: { children: React.ReactNode, onClose: () => void }) => (\r\n    <div className=\"pmo-modal-overlay\" onClick={(e) => e.target === e.currentTarget && onClose()}>\r\n        <ModalStyles />\r\n        {children}\r\n    </div>\r\n);\r\n\r\nconst InfoItem = ({ label, value, isStatus }: { label: string, value: string | React.ReactNode, isStatus?: boolean }) => (\r\n    <div className=\"pmo-info-item\" style={{ marginBottom: '1rem' }}>\r\n        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>{label}</div>\r\n        {isStatus ? (\r\n            <div style={{ \r\n                backgroundColor: '#eef7f0', color: '#2d8a46', \r\n                padding: '0.2rem 0.6rem', borderRadius: '0.4rem', \r\n                fontSize: '0.75rem', fontWeight: 'bold', display: 'inline-block' \r\n            }}>\r\n                {value}\r\n            </div>\r\n        ) : (\r\n            <div style={{ fontWeight: '600', fontSize: '0.9rem', color: '#111827' }}>{value}</div>\r\n        )}\r\n    </div>\r\n);\r\n\r\n// --- Transaction Details Modal ---\r\nexport const TransactionDetailsModal = ({ onClose, transaction, onProcessRefund, onViewHistory }: ModalProps) => {\r\n    return (\r\n        <ModalOverlay onClose={onClose}>\r\n            <div className=\"pmo-modal-content\" style={{ maxWidth: '640px', padding: '2rem' }}>\r\n                <button onClick={onClose} style={{ position: 'absolute', right: '1.5rem', top: '1.5rem', background: 'none', border: 'none', cursor: 'pointer', zIndex: 10 }}>\r\n                    <X size={24} color=\"#111827\" strokeWidth={3} />\r\n                </button>\r\n\r\n                <h2 style={{ fontSize: '1.4rem', fontWeight: '800', margin: '0 0 0.25rem 0', paddingRight: '40px' }}>Transaction Details - {transaction.id}</h2>\r\n                <p style={{ color: '#6b7280', margin: '0 0 1.5rem 0', fontSize: '0.9rem' }}>Review payment transaction details and manage refunds.</p>\r\n\r\n                <div className=\"pmo-info-grid-4\" style={{ backgroundColor: '#f9fafb', padding: '1.5rem', borderRadius: '1rem', marginBottom: '2rem' }}>\r\n                    <InfoItem label=\"Transaction ID\" value={transaction.id} />\r\n                    <InfoItem label=\"Rider\" value={transaction.rider} />\r\n                    <InfoItem label=\"Trip ID\" value={transaction.tripId} />\r\n                    <InfoItem label=\"Amount\" value={`${transaction.amount.replace(' MAD', '')}.00 MAD`} />\r\n                    \r\n                    <InfoItem label=\"Payment Method\" value={<PaymentMethodInfo method={transaction.paymentMethod} />} />\r\n                    <InfoItem label=\"Date\" value={transaction.date} />\r\n                    <InfoItem label=\"Current Status\" value={transaction.status === 'Completed' ? 'Complete' : transaction.status} isStatus />\r\n                    <InfoItem label=\"Phone\" value=\"+212 6 12 34 56\" />\r\n                </div>\r\n\r\n                <div className=\"pmo-footer-actions\">\r\n                    <button \r\n                        onClick={onViewHistory}\r\n                        style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}\r\n                    >\r\n                        Transaction History\r\n                    </button>\r\n                    <button \r\n                        onClick={onProcessRefund}\r\n                        style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}\r\n                    >\r\n                        Process Refund\r\n                    </button>\r\n                    <button \r\n                        style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: 'none', backgroundColor: '#38AC57', color: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}\r\n                    >\r\n                        Download Receipt\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </ModalOverlay>\r\n    );\r\n};\r\n\r\n// --- Transaction History Modal ---\r\nexport const TransactionHistoryModal = ({ onClose, transaction, onProcessRefund }: ModalProps) => {\r\n    const historyItems = [\r\n        { method: 'Mastercard', last4: '4532', date: '03 Jun, 2025 at 12:00 PM', amount: '+ 55.66 MAD', icon: mastercardIcon },\r\n        { method: 'Visa Card', last4: '4532', date: '03 Jun, 2025 at 12:00 PM', amount: '+ 55.66 MAD', icon: visaIcon },\r\n        { method: 'Cashplus', last4: '', date: '03 Jun, 2025 at 12:00 PM', amount: '+ 55.66 MAD', icon: cashplusIcon },\r\n        { method: 'Wafacash', last4: '', date: '03 Jun, 2025 at 12:00 PM', amount: '+ 55.66 MAD', icon: wafacashIcon },\r\n    ];\r\n\r\n    return (\r\n        <ModalOverlay onClose={onClose}>\r\n            <div className=\"pmo-modal-content\" style={{ maxWidth: '640px', padding: '0', maxHeight: '90vh', overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>\r\n                <button onClick={onClose} style={{ position: 'absolute', right: '1.5rem', top: '1.5rem', background: 'none', border: 'none', cursor: 'pointer', zIndex: 10 }}>\r\n                    <X size={24} color=\"#111827\" strokeWidth={3} />\r\n                </button>\r\n\r\n                {/* Scrollable Body */}\r\n                <div style={{ padding: '2rem', overflowY: 'auto', flex: 1 }}>\r\n                    <h2 style={{ fontSize: '1.4rem', fontWeight: '800', margin: '0 0 1.5rem 0', paddingRight: '40px' }}>Transaction History</h2>\r\n\r\n                    <h3 style={{ fontSize: '1rem', fontWeight: '700', margin: '0 0 1rem 0' }}>User Information</h3>\r\n                    \r\n                    <div className=\"pmo-history-user-info\" style={{ marginBottom: '1.5rem' }}>\r\n                         <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                             <img src={transaction.riderAvatar} alt={transaction.rider} style={{ width: 64, height: 64, borderRadius: '50%' }} />\r\n                             <div style={{ position: 'absolute', bottom: -5, left: '50%', transform: 'translateX(-50%)', backgroundColor: 'white', padding: '0.1rem 0.4rem', borderRadius: '0.5rem', fontSize: '0.65rem', fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '2px', border: '1px solid #e5e7eb' }}>\r\n                                 <span style={{color:'#fbbf24'}}>Γÿà</span> 4.8\r\n                             </div>\r\n                         </div>\r\n                         <div className=\"pmo-user-details-grid\">\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Full Name</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem' }}>{transaction.rider}</div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Phone</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem' }}>+212 6 12 34 56</div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Account ID</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem' }}>R-00045</div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>User Type</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem' }}>Driver</div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>City</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem' }}>Casablanca</div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ fontSize: '0.7rem', color: '#6b7280' }}>Email</div>\r\n                                <div style={{ fontWeight: '700', fontSize: '0.85rem', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: '200px' }}>Mohamedalaoui@email.com</div>\r\n                            </div>\r\n                         </div>\r\n                    </div>\r\n\r\n                    <div style={{ \r\n                        backgroundImage: 'radial-gradient(circle at top right, rgba(255,255,255,0.2) 0%, transparent 60%), linear-gradient(135deg, #38AC57 0%, #38AC57 100%)', \r\n                        padding: '1.5rem', borderRadius: '1rem', color: 'white', \r\n                        display: 'flex', justifyContent: 'space-between', alignItems: 'center',\r\n                        marginBottom: '1.5rem', position: 'relative'\r\n                    }}>\r\n                        <div>\r\n                             <div style={{ display: 'inline-flex', alignItems: 'center', gap: '0.4rem', backgroundColor: 'rgba(255,255,255,0.2)', padding: '0.25rem 0.6rem', borderRadius: '0.5rem', fontSize: '0.7rem', fontWeight: 'bold', marginBottom: '0.5rem' }}>\r\n                                 <ArrowLeft size={10} style={{ transform: 'rotate(90deg)' }} /> Top up\r\n                             </div>\r\n                             <div style={{ fontSize: '0.85rem', fontWeight: '500', opacity: 0.9 }}>Wallet Balance</div>\r\n                             <div style={{ fontSize: '1.8rem', fontWeight: '800', margin: '0.25rem 0' }}>55.66 MAD</div>\r\n                             <div style={{ fontSize: '0.65rem', opacity: 0.8, maxWidth: '240px', lineHeight: '1.4' }}>\r\n                                 Virtual balance is non-redeemable and can only be used for Hezzni services.\r\n                             </div>\r\n                        </div>\r\n                        <div style={{ backgroundColor: 'rgba(255,255,255,0.15)', width: '80px', height: '80px', borderRadius: '1.2rem', display: 'flex', alignItems: 'center', justifyContent: 'center', backdropFilter: 'blur(4px)' }}>\r\n                             <img src={walletIcon} alt=\"Wallet\" style={{ width: '40px', height: '40px', objectFit: 'contain', filter: 'brightness(0) invert(1)' }} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                        {historyItems.map((item, idx) => (\r\n                            <div key={idx} style={{ padding: '1rem 1.2rem', borderRadius: '1rem', backgroundColor: 'white', border: '1px solid #f3f4f6', display: 'flex', justifyContent: 'space-between', alignItems: 'center', boxShadow: '0 2px 4px rgba(0,0,0,0.02)' }}>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                                    <div style={{ width: '38px', height: '38px', borderRadius: '0.6rem', backgroundColor: '#eef7f0', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '0.4rem' }}>\r\n                                        <img src={item.icon} alt={item.method} style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div style={{ fontWeight: '800', fontSize: '0.9rem', color: '#111827' }}>Wallet Top-Up</div>\r\n                                        <div style={{ fontSize: '0.75rem', color: '#6b7280', fontWeight: '500' }}>via {item.method} {item.last4 && `**** ${item.last4}`}</div>\r\n                                        <div style={{ fontSize: '0.7rem', color: '#9ca3af', marginTop: '1px' }}>{item.date}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ color: '#38AC57', fontWeight: '800', fontSize: '1rem' }}>{item.amount}</div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Fixed Footer */}\r\n                <div className=\"pmo-footer-actions\" style={{ padding: '1.5rem', borderTop: '1px solid #f3f4f6', backgroundColor: 'white' }}>\r\n                    <button style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}>Transaction History</button>\r\n                    <button onClick={onProcessRefund} style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}>Process Refund</button>\r\n                    <button style={{ flex: 1, padding: '0.85rem', borderRadius: '2rem', border: 'none', backgroundColor: '#38AC57', color: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '0.9rem' }}>Download Receipt</button>\r\n                </div>\r\n            </div>\r\n        </ModalOverlay>\r\n    );\r\n}\r\n\r\n// --- Process Refund Modal ---\r\nexport const ProcessRefundModal = ({ onClose, transaction }: ModalProps) => {\r\n    return (\r\n        <ModalOverlay onClose={onClose}>\r\n            <div className=\"pmo-modal-content\" style={{ maxWidth: '720px', padding: '2rem' }}>\r\n                <button onClick={onClose} style={{ position: 'absolute', right: '1.5rem', top: '1.5rem', background: 'none', border: 'none', cursor: 'pointer', zIndex: 10 }}>\r\n                    <X size={24} color=\"#111827\" strokeWidth={3} />\r\n                </button>\r\n\r\n                <h2 style={{ fontSize: '1.4rem', fontWeight: '800', margin: '0 0 0.25rem 0', paddingRight: '40px' }}>Process Refund</h2>\r\n                <p style={{ color: '#6b7280', margin: '0 0 1.5rem 0', fontSize: '0.9rem' }}>Process refund for payment {transaction.id}</p>\r\n\r\n                <div className=\"pmo-info-grid-3\" style={{ backgroundColor: '#f9fafb', padding: '1.5rem', borderRadius: '1rem', marginBottom: '1.5rem' }}>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Payment ID:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>PAY001</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Customer:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>Nadia Lahlou</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Original Amount:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>75.50 MAD</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Payment Method:</div>\r\n                        <PaymentMethodInfo method={transaction.paymentMethod} />\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Transaction Date & Time:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>2025-01-10 09:30</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Phone:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>+212 6 12 34 56</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Account Name:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>Youssef</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>IBAN:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>8921 8921 8921</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Bank Code (optional):</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.9rem' }}>BCMAMAMC</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Transaction ID:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.85rem', color: '#6b7280' }}>TXN_1751555882063</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Transaction Date & Time:</div>\r\n                        <div style={{ fontWeight: '700', fontSize: '0.85rem', color: '#6b7280' }}>03 Jun, 2025 ┬╖ 01:01 AM</div>\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ fontSize: '0.75rem', color: '#6b7280', marginBottom: '0.25rem' }}>Status:</div>\r\n                        <div style={{ backgroundColor: '#fee2e2', color: '#ef4444', padding: '0.2rem 0.6rem', borderRadius: '0.4rem', fontSize: '0.7rem', fontWeight: 'bold', display: 'inline-block' }}>Expired</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ backgroundColor: '#fffbeb', border: '1px solid #fef3c7', borderRadius: '0.75rem', padding: '1rem', marginBottom: '2rem' }}>\r\n                    <div style={{ fontWeight: '700', fontSize: '0.9rem', color: '#92400e', marginBottom: '0.25rem' }}>Refund Eligibility Notice</div>\r\n                    <div style={{ fontSize: '0.8rem', color: '#92400e', opacity: 0.8 }}>Cash refunds require driver confirmation and manual processing before approval.</div>\r\n                </div>\r\n\r\n                <div className=\"pmo-info-grid-3 pmo-refund-grid-special\" style={{ gridTemplateColumns: '1.5fr 1fr 1fr', marginBottom: '1.5rem' }}>\r\n                    <div>\r\n                        <label style={{ display: 'block', fontSize: '0.9rem', fontWeight: '700', marginBottom: '0.5rem' }}>Refund Amount</label>\r\n                        <input type=\"text\" placeholder=\"Type Here\" style={{ width: '100%', padding: '0.85rem', borderRadius: '0.75rem', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', fontSize: '0.9rem', boxSizing: 'border-box' }} />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', fontSize: '0.9rem', fontWeight: '700', marginBottom: '0.5rem' }}>Refund Reason</label>\r\n                        <select style={{ width: '100%', padding: '0.85rem', borderRadius: '0.75rem', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', fontSize: '0.9rem', appearance: 'none' }}>\r\n                            <option>Other</option>\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', fontSize: '0.9rem', fontWeight: '700', marginBottom: '0.5rem' }}>Status</label>\r\n                        <select style={{ width: '100%', padding: '0.85rem', borderRadius: '0.75rem', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', fontSize: '0.9rem', appearance: 'none' }}>\r\n                            <option>Active</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '2rem' }}>\r\n                    <label style={{ display: 'block', fontSize: '0.9rem', fontWeight: '700', marginBottom: '0.5rem' }}>Admin Notes</label>\r\n                    <textarea placeholder=\"Type Here\" style={{ width: '100%', padding: '1rem', borderRadius: '1rem', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', fontSize: '0.9rem', minHeight: '100px', resize: 'none', fontFamily: 'inherit' }} />\r\n                </div>\r\n\r\n                <div className=\"pmo-footer-actions\">\r\n                    <button style={{ flex: 1, padding: '1rem', borderRadius: '2rem', border: '1px solid #e5e7eb', backgroundColor: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '1rem' }}>Update Status</button>\r\n                    <button onClick={onClose} style={{ flex: 1, padding: '1rem', borderRadius: '2rem', border: 'none', backgroundColor: 'black', color: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '1rem' }}>Process Refund</button>\r\n                    <button style={{ flex: 1, padding: '1rem', borderRadius: '2rem', border: 'none', backgroundColor: '#38AC57', color: 'white', fontWeight: '700', cursor: 'pointer', fontSize: '1rem' }}>Download Receipt</button>\r\n                </div>\r\n            </div>\r\n        </ModalOverlay>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Profile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\RentalCompanies.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\RentalCompaniesModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Reports.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Reservations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\ReviewManagement.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":547,"column":102,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":547,"endColumn":105,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22187,22190],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22187,22190],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react';\r\nimport { \r\n  Search, \r\n  Filter, \r\n  Eye, \r\n  ArrowUpRight, \r\n  Star, \r\n  ChevronDown,\r\n  X,\r\n  CheckCircle2\r\n} from 'lucide-react';\r\nimport { Review } from './ReviewTypes';\r\nimport { ReviewsModal } from './ReviewManagementModals';\r\n\r\n// Specialized Icons\r\nimport totalReviewsIcon from '../assets/icons/Daily Bonus Earned.png';\r\nimport visibleIcon from '../assets/icons/Verified Drivers-Passengers.png';\r\nimport highRatedIcon from '../assets/icons/Active Drivers.png';\r\nimport lowRatedIcon from '../assets/icons/active now.png';\r\n\r\nconst MOCK_REVIEWS: Review[] = [\r\n  {\r\n    id: 'RE1',\r\n    userType: 'Driver',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef1'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: false,\r\n    isFlagged: true,\r\n    rating: 4.8,\r\n    comment: 'The ride was smooth and comfortable. The driver was polite, the car was clean, and pickup was on time.',\r\n    tags: ['Ready on time', 'Polite & friendly'],\r\n    status: 'Completed'\r\n  },\r\n  {\r\n    id: 'RE2',\r\n    userType: 'Passenger',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef2'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: false,\r\n    isFlagged: true,\r\n    rating: 4.8,\r\n    comment: 'Great passenger, very friendly and respectful.',\r\n    tags: ['Polite & friendly'],\r\n    status: 'Completed'\r\n  },\r\n  {\r\n    id: 'RE3',\r\n    userType: 'Driver',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef3'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: true,\r\n    isFlagged: false,\r\n    rating: 4.8,\r\n    comment: 'The driver was very professional and the ride was comfortable.',\r\n    tags: ['Professional'],\r\n    status: 'Completed'\r\n  },\r\n  {\r\n    id: 'RE4',\r\n    userType: 'Passenger',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef4'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: false,\r\n    isFlagged: true,\r\n    rating: 4.0,\r\n    comment: 'The ride was okay, but the driver was a bit late.',\r\n    tags: ['Polite'],\r\n    status: 'Completed'\r\n  },\r\n  {\r\n    id: 'RE5',\r\n    userType: 'Driver',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef5'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: true,\r\n    isFlagged: false,\r\n    rating: 4.2,\r\n    comment: 'Decent ride, nothing special.',\r\n    tags: ['Clean car'],\r\n    status: 'Completed'\r\n  },\r\n  {\r\n    id: 'RE6',\r\n    userType: 'Passenger',\r\n    userInfo: {\r\n      name: 'Youssef Ali',\r\n      id: 'R-00045',\r\n      avatar: 'https://i.pravatar.cc/150?u=youssef6'\r\n    },\r\n    reviewDate: '2025-01-10',\r\n    visible: false,\r\n    isFlagged: true,\r\n    rating: 4.8,\r\n    comment: 'Smooth ride and good conversation.',\r\n    tags: ['Good conversation'],\r\n    status: 'Completed'\r\n  }\r\n];\r\n\r\nexport const ReviewManagement = () => {\r\n  const [reviews, setReviews] = useState<Review[]>(MOCK_REVIEWS);\r\n  const [filterStats, setFilterStats] = useState<string>('total');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeTypeTab, setActiveTypeTab] = useState<'All' | 'Driver' | 'Passenger'>('All');\r\n  \r\n  const [ratingFilter, setRatingFilter] = useState('Rating');\r\n  const [typesFilter, setTypesFilter] = useState('Types');\r\n  const [reviewsFilter, setReviewsFilter] = useState('Reviews');\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedReview, setSelectedReview] = useState<Review | null>(null);\r\n  const [showAnalytics, setShowAnalytics] = useState(false);\r\n\r\n  const stats = useMemo(() => {\r\n    return {\r\n      total: reviews.length,\r\n      visible: reviews.filter(r => r.visible).length,\r\n      highRated: reviews.filter(r => r.rating >= 4.5).length,\r\n      lowRated: reviews.filter(r => r.rating < 3.0).length\r\n    };\r\n  }, [reviews]);\r\n\r\n  const filteredReviews = useMemo(() => {\r\n    return reviews.filter(r => {\r\n      const matchesSearch = r.userInfo.name.toLowerCase().includes(searchQuery.toLowerCase()) || \r\n                            r.userInfo.id.toLowerCase().includes(searchQuery.toLowerCase());\r\n      \r\n      const matchesTypeTab = activeTypeTab === 'All' || r.userType === activeTypeTab;\r\n      \r\n      const matchesRatingFilter = ratingFilter === 'Rating' || (\r\n        ratingFilter === 'High (4.5+)' ? r.rating >= 4.5 :\r\n        ratingFilter === 'Medium (3.0-4.4)' ? (r.rating >= 3.0 && r.rating < 4.5) :\r\n        ratingFilter === 'Low (< 3.0)' ? r.rating < 3.0 : true\r\n      );\r\n\r\n      const matchesStatusFilter = reviewsFilter === 'Reviews' || (\r\n        reviewsFilter === 'Visible' ? r.visible :\r\n        reviewsFilter === 'Flagged' ? r.isFlagged : true\r\n      );\r\n\r\n      const matchesStats = filterStats === 'total' || \r\n                           (filterStats === 'visible' && r.visible) ||\r\n                           (filterStats === 'high' && r.rating >= 4.5) ||\r\n                           (filterStats === 'low' && r.rating < 3.0);\r\n\r\n      return matchesSearch && matchesTypeTab && matchesRatingFilter && matchesStatusFilter && matchesStats;\r\n    });\r\n  }, [reviews, searchQuery, activeTypeTab, ratingFilter, reviewsFilter, filterStats]);\r\n\r\n  const handleUpdateReview = (updated: Review) => {\r\n    setReviews(prev => prev.map(r => r.id === updated.id ? updated : r));\r\n  };\r\n\r\n  const handleDeleteReview = (id: string) => {\r\n    setReviews(prev => prev.filter(r => r.id !== id));\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-content\" style={{ padding: '2rem', backgroundColor: '#f8fafc', minHeight: '100vh', overflowY: 'auto' }}>\r\n      <style>{`\r\n        .rev-header-container {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-start;\r\n            margin-bottom: 2rem;\r\n            gap: 1.5rem;\r\n        }\r\n        .rev-stats-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(4, 1fr);\r\n            gap: 1.5rem;\r\n            margin-bottom: 2.5rem;\r\n        }\r\n        .rev-stat-card {\r\n            background-color: white;\r\n            padding: 1.5rem;\r\n            border-radius: 24px;\r\n            cursor: pointer;\r\n            border: 1px solid #e5e7eb;\r\n            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);\r\n            transition: all 0.2s ease;\r\n        }\r\n        .rev-stat-card:hover {\r\n            transform: translateY(-2px);\r\n            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);\r\n        }\r\n        .rev-stat-card.active {\r\n            border: 2px solid #38AC57;\r\n            background-color: #eef7f0;\r\n        }\r\n        .rev-stat-card.active-green {\r\n            background-color: #38AC57;\r\n            border: none;\r\n        }\r\n        .rev-controls-container {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            gap: 1.5rem;\r\n            margin-bottom: 2rem;\r\n            flex-wrap: wrap;\r\n        }\r\n        .rev-search-filter-group {\r\n            display: flex;\r\n            gap: 1rem;\r\n            flex: 1;\r\n            flex-wrap: wrap;\r\n        }\r\n        .rev-search-wrapper {\r\n            position: relative;\r\n            flex: 1;\r\n            min-width: 280px;\r\n        }\r\n        .rev-search-wrapper input {\r\n            width: 100%;\r\n            padding: 12px 16px 12px 48px;\r\n            border-radius: 20px;\r\n            border: 1px solid #e5e7eb;\r\n            outline: none;\r\n            font-size: 14px;\r\n            background-color: white;\r\n            box-shadow: 0 2px 4px rgba(0,0,0,0.02);\r\n        }\r\n        .rev-search-wrapper svg {\r\n            position: absolute;\r\n            left: 16px;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n        }\r\n        .rev-filter-select-group {\r\n            display: flex;\r\n            gap: 0.75rem;\r\n            flex-wrap: wrap;\r\n        }\r\n        .rev-select-custom {\r\n            appearance: none;\r\n            background-color: white;\r\n            border: 1px solid #e5e7eb;\r\n            color: #374151;\r\n            padding: 10px 35px 10px 15px;\r\n            border-radius: 12px;\r\n            font-size: 14px;\r\n            font-weight: 600;\r\n            cursor: pointer;\r\n            box-shadow: 0 2px 4px rgba(0,0,0,0.02);\r\n        }\r\n        .rev-tabs-container {\r\n            display: flex;\r\n            background-color: #f3f4f6;\r\n            padding: 4px;\r\n            border-radius: 14px;\r\n            border: 1px solid #e5e7eb;\r\n            width: fit-content;\r\n        }\r\n        .rev-tab-btn {\r\n            padding: 8px 18px;\r\n            border-radius: 10px;\r\n            font-size: 13px;\r\n            font-weight: 700;\r\n            border: none;\r\n            cursor: pointer;\r\n            transition: all 0.2s;\r\n        }\r\n        .rev-table-container {\r\n            background-color: white;\r\n            border-radius: 24px;\r\n            overflow-x: auto;\r\n            border: 1px solid #e5e7eb;\r\n            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);\r\n        }\r\n        .rev-table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            min-width: 1000px;\r\n        }\r\n        .rev-table th {\r\n            background-color: #38AC57;\r\n            color: white;\r\n            padding: 1.25rem 1.5rem;\r\n            text-align: left;\r\n            font-weight: 700;\r\n            font-size: 14px;\r\n        }\r\n        .rev-table td {\r\n            padding: 1.25rem 1.5rem;\r\n            border-bottom: 1px solid #f3f4f6;\r\n        }\r\n\r\n        @media (max-width: 1024px) {\r\n            .rev-stats-grid {\r\n                grid-template-columns: repeat(2, 1fr);\r\n            }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .rev-header-container {\r\n                flex-direction: column;\r\n                align-items: stretch;\r\n                text-align: center;\r\n            }\r\n            .rev-header-container h1 {\r\n                font-size: 1.5rem !important;\r\n            }\r\n            .rev-header-container button {\r\n                width: 100%;\r\n                justify-content: center;\r\n            }\r\n            .rev-controls-container {\r\n                flex-direction: column;\r\n                align-items: stretch;\r\n            }\r\n            .rev-search-wrapper {\r\n                min-width: 100%;\r\n            }\r\n            .rev-filter-select-group {\r\n                width: 100%;\r\n            }\r\n            .rev-select-custom {\r\n                flex: 1;\r\n                min-width: 120px;\r\n            }\r\n            .rev-tabs-container {\r\n                width: 100%;\r\n            }\r\n            .rev-tab-btn {\r\n                flex: 1;\r\n                padding: 10px 5px;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n            .rev-stats-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n            .rev-select-custom {\r\n                width: 100%;\r\n            }\r\n            .rev-search-filter-group button {\r\n                width: 100%;\r\n                justify-content: center;\r\n            }\r\n        }\r\n      `}</style>\r\n      <div className=\"rev-header-container\">\r\n        <div>\r\n          <h1 style={{ fontSize: '1.875rem', fontWeight: '800', margin: '0 0 0.5rem 0', color: '#111827' }}>Review Management</h1>\r\n          <p style={{ margin: 0, color: '#6B7280', fontSize: '0.925rem' }}>Manage driver and rider reviews for quality control</p>\r\n        </div>\r\n        <button \r\n          onClick={() => setShowAnalytics(true)}\r\n          style={{ \r\n            backgroundColor: '#38AC57', \r\n            color: 'white', \r\n            border: 'none', \r\n            padding: '12px 24px', \r\n            borderRadius: '16px', \r\n            fontWeight: '700',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            boxShadow: '0 8px 16px -4px rgba(56, 172, 87, 0.4)'\r\n          }}\r\n        >\r\n          Review Analytics\r\n        </button>\r\n      </div>\r\n\r\n      {showAnalytics && (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 2000, display: 'flex', alignItems: 'center', justifyContent: 'center' }} onClick={() => setShowAnalytics(false)}>\r\n           <div style={{ backgroundColor: 'white', padding: '2.5rem', borderRadius: '32px', width: '90%', maxWidth: '600px', border: '1px solid #e5e7eb' }} onClick={e => e.stopPropagation()}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\r\n                  <h2 style={{ margin: 0, fontWeight: '800', color: '#111827' }}>Review Analytics</h2>\r\n                  <button onClick={() => setShowAnalytics(false)} style={{ background: '#f3f4f6', border: 'none', color: '#374151', cursor: 'pointer', width: '40px', height: '40px', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}><X size={20} /></button>\r\n              </div>\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1.5rem' }}>\r\n                 <div style={{ backgroundColor: '#f9fafb', padding: '1.5rem', borderRadius: '20px', border: '1px solid #e5e7eb' }}>\r\n                    <p style={{ margin: '0 0 0.5rem 0', color: '#6B7280', fontSize: '0.875rem', fontWeight: '600' }}>Average Rating</p>\r\n                    <h3 style={{ margin: 0, fontSize: '2.5rem', fontWeight: '800', color: '#111827' }}>{(reviews.reduce((acc, r) => acc + r.rating, 0) / reviews.length).toFixed(1)} <Star size={24} fill=\"#FBBF24\" color=\"#FBBF24\" style={{ display: 'inline' }} /></h3>\r\n                 </div>\r\n                 <div style={{ backgroundColor: '#f9fafb', padding: '1.5rem', borderRadius: '20px', border: '1px solid #e5e7eb' }}>\r\n                    <p style={{ margin: '0 0 0.5rem 0', color: '#6B7280', fontSize: '0.875rem', fontWeight: '600' }}>Growth Rate</p>\r\n                    <h3 style={{ margin: 0, fontSize: '2.5rem', fontWeight: '800', color: '#38AC57' }}>+15%</h3>\r\n                 </div>\r\n              </div>\r\n              <div style={{ marginTop: '2rem', height: '180px', backgroundColor: '#f9fafb', borderRadius: '20px', border: '1px solid #e5e7eb', display: 'flex', alignItems: 'flex-end', gap: '12px', padding: '1.5rem' }}>\r\n                  {[30, 60, 45, 80, 55, 90, 70, 40].map((h, i) => (\r\n                      <div key={i} style={{ flex: 1, backgroundColor: '#38AC57', height: `${h}%`, borderRadius: '6px' }}></div>\r\n                  ))}\r\n              </div>\r\n           </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"rev-stats-grid\">\r\n        <div \r\n          className={`rev-stat-card ${filterStats === 'total' ? 'active' : ''}`}\r\n          onClick={() => setFilterStats('total')}\r\n        >\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '1.5rem' }}>\r\n             <div style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                <img src={totalReviewsIcon} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n             </div>\r\n             <span style={{ fontSize: '14px', fontWeight: '700', color: '#374151' }}>Total Reviews</span>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n             <span style={{ fontSize: '2.5rem', fontWeight: '900', color: '#111827' }}>{stats.total}</span>\r\n             <div style={{ backgroundColor: '#f3f4f6', padding: '6px', borderRadius: '50%' }}>\r\n                <ArrowUpRight size={20} color=\"#38AC57\" />\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div \r\n          className={`rev-stat-card ${filterStats === 'visible' ? 'active-green' : ''}`}\r\n          onClick={() => setFilterStats('visible')}\r\n        >\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '1.5rem' }}>\r\n             <div style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center', backgroundColor: filterStats === 'visible' ? 'rgba(255,255,255,0.2)' : 'transparent', borderRadius: '8px', padding: '4px' }}>\r\n                <img src={visibleIcon} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'contain', filter: filterStats === 'visible' ? 'brightness(0) invert(1)' : 'none' }} />\r\n             </div>\r\n             <span style={{ fontSize: '14px', fontWeight: '700', color: filterStats === 'visible' ? 'white' : '#374151' }}>Visible</span>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n             <span style={{ fontSize: '2.5rem', fontWeight: '900', color: filterStats === 'visible' ? 'white' : '#111827' }}>{stats.visible}</span>\r\n             <div style={{ backgroundColor: filterStats === 'visible' ? 'rgba(0,0,0,0.1)' : '#f3f4f6', padding: '6px', borderRadius: '50%' }}>\r\n                <ArrowUpRight size={20} color={filterStats === 'visible' ? 'white' : '#38AC57'} />\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div \r\n          className={`rev-stat-card ${filterStats === 'high' ? 'active' : ''}`}\r\n          onClick={() => setFilterStats('high')}\r\n        >\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '1.5rem' }}>\r\n             <div style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                <img src={highRatedIcon} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n             </div>\r\n             <span style={{ fontSize: '14px', fontWeight: '700', color: '#374151' }}>High Rated</span>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n             <span style={{ fontSize: '2.5rem', fontWeight: '900', color: '#111827' }}>{stats.highRated}</span>\r\n             <div style={{ backgroundColor: '#f3f4f6', padding: '6px', borderRadius: '50%' }}>\r\n                <ArrowUpRight size={20} color=\"#38AC57\" />\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div \r\n          className={`rev-stat-card ${filterStats === 'low' ? 'active' : ''}`}\r\n          onClick={() => setFilterStats('low')}\r\n        >\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '1.5rem' }}>\r\n             <div style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                <img src={lowRatedIcon} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n             </div>\r\n             <span style={{ fontSize: '14px', fontWeight: '700', color: '#374151' }}>Low Rated</span>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n             <span style={{ fontSize: '2.5rem', fontWeight: '900', color: '#111827' }}>{stats.lowRated}</span>\r\n             <div style={{ backgroundColor: '#f3f4f6', padding: '6px', borderRadius: '50%' }}>\r\n                <ArrowUpRight size={20} color=\"#38AC57\" />\r\n             </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"rev-controls-container\">\r\n        <div className=\"rev-search-filter-group\">\r\n          <div className=\"rev-search-wrapper\">\r\n            <Search size={18} color=\"#9CA3AF\" />\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"Search by name or ID...\" \r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"rev-filter-select-group\">\r\n             <div style={{ position: 'relative' }}>\r\n                <select \r\n                  className=\"rev-select-custom\"\r\n                  value={ratingFilter}\r\n                  onChange={(e) => setRatingFilter(e.target.value)}\r\n                >\r\n                  <option>Rating</option>\r\n                  <option>High (4.5+)</option>\r\n                  <option>Medium (3.0-4.4)</option>\r\n                  <option value=\"Low (< 3.0)\">&lt; 3.0</option>\r\n                </select>\r\n                <ChevronDown size={14} style={{ position: 'absolute', right: '12px', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none' }} color=\"#9CA3AF\" />\r\n             </div>\r\n\r\n             <div style={{ position: 'relative' }}>\r\n                <select \r\n                  className=\"rev-select-custom\"\r\n                  value={typesFilter}\r\n                  onChange={(e) => setTypesFilter(e.target.value)}\r\n                >\r\n                  <option>Types</option>\r\n                  <option>Driver</option>\r\n                  <option>Passenger</option>\r\n                </select>\r\n                <ChevronDown size={14} style={{ position: 'absolute', right: '12px', top: '50%', transform: 'translateY(-50%)', pointerEvents: 'none' }} color=\"#9CA3AF\" />\r\n             </div>\r\n\r\n             <button style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', color: '#374151', padding: '10px 20px', borderRadius: '12px', fontSize: '14px', display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer', fontWeight: '700' }} onClick={() => {\r\n                 setSearchQuery('');\r\n                 setRatingFilter('Rating');\r\n                 setTypesFilter('Types');\r\n                 setReviewsFilter('Reviews');\r\n                 setFilterStats('total');\r\n             }}>\r\n                <Filter size={18} />\r\n                Clear\r\n             </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rev-tabs-container\">\r\n          {['Driver Reviews', 'All Reviews', 'Passenger Reviews'].map(tab => (\r\n              <button \r\n                key={tab}\r\n                onClick={() => setActiveTypeTab(tab === 'All Reviews' ? 'All' : tab.split(' ')[0] as any)}\r\n                className=\"rev-tab-btn\"\r\n                style={{ \r\n                    backgroundColor: (activeTypeTab === 'All' && tab === 'All Reviews') || (activeTypeTab + ' Reviews' === tab) ? 'white' : 'transparent',\r\n                    color: (activeTypeTab === 'All' && tab === 'All Reviews') || (activeTypeTab + ' Reviews' === tab) ? '#38AC57' : '#6B7280',\r\n                    boxShadow: (activeTypeTab === 'All' && tab === 'All Reviews') || (activeTypeTab + ' Reviews' === tab) ? '0 4px 6px -1px rgba(0,0,0,0.1)' : 'none',\r\n                }}\r\n              >\r\n                {tab}\r\n              </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"rev-table-container\">\r\n        <table className=\"rev-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>User Type</th>\r\n              <th>Name ID</th>\r\n              <th>Review Date</th>\r\n              <th>Visible</th>\r\n              <th style={{ textAlign: 'center' }}>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredReviews.length > 0 ? filteredReviews.map((review) => (\r\n              <tr key={review.id}>\r\n                <td>\r\n                  <span style={{ padding: '6px 16px', borderRadius: '8px', fontSize: '12px', fontWeight: '800', backgroundColor: '#eef7f0', color: '#38AC57', textTransform: 'uppercase' }}>{review.userType}</span>\r\n                </td>\r\n                <td>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                    <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                      <img src={review.userInfo.avatar} alt=\"\" style={{ width: '44px', height: '44px', borderRadius: '50%', objectFit: 'cover', border: '2px solid white', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }} />\r\n                      <div style={{ position: 'absolute', bottom: '-4px', right: '-4px', backgroundColor: 'white', borderRadius: '12px', padding: '2px 6px', display: 'flex', alignItems: 'center', gap: '2px', border: '1px solid #f3f4f6', boxShadow: '0 1px 2px rgba(0,0,0,0.1)' }}>\r\n                         <Star size={10} fill=\"#FBBF24\" color=\"#FBBF24\" />\r\n                         <span style={{ fontSize: '10px', fontWeight: '900' }}>{review.rating}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div style={{ fontWeight: '800', fontSize: '14px', color: '#111827', display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                        {review.userInfo.name}\r\n                        <CheckCircle2 size={12} fill=\"#38AC57\" color=\"white\" />\r\n                      </div>\r\n                      <div style={{ fontSize: '12px', color: '#6B7280', fontWeight: '600' }}>{review.userInfo.id}</div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td style={{ fontSize: '14px', color: '#374151', fontWeight: '700' }}>{review.reviewDate}</td>\r\n                <td>\r\n                  <span style={{ padding: '6px 14px', borderRadius: '8px', fontSize: '11px', fontWeight: '800', backgroundColor: review.visible ? '#f3f4f6' : '#FEF2F2', color: review.visible ? '#374151' : '#EF4444', textTransform: 'uppercase' }}>\r\n                    {review.visible ? 'Visible' : 'Flagged'}\r\n                  </span>\r\n                </td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  <button onClick={() => { setSelectedReview(review); setIsModalOpen(true); }} style={{ backgroundColor: 'white', border: '1px solid #e5e7eb', padding: '8px 16px', borderRadius: '10px', fontSize: '13px', color: '#374151', fontWeight: '700', cursor: 'pointer', display: 'inline-flex', alignItems: 'center', gap: '6px', transition: 'all 0.2s' }}>\r\n                    <Eye size={14} /> View\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            )) : (\r\n              <tr>\r\n                <td colSpan={5} style={{ textAlign: 'center', padding: '3rem', color: '#9CA3AF', fontWeight: '600' }}>No reviews found matching filters</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <ReviewsModal \r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        review={selectedReview}\r\n        onUpdate={handleUpdateReview}\r\n        onDelete={handleDeleteReview}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\ReviewManagementModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\ReviewTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\RideAssignment.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\RiderModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Riders.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Settings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\Support.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\SupportModals.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":369,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":369,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16246,16249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16246,16249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  ArrowLeft, \r\n  Send, \r\n  Paperclip, \r\n  Smile, \r\n  MoreVertical, \r\n  Star \r\n} from 'lucide-react';\r\n\r\n// Category Icons\r\nimport rideOrDriverIcon from '../assets/icons/Ride or Driver.png';\r\nimport deliveryIcon from '../assets/icons/Delivery.png';\r\nimport paymentOrRefundIcon from '../assets/icons/Payment or Refund.png';\r\nimport rentalIcon from '../assets/icons/Rental.png';\r\nimport accountOrProfileIcon from '../assets/icons/Account or Profile.png';\r\nimport appIssueIcon from '../assets/icons/App Issue.png';\r\nimport otherIcon from '../assets/icons/Other.png';\r\n\r\nconst categoryIcons: Record<string, string> = {\r\n  'Ride or Driver': rideOrDriverIcon,\r\n  'Delivery': deliveryIcon,\r\n  'Payment or Refund': paymentOrRefundIcon,\r\n  'Rental': rentalIcon,\r\n  'Account or Profile': accountOrProfileIcon,\r\n  'App Issue': appIssueIcon,\r\n  'Other': otherIcon\r\n};\r\n\r\ninterface UserInfo {\r\n  name: string;\r\n  id: string;\r\n  type: string;\r\n  phone: string;\r\n  city: string;\r\n  email: string;\r\n  avatar: string;\r\n}\r\n\r\ninterface Message {\r\n  id: string;\r\n  sender: 'user' | 'admin';\r\n  text: string;\r\n  time: string;\r\n}\r\n\r\ninterface ComplaintDetail {\r\n  id: string;\r\n  ticketId: string;\r\n  tripId: string;\r\n  status: 'Pending' | 'In Progress' | 'New' | 'On Hold' | 'Escalated' | 'Resolved' | 'Closed';\r\n  dateTime: string;\r\n  category: string;\r\n  description: string;\r\n  user: UserInfo;\r\n  assignedTo?: string;\r\n  internalNotes?: string;\r\n  messages: Message[];\r\n}\r\n\r\ninterface SupportModalsProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  complaint: ComplaintDetail | null;\r\n  onUpdate: (updatedComplaint: ComplaintDetail) => void;\r\n}\r\n\r\nexport const ComplaintDetailsModal = ({ isOpen, onClose, complaint, onUpdate }: SupportModalsProps) => {\r\n  const [status, setStatus] = useState(complaint?.status || 'New');\r\n  const [assignedTo, setAssignedTo] = useState(complaint?.assignedTo || '');\r\n  const [internalNotes, setInternalNotes] = useState(complaint?.internalNotes || '');\r\n  const [messageInput, setMessageInput] = useState('');\r\n  \r\n  // Local state for instant feedback on messages within the modal\r\n  const [localMessages, setLocalMessages] = useState<Message[]>(complaint?.messages || []);\r\n  const chatEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (complaint) {\r\n      setStatus(complaint.status);\r\n      setAssignedTo(complaint.assignedTo || '');\r\n      setInternalNotes(complaint.internalNotes || '');\r\n      setLocalMessages(complaint.messages);\r\n    }\r\n  }, [complaint]);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [localMessages]);\r\n\r\n  if (!isOpen || !complaint) return null;\r\n\r\n  const statusColors: Record<string, string> = {\r\n    'New': '#FEF2F2',\r\n    'Pending': '#FFF7ED',\r\n    'In Progress': '#EFF6FF',\r\n    'On Hold': '#F3F4F6',\r\n    'Escalated': '#FAF5FF',\r\n    'Resolved': '#eef7f0',\r\n    'Closed': '#F9FAFB'\r\n  };\r\n\r\n  const statusTextColors: Record<string, string> = {\r\n    'New': '#EF4444',\r\n    'Pending': '#F97316',\r\n    'In Progress': '#3B82F6',\r\n    'On Hold': '#6B7280',\r\n    'Escalated': '#A855F7',\r\n    'Resolved': '#38AC57',\r\n    'Closed': '#374151'\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    onUpdate({\r\n      ...complaint,\r\n      status,\r\n      assignedTo,\r\n      internalNotes,\r\n      messages: localMessages // Sync back the chat\r\n    });\r\n    onClose();\r\n  };\r\n\r\n  const handleSendMessage = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!messageInput.trim()) return;\r\n\r\n    const newMessage: Message = {\r\n      id: Date.now().toString(),\r\n      sender: 'admin',\r\n      text: messageInput,\r\n      time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false })\r\n    };\r\n\r\n    const updatedMessages = [...localMessages, newMessage];\r\n    setLocalMessages(updatedMessages);\r\n    setMessageInput('');\r\n    \r\n    // Also notify parent through update to keep stats/lists in sync\r\n    onUpdate({\r\n      ...complaint,\r\n      messages: updatedMessages\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'flex-start', justifyContent: 'center', zIndex: 1000, backdropFilter: 'blur(4px)', padding: '20px', overflowY: 'auto' }} onClick={onClose}>\r\n      <style>{`\r\n        .csm-modal-content {\r\n            background-color: white;\r\n            border-radius: 28px;\r\n            width: 100%;\r\n            max-width: 1200px;\r\n            margin-top: 20px;\r\n            margin-bottom: 20px;\r\n            position: relative;\r\n            overflow: hidden;\r\n            display: flex;\r\n            flex-direction: column;\r\n            min-height: 500px;\r\n            max-height: none;\r\n            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n        }\r\n        .csm-layout {\r\n            display: flex;\r\n            flex: 1;\r\n        }\r\n        .csm-details-panel {\r\n            flex: 1;\r\n            padding: 2.5rem;\r\n            border-right: 1px solid #f3f4f6;\r\n        }\r\n        .csm-chat-panel {\r\n            width: 400px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            background-color: white;\r\n        }\r\n        .csm-user-info-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(3, 1fr);\r\n            gap: 1.25rem 1rem;\r\n        }\r\n        .csm-complaint-info-grid {\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr 1fr 1.25fr 1.5fr;\r\n            gap: 1rem;\r\n        }\r\n        .csm-status-grid {\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr;\r\n            gap: 1.5rem;\r\n        }\r\n        .csm-flex-responsive {\r\n            display: flex;\r\n            gap: 1rem;\r\n        }\r\n\r\n        @media (max-width: 1024px) {\r\n            .csm-layout {\r\n                flex-direction: column;\r\n            }\r\n            .csm-details-panel {\r\n                border-right: none;\r\n                border-bottom: 1px solid #f3f4f6;\r\n                padding: 1.5rem;\r\n            }\r\n            .csm-chat-panel {\r\n                width: 100%;\r\n                height: 500px;\r\n            }\r\n            .csm-complaint-info-grid {\r\n                grid-template-columns: repeat(3, 1fr);\r\n            }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .csm-user-info-container {\r\n                flex-direction: column;\r\n                align-items: center;\r\n                text-align: center;\r\n            }\r\n            .csm-user-info-grid {\r\n                grid-template-columns: 1fr 1fr;\r\n                width: 100%;\r\n            }\r\n            .csm-complaint-info-grid {\r\n                grid-template-columns: 1fr 1fr;\r\n            }\r\n            .csm-status-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n            .csm-flex-responsive {\r\n                flex-direction: column;\r\n            }\r\n            .csm-flex-responsive button {\r\n                width: 100%;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n            .csm-user-info-grid, .csm-complaint-info-grid {\r\n                grid-template-columns: 1fr;\r\n            }\r\n        }\r\n      `}</style>\r\n      <div className=\"csm-modal-content\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"csm-layout\">\r\n          {/* Left Side: Details */}\r\n          <div className=\"csm-details-panel\">\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '1.25rem', marginBottom: '2rem' }}>\r\n              <button onClick={onClose} style={{ border: '1px solid #e5e7eb', background: 'white', cursor: 'pointer', padding: '0.6rem', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                <ArrowLeft size={22} />\r\n              </button>\r\n              <div>\r\n                <h2 style={{ margin: 0, fontSize: '1.75rem', fontWeight: '800', color: '#111827' }}>Complaint Details - {complaint.ticketId}</h2>\r\n                <p style={{ margin: '0.25rem 0 0', color: '#6B7280', fontSize: '0.925rem' }}>Complete complaint information and management tools</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* User Information Box */}\r\n            <div style={{ marginBottom: '2.5rem' }}>\r\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '800', marginBottom: '1rem', color: '#111827' }}>User Information</h3>\r\n              <div className=\"csm-user-info-container\" style={{ \r\n                backgroundColor: '#F9FAFB', \r\n                borderRadius: '24px', \r\n                padding: '1.5rem', \r\n                display: 'flex', \r\n                gap: '1.75rem', \r\n                alignItems: 'center', \r\n                border: '1px solid #f3f4f6',\r\n                boxShadow: 'inset 0 2px 4px rgba(0,0,0,0.02)'\r\n              }}>\r\n                <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                  <img src={complaint.user.avatar} alt={complaint.user.name} style={{ width: '96px', height: '96px', borderRadius: '50%', objectFit: 'cover', border: '4px solid white', boxShadow: '0 8px 16px -4px rgba(0,0,0,0.1)' }} />\r\n                  <div style={{ position: 'absolute', bottom: -2, right: -2, backgroundColor: 'white', border: '1px solid #e5e7eb', borderRadius: '14px', padding: '4px 10px', fontSize: '0.8rem', display: 'flex', alignItems: 'center', gap: '4px', fontWeight: '800', boxShadow: '0 4px 6px -1px rgba(0,0,0,0.05)' }}>\r\n                    <Star size={14} fill=\"#F59E0B\" color=\"#F59E0B\" /> 4.8\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"csm-user-info-grid\">\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>Full Name</label>\r\n                    <p style={{ margin: 0, fontWeight: '700', color: '#111827', fontSize: '14px' }}>{complaint.user.name}</p>\r\n                  </div>\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>Phone</label>\r\n                    <p style={{ margin: 0, fontWeight: '700', color: '#111827', fontSize: '14px' }}>{complaint.user.phone}</p>\r\n                  </div>\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>Account ID</label>\r\n                    <p style={{ margin: 0, fontWeight: '700', color: '#111827', fontSize: '14px' }}>{complaint.user.id}</p>\r\n                  </div>\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>User Type</label>\r\n                    <p style={{ margin: 0, fontWeight: '800', color: '#38AC57', textTransform: 'uppercase', fontSize: '12px' }}>{complaint.user.type}</p>\r\n                  </div>\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>City</label>\r\n                    <p style={{ margin: 0, fontWeight: '700', color: '#111827', fontSize: '14px' }}>{complaint.user.city}</p>\r\n                  </div>\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <label style={{ color: '#9CA3AF', fontSize: '10px', display: 'block', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em', marginBottom: '4px' }}>Email</label>\r\n                    <p style={{ margin: 0, fontWeight: '700', color: '#111827', fontSize: '14px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{complaint.user.email}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Complaint Info */}\r\n            <div style={{ marginBottom: '2.5rem' }}>\r\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '800', marginBottom: '1rem', color: '#111827' }}>Complaint Details</h3>\r\n              <div className=\"csm-complaint-info-grid\" style={{ backgroundColor: '#fff', border: '1px solid #f3f4f6', borderRadius: '20px', padding: '1.5rem', boxShadow: '0 4px 6px -1px rgba(0,0,0,0.02)' }}>\r\n                <div>\r\n                  <label style={{ color: '#9CA3AF', fontSize: '10px', fontWeight: '800', textTransform: 'uppercase' }}>Ticket ID</label>\r\n                  <p style={{ fontWeight: '800', margin: '4px 0 0', color: '#111827', fontSize: '13px' }}>{complaint.ticketId}</p>\r\n                </div>\r\n                <div>\r\n                  <label style={{ color: '#9CA3AF', fontSize: '10px', fontWeight: '800', textTransform: 'uppercase' }}>Trip ID</label>\r\n                  <p style={{ fontWeight: '800', margin: '4px 0 0', color: '#111827', fontSize: '13px' }}>{complaint.tripId}</p>\r\n                </div>\r\n                <div>\r\n                  <label style={{ color: '#9CA3AF', fontSize: '10px', fontWeight: '800', textTransform: 'uppercase' }}>Status</label>\r\n                  <div style={{ \r\n                    backgroundColor: statusColors[complaint.status], \r\n                    color: statusTextColors[complaint.status],\r\n                    padding: '4px 12px',\r\n                    borderRadius: '8px',\r\n                    fontSize: '11px',\r\n                    fontWeight: '800',\r\n                    display: 'inline-block',\r\n                    marginTop: '4px'\r\n                  }}>\r\n                    {complaint.status}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label style={{ color: '#9CA3AF', fontSize: '10px', fontWeight: '800', textTransform: 'uppercase' }}>Date & Time</label>\r\n                  <p style={{ fontWeight: '700', margin: '4px 0 0', color: '#111827', fontSize: '12px' }}>{complaint.dateTime}</p>\r\n                </div>\r\n                <div>\r\n                  <label style={{ color: '#9CA3AF', fontSize: '10px', fontWeight: '800', textTransform: 'uppercase' }}>Complain</label>\r\n                  <div style={{ fontWeight: '700', margin: '4px 0 0', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '13px', color: '#111827' }}>\r\n                    <div style={{ width: '20px', height: '20px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                      <img src={categoryIcons[complaint.category] || otherIcon} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n                    </div>\r\n                    {complaint.category}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description Area */}\r\n            <div style={{ marginBottom: '2.5rem' }}>\r\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '800', marginBottom: '1rem', color: '#111827' }}>Complaint Description</h3>\r\n              <div style={{ backgroundColor: '#F9FAFB', borderRadius: '24px', padding: '1.75rem', color: '#4B5563', lineHeight: '1.7', fontSize: '15px', border: '1px solid #f3f4f6' }}>\r\n                {complaint.description}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Management Section */}\r\n            <div>\r\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '800', marginBottom: '1rem', color: '#111827' }}>Status Management</h3>\r\n              <div className=\"csm-status-grid\" style={{ marginBottom: '1.5rem' }}>\r\n                <div>\r\n                  <label style={{ fontSize: '13px', fontWeight: '700', display: 'block', marginBottom: '0.75rem', color: '#374151' }}>Update Status</label>\r\n                  <select \r\n                    value={status}\r\n                    onChange={(e) => setStatus(e.target.value as any)}\r\n                    style={{ width: '100%', padding: '1rem 1.25rem', borderRadius: '16px', border: '1px solid #e5e7eb', outline: 'none', backgroundColor: '#fff', fontSize: '14px', fontWeight: '600', cursor: 'pointer' }}\r\n                  >\r\n                    <option value=\"New\">New</option>\r\n                    <option value=\"Pending\">Pending</option>\r\n                    <option value=\"In Progress\">In Progress</option>\r\n                    <option value=\"On Hold\">On Hold</option>\r\n                    <option value=\"Escalated\">Escalated</option>\r\n                    <option value=\"Resolved\">Resolved</option>\r\n                    <option value=\"Closed\">Closed</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label style={{ fontSize: '13px', fontWeight: '700', display: 'block', marginBottom: '0.75rem', color: '#374151' }}>Assign Agent</label>\r\n                  <select \r\n                    value={assignedTo}\r\n                    onChange={(e) => setAssignedTo(e.target.value)}\r\n                    style={{ width: '100%', padding: '1rem 1.25rem', borderRadius: '16px', border: '1px solid #e5e7eb', outline: 'none', backgroundColor: '#fff', fontSize: '14px', fontWeight: '600', cursor: 'pointer' }}\r\n                  >\r\n                    <option value=\"\">Select Team Member</option>\r\n                    <option value=\"Ali\">Ali</option>\r\n                    <option value=\"Ahmed\">Ahmed</option>\r\n                    <option value=\"Sarah\">Sarah</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div style={{ marginBottom: '2rem' }}>\r\n                <label style={{ fontSize: '13px', fontWeight: '700', display: 'block', marginBottom: '0.75rem', color: '#374151' }}>Internal Admin Notes</label>\r\n                <textarea \r\n                  value={internalNotes}\r\n                  onChange={(e) => setInternalNotes(e.target.value)}\r\n                  placeholder=\"Only admins can see these notes...\"\r\n                  style={{ width: '100%', padding: '1.25rem', borderRadius: '20px', border: '1px solid #e5e7eb', height: '120px', resize: 'none', outline: 'none', fontSize: '14px', lineHeight: '1.6' }}\r\n                />\r\n              </div>\r\n              <div className=\"csm-flex-responsive\">\r\n                <button \r\n                  onClick={() => {}}\r\n                  style={{ flex: 1, padding: '1.1rem', borderRadius: '16px', border: '1px solid #374151', background: 'white', fontWeight: '800', cursor: 'pointer', fontSize: '14px', transition: 'all 0.2s' }}\r\n                >\r\n                  History & Logs\r\n                </button>\r\n                <button \r\n                  onClick={handleUpdate}\r\n                  style={{ flex: 1.5, padding: '1.1rem', borderRadius: '16px', border: 'none', background: '#38AC57', color: 'white', fontWeight: '800', cursor: 'pointer', fontSize: '14px', boxShadow: '0 8px 16px -4px rgba(56, 172, 87, 0.3)', transition: 'all 0.2s' }}\r\n                >\r\n                  Update & Close Ticket\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Side: Chat Sidebar */}\r\n          <div className=\"csm-chat-panel\">\r\n            {/* Chat Header */}\r\n            <div style={{ padding: '1.5rem 2rem', borderBottom: '1px solid #f3f4f6', display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n              <div style={{ position: 'relative', flexShrink: 0 }}>\r\n                <img src={complaint.user.avatar} alt=\"\" style={{ width: '48px', height: '48px', borderRadius: '50%', objectFit: 'cover', border: '2px solid #eef7f0' }} />\r\n                <div style={{ position: 'absolute', bottom: '2px', right: '2px', width: '12px', height: '12px', backgroundColor: '#38AC57', borderRadius: '50%', border: '2px solid white' }}></div>\r\n              </div>\r\n              <div style={{ flex: 1, minWidth: 0 }}>\r\n                <h4 style={{ margin: 0, fontSize: '15px', fontWeight: '800', color: '#111827', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{complaint.user.name}</h4>\r\n                <p style={{ margin: 0, fontSize: '11px', color: '#38AC57', fontWeight: '800', textTransform: 'uppercase', letterSpacing: '0.05em' }}>{complaint.user.type}</p>\r\n              </div>\r\n              <button style={{ border: 'none', background: 'none', cursor: 'pointer', padding: '0.5rem' }}>\r\n                <MoreVertical size={20} color=\"#9CA3AF\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Chat Messages */}\r\n            <div style={{ flex: 1, padding: '2rem', overflowY: 'auto', backgroundColor: '#f9fafb', display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\r\n              <div style={{ alignSelf: 'center', backgroundColor: 'white', padding: '6px 16px', borderRadius: '20px', fontSize: '11px', color: '#9CA3AF', border: '1px solid #e5e7eb', fontWeight: '600' }}>Today</div>\r\n              \r\n              {localMessages.map(msg => (\r\n                <div key={msg.id} style={{ alignSelf: msg.sender === 'user' ? 'flex-start' : 'flex-end', maxWidth: '85%' }}>\r\n                   <div style={{ \r\n                     backgroundColor: msg.sender === 'user' ? 'white' : '#38AC57', \r\n                     color: msg.sender === 'user' ? '#374151' : 'white', \r\n                     padding: '1rem 1.25rem', \r\n                     borderRadius: '18px', \r\n                     borderBottomLeftRadius: msg.sender === 'user' ? 0 : '18px',\r\n                     borderBottomRightRadius: msg.sender === 'admin' ? 0 : '18px',\r\n                     boxShadow: '0 1px 3px rgba(0,0,0,0.05)', \r\n                     border: msg.sender === 'user' ? '1px solid #f3f4f6' : 'none' \r\n                   }}>\r\n                     <p style={{ margin: 0, fontSize: '14px', lineHeight: '1.5' }}>{msg.text}</p>\r\n                   </div>\r\n                   <span style={{ fontSize: '10px', color: '#9CA3AF', marginTop: '6px', textAlign: msg.sender === 'user' ? 'left' : 'right', display: 'block', fontWeight: '600' }}>{msg.time}</span>\r\n                </div>\r\n              ))}\r\n              <div ref={chatEndRef} />\r\n            </div>\r\n\r\n            {/* Chat Input */}\r\n            <div style={{ padding: '1.5rem 2rem', borderTop: '1px solid #f3f4f6' }}>\r\n              <form onSubmit={handleSendMessage} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', backgroundColor: '#F3F4F6', padding: '0.6rem 1.2rem', borderRadius: '30px' }}>\r\n                <button type=\"button\" style={{ border: 'none', background: 'none', color: '#9CA3AF', cursor: 'pointer', padding: '0.4rem' }}>\r\n                  <Paperclip size={20} />\r\n                </button>\r\n                <input \r\n                  type=\"text\" \r\n                  value={messageInput}\r\n                  onChange={(e) => setMessageInput(e.target.value)}\r\n                  placeholder=\"Type your message...\" \r\n                  style={{ flex: 1, border: 'none', background: 'none', outline: 'none', padding: '0.6rem 0', fontSize: '0.95rem' }}\r\n                />\r\n                <button type=\"button\" style={{ border: 'none', background: 'none', color: '#9CA3AF', cursor: 'pointer', padding: '0.4rem' }}>\r\n                  <Smile size={20} />\r\n                </button>\r\n                <button type=\"submit\" style={{ border: 'none', background: '#38AC57', color: 'white', width: '40px', height: '40px', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', boxShadow: '0 4px 6px -1px rgba(56, 172, 87, 0.3)', flexShrink: 0 }}>\r\n                  <Send size={18} />\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\VerificationBadges.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\Commission.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\CommissionRules.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\DailyBonus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\DocumentRequirements.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\FareStructure.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\PricingMatrix.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\ProfileTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\ServiceRegions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\SurgeControl.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\TeamManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\pages\\settings_tabs\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\ezzni\\frontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
